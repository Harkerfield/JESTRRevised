/*! For license information please see main.565c0345.js.LICENSE.txt */
!function(){var e={388:function(e,t,n){if("undefined"==typeof i)var i={};if(function(){function e(e){var t=i.Date.Cache.Ticks;if(t[e])return i.Stats.cacheHitsTicks+=1,t[e];var n,r=new Date(e),a=r.getUTCMilliseconds();n=0===a?"":a<10?".00"+a:a<100?".0"+a:"."+a;var o=r.getUTCSeconds();o<10&&(o="0"+o);var s=r.getUTCMinutes();s<10&&(s="0"+s);var l=r.getUTCHours();l<10&&(l="0"+l);var u=r.getUTCDate();u<10&&(u="0"+u);var c=r.getUTCMonth()+1;c<10&&(c="0"+c);var d=r.getUTCFullYear();if(d<=0)throw"The minimum year supported is 1.";d<10?d="000"+d:d<100?d="00"+d:d<1e3&&(d="0"+d);var h=d+"-"+c+"-"+u+"T"+l+":"+s+":"+o+n;return t[e]=h,h}function t(e,t){return!i.Util.isNullOrUndefined(e)&&!i.Util.isNullOrUndefined(t)&&e.toLocaleLowerCase()===t.toLocaleLowerCase()}function n(e){e=Math.min(e,255);var t=(e=Math.max(e,0)).toString(16);return e<16?"0"+t:t}if("undefined"==typeof i.$){"undefined"==typeof i.Global&&(i.Global={}),i.$=function(e){return document.getElementById(e)},i.isKhtml=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("KHTML"),i.isIE=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE"),i.mo2=function(e,t){if("undefined"!=typeof(t=t||window.event).offsetX){var n={x:t.offsetX+1,y:t.offsetY+1};if(!e)return n;for(var r=t.srcElement;r&&r!==e;)"SPAN"!==r.tagName&&(n.x+=r.offsetLeft,r.offsetTop>0&&(n.y+=r.offsetTop-r.scrollTop)),r=r.offsetParent;return r?n:null}if("undefined"!=typeof t.layerX){n={x:t.layerX,y:t.layerY,src:t.target};if(!e)return n;for(r=t.target;r&&"absolute"!==r.style.position&&"relative"!==r.style.position;)r=r.parentNode,i.isKhtml&&(n.y+=r.scrollTop);for(;r&&r!==e;)n.x+=r.offsetLeft,n.y+=r.offsetTop-r.scrollTop,r=r.offsetParent;return r?n:null}return null},i.mo3=function(e,t){var n,r=i.page(t);if(r)if(e){var a=i.abs(e);if(!a)throw new Error("no abs");n={x:r.x-a.x,y:r.y-a.y}}else n={x:r.x,y:r.y};else if(!(n=i.mo2(e,t)))return null;return n.shift=t.shiftKey,n.meta=t.metaKey,n.ctrl=t.ctrlKey,n.alt=t.altKey,n},i.browser={},i.browser.ie9=function(){var e=document.createElement("div");return e.innerHTML="\x3c!--[if IE 9]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length}(),i.browser.ielt9=function(){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lt IE 9]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length}(),i.browser.hover=!window.matchMedia("(any-hover: none)").matches,i.touch={},i.page=function(e){var t=e.changedTouches&&e.changedTouches[0]?e.changedTouches[0]:e;return"undefined"==typeof t.pageX||i.browser.ie?"undefined"!=typeof e.clientX&&document.body&&document.documentElement?{x:e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:e.clientY+document.body.scrollTop+document.documentElement.scrollTop}:null:{x:t.pageX,y:t.pageY}},i.abs=function(e,t){if(!e)return null;if(e.getBoundingClientRect){var n=i.absBoundingClientBased(e);if(t){var r=i.absOffsetBased(e,!1);t=i.absOffsetBased(e,!0);n.x+=t.x-r.x,n.y+=t.y-r.y,n.w=t.w,n.h=t.h}return n}return i.absOffsetBased(e,t)},i.absBoundingClientBased=function(e){var t=e.getBoundingClientRect();return{x:t.left+window.pageXOffset,y:t.top+window.pageYOffset,w:e.clientWidth,h:e.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}}},i.absOffsetBased=function(e,t){for(var n={x:e.offsetLeft,y:e.offsetTop,w:e.clientWidth,h:e.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};e.offsetParent;)e=e.offsetParent,n.x-=e.scrollLeft,n.y-=e.scrollTop,t&&(n.x<0&&(n.w+=n.x,n.x=0),n.y<0&&(n.h+=n.y,n.y=0),e.scrollLeft>0&&n.x+n.w>e.clientWidth&&(n.w-=n.x+n.w-e.clientWidth),e.scrollTop&&n.y+n.h>e.clientHeight&&(n.h-=n.y+n.h-e.clientHeight)),n.x+=e.offsetLeft,n.y+=e.offsetTop;var r=i.pageOffset();return n.x+=r.x,n.y+=r.y,n},i.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},i.distance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},i.sheet=function(){var e=document.createElement("style");e.setAttribute("type","text/css"),e.styleSheet||e.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(e);var t=!!e.styleSheet,n={rules:[],commit:function(){t&&(e.styleSheet.cssText=this.rules.join("\n"))},add:function(n,i,r){return t?void this.rules.push(n+"{"+i+"}"):void(e.sheet.insertRule?("undefined"==typeof r&&(r=e.sheet.cssRules.length),e.sheet.insertRule(n+"{"+i+"}",r)):e.sheet.addRule&&e.sheet.addRule(n,i,r))}};return n},i.gs=function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)||""},i.StyleReader=function(e){this.get=function(t){return e?i.gs(e,t):null},this.getPx=function(e){var t=this.get(e);return-1===t.indexOf("px")?void 0:parseInt(t,10)}},function(){if(!i.Global.defaultCss){var e=i.sheet();e.add(".calendar_default_main","border: 1px solid #c0c0c0; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"),e.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after","box-sizing: content-box;"),e.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner","color: #333;background: #f3f3f3;"),e.add(".calendar_default_cornerright_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;\tborder-bottom: 1px solid #c0c0c0;"),e.add(".calendar_default_direction_rtl .calendar_default_cornerright_inner","border-right: 1px solid #c0c0c0;"),e.add(".calendar_default_rowheader_inner","font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; padding: 3px;"),e.add(".calendar_default_direction_rtl .calendar_default_rowheader_inner","border-right: none;"),e.add(".calendar_default_corner_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),e.add(".calendar_default_direction_rtl .calendar_default_corner_inner","border-right: none;"),e.add(".calendar_default_rowheader_minutes","font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"),e.add(".calendar_default_colheader_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; display: flex; align-items: center; justify-content: center; font-size: 13px;"),e.add(".calendar_default_cell_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"),e.add(".calendar_default_cell_business .calendar_default_cell_inner","background: #fff"),e.add(".calendar_default_alldayheader_inner","text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),e.add(".calendar_default_message","opacity: 0.9; padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner","color: #333; border: 1px solid #999;"),e.add(".calendar_default_event_bar","top: 0px;bottom: 0px;left: 0px;width: 6px;background-color: #9dc8e8;"),e.add(".calendar_default_event_bar_inner","position: absolute;width: 6px;background-color: #1066a8;"),e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".calendar_default_selected .calendar_default_event_inner","background: #ddd;"),e.add(".calendar_default_alldayevent_inner","position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;overflow:hidden;padding: 2px;margin-right: 1px; font-size: 13px;"),e.add(".calendar_default_event_withheader .calendar_default_event_inner","padding-top: 15px;"),e.add(".calendar_default_event","cursor: default;"),e.add(".calendar_default_event_inner","position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 8px; font-size: 13px;"),e.add(".calendar_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),e.add(".calendar_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".calendar_default_scroll_up","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),e.add(".calendar_default_scroll_down","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),e.add(".calendar_default_now","background-color: red;"),e.add(".calendar_default_now:before","content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"),e.add(".calendar_default_shadow_top",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".calendar_default_shadow_bottom",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top","background-color: gray; opacity: 0.2;"),e.add(".calendar_default_loading","background-color: orange; color: white; padding: 2px;"),e.add(".calendar_default_scroll","background-color: #f3f3f3;"),e.add(".calendar_default_event_moving_source","opacity: 0.5;"),e.add(".calendar_default_shadow_inner","box-sizing: border-box; background-color: #bbbbbb;border: 1px solid #888888;opacity: 0.5;height: 100%;"),e.add(".calendar_default_shadow","box-shadow: 0 2px 5px rgba(0,0,0,.2);"),e.add(".menu_default_main","user-select:none; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;font-size: 13px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),e.add(".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after","box-sizing: content-box;"),e.add(".menu_default_title","background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),e.add(".menu_default_main a","padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),e.add(".menu_default_main.menu_default_withchildren a","padding: 2px 35px 2px 35px;"),e.add(".menu_default_main a img","margin-left: 6px;margin-top: 2px;"),e.add(".menu_default_item_text","display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px; white-space: nowrap;"),e.add(".menu_default_main a:hover","background-color: #f3f3f3;"),e.add(".menu_default_main div div","border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),e.add(".menu_default_main a.menu_default_item_disabled","color: #ccc"),e.add(".menu_default_item_haschildren.menu_default_item_haschildren_active","background-color: #f3f3f3;"),e.add(".menu_default_item_haschildren a:before","content: ''; border-width: 5px; border-color: transparent transparent transparent #666; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 5px;"),e.add(".menu_default_item_icon","position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"),e.add(".menu_default_item a i","height: 20px;line-height: 20px;"),e.add(".menu_default_item .menu_default_item_symbol","width: 18px; height: 18px; color: #999; margin-left: 6px;margin-top: 2px;"),e.add(".menubar_default_main","border-bottom: 1px solid #ccc; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px; user-select:none;"),e.add(".menubar_default_item","display: inline-block;  padding: 6px 10px; cursor: default;"),e.add(".menubar_default_item:hover","background-color: #f2f2f2;"),e.add(".menubar_default_item_active","background-color: #f2f2f2;"),e.add(".scheduler_default_selected .scheduler_default_event_inner","background: #ddd;"),e.add(".scheduler_default_main","border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"),e.add(".scheduler_default_timeheader","cursor: default;color: #333;"),e.add(".scheduler_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol","color: #333;background: #f3f3f3;"),e.add(".scheduler_default_rowheader,.scheduler_default_corner","color: #333;background: #f3f3f3;"),e.add(".scheduler_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;"),e.add(".scheduler_default_timeheadergroup, .scheduler_default_timeheadercol","text-align: center;"),e.add(".scheduler_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),e.add(".scheduler_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"),e.add(".scheduler_default_divider","background-color: #c0c0c0;"),e.add(".scheduler_default_divider_horizontal","background-color: #c0c0c0;"),e.add(".scheduler_default_matrix_vertical_line","background-color: #eee;"),e.add(".scheduler_default_matrix_vertical_break","background-color: #000;"),e.add(".scheduler_default_matrix_horizontal_line","background-color: #eee;"),e.add(".scheduler_default_resourcedivider","background-color: #c0c0c0;"),e.add(".scheduler_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;xborder-radius: 5px;"),e.add(".scheduler_default_event","color:#333; font-size: 13px;"),e.add(".scheduler_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),e.add(".scheduler_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),e.add(".scheduler_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),e.add(".scheduler_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".scheduler_default_event_float_inner","padding:6px 2px 2px 8px;"),e.add(".scheduler_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),e.add(".scheduler_default_columnheader_inner","font-weight: bold;"),e.add(".scheduler_default_columnheader_splitter","background-color: #666;opacity: 0.5;filter: alpha(opacity=50);"),e.add(".scheduler_default_columnheader_cell_inner","padding: 2px;"),e.add(".scheduler_default_cell","background-color: #f9f9f9;"),e.add(".scheduler_default_cell.scheduler_default_cell_business","background-color: #fff;"),e.add(".navigator_default_main","border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),e.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after","box-sizing: content-box;"),e.add(".navigator_default_month","font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 12px;"),e.add(".navigator_default_day","color: black;"),e.add(".navigator_default_weekend","background-color: #f0f0f0;"),e.add(".navigator_default_dayheader","color: black;"),e.add(".navigator_default_line","border-bottom: 1px solid #c0c0c0;"),e.add(".navigator_default_dayother","color: gray;"),e.add(".navigator_default_todaybox","border: 1px solid red;"),e.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright","border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),e.add(".navigator_default_busy","font-weight: bold;"),e.add(".navigator_default_cell","text-align: center;"),e.add(".navigator_default_select .navigator_default_cell_box","background-color: #FFE794; opacity: 0.5;"),e.add(".navigator_default_title","text-align: center;"),e.add(".navigator_default_titleleft, .navigator_default_titleright","text-align: center;"),e.add(".navigator_default_dayheader","text-align: center;"),e.add(".navigator_default_weeknumber","text-align: center; color: #999;"),e.add(".navigator_default_cell_text","cursor: pointer;"),e.add(".month_default_main","border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;color: #333;"),e.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after","box-sizing: content-box;"),e.add(".month_default_cell_inner","border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"),e.add(".month_default_cell_business .month_default_cell_inner","background-color: #fff;"),e.add(".month_default_cell_header","text-align: right; padding: 4px; box-sizing: border-box;"),e.add(".month_default_header_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3; overflow:hidden; display: flex; align-items: center; justify-content: center;"),e.add(".month_default_message","padding: 10px;opacity: 0.9; color: #ffffff;background: #ffa216;"),e.add(".month_default_event_inner","position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 10px;color: #333;background: #fff;background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);border: 1px solid #999;border-radius: 0px;display: flex; align-items: center; font-size: 13px;"),e.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"),e.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"),e.add(".month_default_event_bar","top: 0px;bottom: 0px;left: 0px;width: 6px;"),e.add(".month_default_event_bar_inner","position: absolute;width: 6px;background-color: #1066a8;"),e.add(".month_default_event_continueleft .month_default_event_bar","display: none;"),e.add(".month_default_selected .month_default_event_inner","background: #ddd;"),e.add(".month_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),e.add(".month_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".month_default_event_timeleft","color: #ccc; font-size: 8pt"),e.add(".month_default_event_timeright","color: #ccc; font-size: 8pt; text-align: right;"),e.add(".month_default_loading","background-color: orange; color: white; padding: 2px;"),e.add(".month_default_shadow_inner","box-sizing: border-box; background-color: #bbbbbb;border: 1px solid #888888;opacity: 0.5;height: 100%;"),e.add(".month_default_shadow","box-shadow: 0 2px 5px rgba(0,0,0,.2);"),e.commit(),i.Global.defaultCss=!0}}(),i.doc=function(){var e=document.documentElement;return e&&e.clientHeight?e:document.body},i.guid=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},i.pageOffset=function(){if("undefined"!=typeof pageXOffset)return{x:pageXOffset,y:pageYOffset};var e=i.doc();return{x:e.scrollLeft,y:e.scrollTop}},i.indexOf=function(e,t){if(!e||!e.length)return-1;for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},i.ac=function(e,t){if(!t)t=[];for(var n=0;e.children&&n<e.children.length;n++)t.push(e.children[n]),i.ac(e.children[n],t);return t},i.rfa=function(e,t){var n=i.indexOf(e,t);-1!==n&&e.splice(n,1)},i.mc=function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}},i.Stats={},i.Stats.eventObjects=0,i.Stats.dateObjects=0,i.Stats.cacheHitsCtor=0,i.Stats.cacheHitsParsing=0,i.Stats.cacheHitsTicks=0,i.re=function(e,t,n){n&&t&&e&&e.addEventListener(t,n,!1)},i.rePassive=function(e,t,n){n&&t&&e&&e.addEventListener(t,n,{passive:!0})},i.reNonPassive=function(e,t,n){n&&t&&e&&e.addEventListener(t,n,{passive:!1})},i.pu=function(e){var t,n,r,a=e.attributes;if(a)for(n=a.length,t=0;t<n;t+=1)a[t]&&("function"==typeof e[r=a[t].name]&&(e[r]=null));if(a=e.childNodes)for(n=a.length,t=0;t<n;t+=1)i.pu(e.childNodes[t])},i.de=function(e){if(e)if(i.isArray(e))for(var t=0;t<e.length;t++)i.de(e[t]);else e.parentNode&&e.parentNode.removeChild(e)},i.sw=function(e){return e?e.offsetWidth-e.clientWidth:0},i.am=function(){return"undefined"==typeof angular?null:(i.am.cached||(i.am.cached=angular.module("daypilot",[])),i.am.cached)},i.Selection=function(e,t,n,r){this.type="selection",this.start=e.isDayPilotDate?e:new i.Date(e),this.end=t.isDayPilotDate?t:new i.Date(t),this.resource=n,this.root=r,this.toJSON=function(e){var t={};return t.start=this.start,t.end=this.end,t.resource=this.resource,t}},i.request=function(e,t,n,r){var a=i.createXmlHttp();a&&(a.open("POST",e,!0),a.setRequestHeader("Content-type","text/plain"),a.onreadystatechange=function(){if(4===a.readyState)return 200!==a.status&&304!==a.status?void(r?r(a):window.console&&console.log("HTTP error "+a.status)):void t(a)},4!==a.readyState&&("object"==typeof n&&(n=JSON.stringify(n)),a.send(n)))},i.ajax=function(e){if(!e)throw new i.Exception("Parameter object required.");if("string"!=typeof e.url)throw new i.Exception("The parameter object must have 'url' property.");var t=i.createXmlHttp();if(!t)throw new i.Exception("Unable to create XMLHttpRequest object");var n="object"==typeof e.data,r=e.data,a=e.method||(e.data?"POST":"GET"),o=e.success||function(){},s=e.error||function(){},l=e.url,u=e.contentType||(n?"application/json":"text/plain"),c=e.headers||{};t.open(a,l,!0),t.setRequestHeader("Content-type",u),i.Util.ownPropsAsArray(c).forEach((function(e){t.setRequestHeader(e.key,e.val)})),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status||201===t.status||204===t.status||304===t.status){(e={}).request=t,t.responseText&&(e.data=JSON.parse(t.responseText)),o(e)}else if(s){var e;(e={}).request=t,s(e)}else window.console&&console.log("HTTP error "+t.status)},4!==t.readyState&&(n&&(r=JSON.stringify(r)),t.send(r))},i.createXmlHttp=function(){return new XMLHttpRequest},i.Http={},i.Http.ajax=function(e){i.ajax(e)},i.Http.get=function(e,t){return t=t||{},new Promise((function(n,r){var a={};a.url=e,a.method="GET",a.success=function(e){n(e)},a.error=function(e){r(e)},a.contentType=t.contentType,a.headers=t.headers,i.ajax(a)}))},i.Http.post=function(e,t,n){return n=n||{},new Promise((function(r,a){var o={};o.url=e,o.method="POST",o.data=t,o.success=function(e){r(e)},o.error=function(e){a(e)},o.contentType=n.contentType,o.headers=n.headers,i.ajax(o)}))},i.Http.put=function(e,t,n){return n=n||{},new Promise((function(r,a){var o={};o.url=e,o.method="PUT",o.data=t,o.success=function(e){r(e)},o.error=function(e){a(e)},o.contentType=n.contentType,o.headers=n.headers,i.ajax(o)}))},i.Http.delete=function(e,t){return t=t||{},new Promise((function(n,r){var a={};a.url=e,a.method="DELETE",a.success=function(e){n(e)},a.error=function(e){r(e)},a.contentType=t.contentType,a.headers=t.headers,i.ajax(a)}))},i.Util={},i.Util.addClass=function(e,t){if(e){if(!e.className)return void(e.className=t);new RegExp("(^|\\s)"+t+"($|\\s)").test(e.className)||(e.className=e.className+" "+t)}},i.Util.removeClass=function(e,t){if(e){var n=new RegExp("(^|\\s)"+t+"($|\\s)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},i.Util.copyProps=function(e,t,n){if(t||(t={}),!e)return t;if("undefined"==typeof n)for(var i in e)e.hasOwnProperty(i)&&"undefined"!=typeof e[i]&&(t[i]=e[i]);else for(var r=0;r<n.length;r++){"undefined"!=typeof e[i=n[r]]&&(t[i]=e[i])}return t},i.Util.ownPropsAsArray=function(e){var t=[];if(!e)return t;for(var n in e)if(e.hasOwnProperty(n)){var i={};i.key=n,i.val=e[n],t.push(i)}return t},i.Util.replaceCharAt=function(e,t,n){return e.substr(0,t)+n+e.substr(t+n.length)},i.Util.isNullOrUndefined=function(e){return null===e||"undefined"==typeof e},i.Util.escapeHtml=function(e){var t=document.createElement("div");return t.innerText=e,t.innerHTML},i.Util.escapeTextHtml=function(e,t){return i.Util.isNullOrUndefined(t)?i.Util.isNullOrUndefined(e)?"":i.Util.escapeHtml(e):t},i.Areas={},i.Areas.attach=function(e,t,n){var a=(n=n||{}).areas,o=n.allowed||function(){return!0},s=n.offsetX||0;(a=r(t,a))&&i.isArray(a)&&0!==a.length&&(i.re(e,"mousemove",(function(r){e.active||e.areasDisabled||!o()||i.Areas.showAreas(e,t,r,a,{offsetX:s,eventDiv:n.eventDiv})})),i.re(e,"mouseleave",(function(t){i.Areas.hideAreas(e,t)})),a.forEach((function(r){if(i.Areas.isVisible(r)){var a=i.Areas.createArea(e,t,r,{offsetX:s,eventDiv:n.eventDiv});e.appendChild(a)}})))},i.Areas.disable=function(e){e.areasDisabled=!0,Array.from(e.childNodes).filter((function(e){return e.isActiveArea&&!e.area.start})).forEach((function(e){e.c=e.style.display,e.style.display="none"}))},i.Areas.enable=function(e){e.areasDisabled=!1,Array.from(e.childNodes).filter((function(e){return e.isActiveArea&&!e.area.start})).forEach((function(e){e.c?e.style.display=e.c:e.style.display=""}))},i.Areas.remove=function(e){var t=Array.from(e.childNodes).filter((function(e){return e.isActiveArea}));i.de(t)},i.Areas.isVisible=function(e){var t=e.visibility||e.v||"Visible";return"Visible"===t||"TouchVisible"===t&&!i.browser.hover},i.Areas.copy=function(e){return i.isArray(e)?e.map((function(e){return i.Util.copyProps(e,{})})):[]};var r=function(e,t){return i.isArray(t)||((t=e.areas)||(e.cache?t=e.cache.areas:e.data&&(t=e.data.areas))),t};i.Areas.showAreas=function(e,t,n,r,a){if(!i.Global.resizing&&!i.Global.moving&&!i.Global.selecting&&!e.active&&i.browser.hover){if(i.Areas.all&&i.Areas.all.length>0)for(var o=0;o<i.Areas.all.length;o++){var s=i.Areas.all[o];s!==e&&i.Areas.hideAreas(s,n)}if(e.active={},i.isArray(r)||((r=t.areas)||(t.cache?r=t.cache.areas:t.data&&(r=t.data.areas))),r&&0!==r.length&&!(e.areas&&e.areas.length>0)){e.areas=[];for(o=0;o<r.length;o++){var l=r[o];if(!i.Areas.isVisible(l)){var u=i.Areas.createArea(e,t,l,a);e.areas.push(u),e.appendChild(u),i.Areas.all.push(e)}}e.active.children=i.ac(e)}}},i.Areas.createArea=function(e,t,n,r){function a(e,t,n){var i={};return i.area=e,i.source=t,i.originalEvent=n,i.preventDefault=function(){i.preventDefault.value=!0},"function"==typeof e.onClick&&e.onClick(i),i}function o(e,t,n,r){i.Menu&&i.Menu.touchPosition(r);var a=n.contextMenu||n.menu;if(a instanceof i.Menu||(t.isEvent&&t.client.contextMenu()?a=t.client.contextMenu():t.isEvent&&t.calendar.contextMenu&&(a=t.calendar.contextMenu)),a&&a.show){var o={type:"area",div:e,e:t,area:n,a:u};a.show(t,{initiator:o})}}function s(e){return"string"==typeof e&&isNaN(e)?e:"undefined"!=typeof e?e+"px":void 0}var l=((r=r||{}).offsetX,r.eventDiv||e),u=document.createElement("div");u.isActiveArea=!0,u.area=n,u.setAttribute("unselectable","on");var c=n.w||n.width,d=n.h||n.height,h=n.cssClass||n.css||n.className;if("undefined"!=typeof n.style&&u.setAttribute("style",n.style),u.style.position="absolute",u.style.width=s(c),u.style.height=s(d),u.style.right=s(n.right),u.style.top=s(n.top),u.style.left=s(n.left),u.style.bottom=s(n.bottom),"undefined"!=typeof n.html||"undefined"!=typeof n.text)u.innerHTML=i.Util.escapeTextHtml(n.text,n.html);else if(n.icon){var f=document.createElement("i");f.className=n.icon,u.appendChild(f)}else if(n.image){var p=document.createElement("img");p.src=n.image,u.appendChild(p)}else if(n.symbol){var v="http://www.w3.org/2000/svg",g=document.createElementNS(v,"svg");g.setAttribute("width","100%"),g.setAttribute("height","100%");var m=document.createElementNS(v,"use");m.setAttribute("href",n.symbol),g.appendChild(m),u.appendChild(g)}if(h&&(u.className=h),n.toolTip&&u.setAttribute("title",n.toolTip),n.backColor&&(u.style.background=n.backColor),n.background&&(u.style.background=n.background),n.fontColor&&(u.style.color=n.fontColor),n.padding&&(u.style.padding=n.padding+"px",u.style.boxSizing="border-box"),n.verticalAlignment)switch(u.style.display="flex",n.verticalAlignment){case"center":u.style.alignItems="center";break;case"top":u.style.alignItems="flex-start";break;case"bottom":u.style.alignItems="flex-end"}if(n.horizontalAlignment)switch(u.style.display="flex",n.horizontalAlignment){case"right":u.style.justifyContent="flex-end";break;case"left":u.style.justifyContent="flex-start";break;case"center":u.style.justifyContent="center"}if("ResizeEnd"===n.action||"ResizeStart"===n.action||"Move"===n.action){if(t.calendar.isCalendar)switch(n.action){case"ResizeEnd":n.cursor="s-resize",n.dpBorder="bottom";break;case"ResizeStart":n.cursor="n-resize",n.dpBorder="top";break;case"Move":n.cursor="move"}if(t.calendar.isScheduler||t.calendar.isMonth)switch(n.action){case"ResizeEnd":n.cursor="e-resize",n.dpBorder="right";break;case"ResizeStart":n.cursor="w-resize",n.dpBorder="left";break;case"Move":n.cursor="move"}u.onmousemove=function(e,t,n){return function(i){t.calendar.internal&&t.calendar.internal.dragInProgress&&t.calendar.internal.dragInProgress()||(i.cancelBubble=!0,e.style.cursor=n.cursor,n.dpBorder&&(e.dpBorder=n.dpBorder))}}(l,t,n),u.onmouseout=function(e,t,n){return function(t){e.style.cursor=""}}(l)}if(("ResizeEnd"===n.action||"ResizeStart"===n.action)&&t.isEvent&&t.calendar.internal.touch){var y=function(e,t,n){return function(i){i.cancelBubble=!0;var r=t.calendar.internal.touch,a=i.touches?i.touches[0]:i,o={x:a.pageX,y:a.pageY};t.calendar.coords=r.relativeCoords(i),r.preventEventTap=!0,t.calendar.isScheduler?r.startResizing(e,"ResizeEnd"===n.action?"right":"left"):t.calendar.isCalendar&&r.startResizing(e,"ResizeEnd"===n.action?"bottom":"top",o)}}(l,t,n);i.rePassive(u,i.touch.start,y)}if("ContextMenu"===n.action&&t.isEvent&&t.calendar.internal.touch){y=function(e,t,n){return function(i){i.cancelBubble=!0,i.preventDefault(),o(e,t,n,i),t.calendar.internal.touch.preventEventTap=!0}}(l,t,n);var b=function(e){e.cancelBubble=!0,e.preventDefault()};i.reNonPassive(u,i.touch.start,y),i.reNonPassive(u,i.touch.end,b)}if("Bubble"===n.action&&t.isEvent&&t.calendar.internal.touch){y=function(e,t,n){return function(e){e.cancelBubble=!0,e.preventDefault();var r=a(n,t,e);r.preventDefault.value||(!function(e,t,n){i.Bubble&&i.Bubble.touchPosition(n),e.calendar.bubble&&e.calendar.bubble.showEvent(e,!0)}(t,0,e),t.calendar.internal.touch.preventEventTap=!0,"function"==typeof n.onClicked&&n.onClicked(r))}}(0,t,n),b=function(e){e.cancelBubble=!0,e.preventDefault()};i.reNonPassive(u,i.touch.start,y),i.reNonPassive(u,i.touch.end,b)}if("Move"===n.action&&t.isEvent&&t.calendar.internal.touch){y=function(e,t,n){return function(n){n.cancelBubble=!0;var r=t.calendar.internal.touch,a=n.touches?n.touches[0]:n,o={x:a.pageX,y:a.pageY};t.calendar.coords=r.relativeCoords(n),i.Global&&i.Global.touch&&(i.Global.touch.active=!0),r.preventEventTap=!0,r.startMoving(e,o)}}(l,t);i.rePassive(u,i.touch.start,y)}if("Bubble"===n.action&&t.isEvent?(u.onmousemove=function(e,t,n){return function(e){n.bubble?n.bubble.showEvent(t,!0):t.calendar.bubble&&t.calendar.bubble.showEvent(t,!0)}}(0,t,n),u.onmouseout=function(e,t,n){return function(e){"undefined"!=typeof i.Bubble&&(n.bubble?n.bubble.hideOnMouseOut():t.calendar.bubble&&t.calendar.bubble.hideOnMouseOut())}}(0,t,n)):"Bubble"===n.action&&t.isRow?(u.onmousemove=function(e,t,n){return function(e){n.bubble?n.bubble.showResource(t,!0):t.calendar.resourceBubble&&t.calendar.resourceBubble.showResource(t,!0)}}(0,t,n),u.onmouseout=function(e,t,n){return function(e){"undefined"!=typeof i.Bubble&&(n.bubble?n.bubble.hideOnMouseOut():t.calendar.resourceBubble&&t.calendar.resourceBubble.hideOnMouseOut())}}(0,t,n)):"Bubble"===n.action&&"undefined"!=typeof i.Bubble&&n.bubble instanceof i.Bubble&&(u.onmousemove=function(e,t,n){return function(e){n.bubble.showHtml(null,null)}}(0,0,n),u.onmouseout=function(e,t,n){return function(e){"undefined"!=typeof i.Bubble&&n.bubble&&n.bubble.hideOnMouseOut()}}(0,0,n)),"HoverMenu"===n.action&&(u.onmousemove=function(e,t,n){return function(e){var i=n.menu;i&&i.show&&(i.visible?i.source&&"undefined"!=typeof i.source.id&&i.source.id!==t.id&&i.show(t):i.show(t),i.cancelHideTimeout())}}(0,t,n),u.onmouseout=function(e,t,n){return function(e){var t=n.menu;t&&t.hideOnMouseOver&&t.delayedHide()}}(0,0,n)),"None"===n.action){y=function(e,t,n){return function(e){var i=a(n,t,e);"function"==typeof n.onClicked&&n.onClicked(i),e.preventDefault(),e.stopPropagation()}}(0,t,n);i.reNonPassive(u,i.touch.start,y)}return u.onmousedown=function(e,t,n){return function(r){if("function"==typeof n.onmousedown&&n.onmousedown(r),"function"==typeof n.mousedown){var a={};a.area=n,a.div=e,a.originalEvent=r,a.source=t,n.mousedown(a)}if("Move"===n.action&&t.isRow){var o=t.$.row;(0,t.calendar.internal.rowStartMoving)(o)}"undefined"!=typeof i.Bubble&&i.Bubble.hideActive(),"Move"===n.action&&(i.Global.movingAreaData=n.data),"Move"===n.action&&t.isEvent&&t.calendar.internal&&t.calendar.internal.startMoving&&t.calendar.internal.startMoving(e,r),"Move"!==n.action&&"ResizeEnd"!==n.action&&"ResizeStart"!==n.action&&n.action&&"Default"!==n.action&&(r.preventDefault(),r.cancelBubble=!0)}}(e,t,n),u.onclick=function(e,t,n){return function(i){var r=a(n,t,i);if(!r.preventDefault.value){switch(n.action){case"ContextMenu":o(e,t,n,i),i.cancelBubble=!0;break;case"None":i.cancelBubble=!0}"function"==typeof n.onClicked&&n.onClicked(r)}}}(e,t,n),"function"==typeof n.onMouseEnter&&u.addEventListener("mouseenter",function(e,t,n){return function(e){var i={};i.area=n,i.source=t,i.originalEvent=e,n.onMouseEnter(i)}}(0,t,n)),"function"==typeof n.onMouseLeave&&u.addEventListener("mouseleave",function(e,t,n){return function(e){var i={};i.area=n,i.source=t,i.originalEvent=e,n.onMouseLeave(i)}}(0,t,n)),u},i.Areas.all=[],i.Areas.hideAreas=function(e,t){if(e&&e&&e.active){var n=e.active,r=e.areas;if(n&&n.children&&t){var a=t.toElement||t.relatedTarget;if(~i.indexOf(n.children,a))return}if(!r||0===r.length)return void(e.active=null);i.de(r),e.active=null,e.areas=[],i.rfa(i.Areas.all,e),n.children=null}},i.Areas.hideAll=function(e){if(i.Areas.all&&0!==i.Areas.all.length)for(var t=0;t<i.Areas.all.length;t++)i.Areas.hideAreas(i.Areas.all[t],e)},i.Exception=function(e){return new Error(e)},i.Locale=function(e,t){if(this.id=e,this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.datePattern="M/d/yyyy",this.timePattern="H:mm",this.dateTimePattern="M/d/yyyy H:mm",this.timeFormat="Clock12Hours",this.weekStarts=0,t)for(var n in t)this[n]=t[n]},i.Locale.all={},i.Locale.find=function(e){if(!e)return null;var t=e.toLowerCase();return t.length>2&&(t=i.Util.replaceCharAt(t,2,"-")),i.Locale.all[t]},i.Locale.register=function(e){i.Locale.all[e.id]=e},i.Locale.register(new i.Locale("ca-es",{dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],monthNames:["gener","febrer","mar\xe7","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],monthNamesShort:["gen.","febr.","mar\xe7","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("cs-cz",{dayNames:["ned\u011ble","pond\u011bl\xed","\xfater\xfd","st\u0159eda","\u010dtvrtek","p\xe1tek","sobota"],dayNamesShort:["ne","po","\xfat","st","\u010dt","p\xe1","so"],monthNames:["leden","\xfanor","b\u0159ezen","duben","kv\u011bten","\u010derven","\u010dervenec","srpen","z\xe1\u0159\xed","\u0159\xedjen","listopad","prosinec",""],monthNamesShort:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""],timePattern:"H:mm",datePattern:"d. M. yyyy",dateTimePattern:"d. M. yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("da-dk",{dayNames:["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],dayNamesShort:["s\xf8","ma","ti","on","to","fr","l\xf8"],monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"dd-MM-yyyy",dateTimePattern:"dd-MM-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("de-at",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["J\xe4nner","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["J\xe4n","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("de-ch",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("de-de",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("de-lu",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("en-au",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:1})),i.Locale.register(new i.Locale("en-ca",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),i.Locale.register(new i.Locale("en-gb",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("en-us",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"M/d/yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),i.Locale.register(new i.Locale("es-es",{dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("es-mx",{dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["do.","lu.","ma.","mi.","ju.","vi.","s\xe1."],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"hh:mm tt",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy hh:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),i.Locale.register(new i.Locale("eu-es",{dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig","al","as","az","og","or","lr"],monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("fi-fi",{dayNames:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],dayNamesShort:["su","ma","ti","ke","to","pe","la"],monthNames:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kes\xe4kuu","hein\xe4kuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],monthNamesShort:["tammi","helmi","maalis","huhti","touko","kes\xe4","hein\xe4","elo","syys","loka","marras","joulu",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("fr-be",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre",""],monthNamesShort:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c.",""],timePattern:"HH:mm",datePattern:"dd-MM-yy",dateTimePattern:"dd-MM-yy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("fr-ch",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre",""],monthNamesShort:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c.",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("fr-fr",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre",""],monthNamesShort:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("fr-lu",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre",""],monthNamesShort:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("gl-es",{dayNames:["domingo","luns","martes","m\xe9rcores","xoves","venres","s\xe1bado"],dayNamesShort:["do","lu","ma","m\xe9","xo","ve","s\xe1"],monthNames:["xaneiro","febreiro","marzo","abril","maio","xu\xf1o","xullo","agosto","setembro","outubro","novembro","decembro",""],monthNamesShort:["xan","feb","mar","abr","maio","xu\xf1o","xul","ago","set","out","nov","dec",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("it-it",{dayNames:["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("it-ch",{dayNames:["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("ja-jp",{dayNames:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],dayNamesShort:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],monthNames:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:0})),i.Locale.register(new i.Locale("nb-no",{dayNames:["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],dayNamesShort:["s\xf8","ma","ti","on","to","fr","l\xf8"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("nl-nl",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"d-M-yyyy",dateTimePattern:"d-M-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("nl-be",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"H:mm",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("nn-no",{dayNames:["s\xf8ndag","m\xe5ndag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesShort:["s\xf8","m\xe5","ty","on","to","fr","la"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("pt-br",{dayNames:["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),i.Locale.register(new i.Locale("pl-pl",{dayNames:["niedziela","poniedzia\u0142ek","wtorek","\u015broda","czwartek","pi\u0105tek","sobota"],dayNamesShort:["N","Pn","Wt","\u015ar","Cz","Pt","So"],monthNames:["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144",""],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017a","lis","gru",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("pt-pt",{dayNames:["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),i.Locale.register(new i.Locale("ro-ro",{dayNames:["duminic\u0103","luni","mar\u021bi","miercuri","joi","vineri","s\xe2mb\u0103t\u0103"],dayNamesShort:["D","L","Ma","Mi","J","V","S"],monthNames:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],monthNamesShort:["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("ru-ru",{dayNames:["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c",""],monthNamesShort:["\u044f\u043d\u0432","\u0444\u0435\u0432","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0439","\u0438\u044e\u043d","\u0438\u044e\u043b","\u0430\u0432\u0433","\u0441\u0435\u043d","\u043e\u043a\u0442","\u043d\u043e\u044f","\u0434\u0435\u043a",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("sk-sk",{dayNames:["nede\u013ea","pondelok","utorok","streda","\u0161tvrtok","piatok","sobota"],dayNamesShort:["ne","po","ut","st","\u0161t","pi","so"],monthNames:["janu\xe1r","febru\xe1r","marec","apr\xedl","m\xe1j","j\xfan","j\xfal","august","september","okt\xf3ber","november","december",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("sv-se",{dayNames:["s\xf6ndag","m\xe5ndag","tisdag","onsdag","torsdag","fredag","l\xf6rdag"],dayNamesShort:["s\xf6","m\xe5","ti","on","to","fr","l\xf6"],monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("tr-tr",{dayNames:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","\xc7a","Pe","Cu","Ct"],monthNames:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k",""],monthNamesShort:["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara",""],timePattern:"HH:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("uk-ua",{dayNames:["\u043d\u0435\u0434\u0456\u043b\u044f","\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0441\u0435\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440","\u043f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0441\u0443\u0431\u043e\u0442\u0430"],dayNamesShort:["\u041d\u0434","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],monthNames:["\u0441\u0456\u0447\u0435\u043d\u044c","\u043b\u044e\u0442\u0438\u0439","\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u043a\u0432\u0456\u0442\u0435\u043d\u044c","\u0442\u0440\u0430\u0432\u0435\u043d\u044c","\u0447\u0435\u0440\u0432\u0435\u043d\u044c","\u043b\u0438\u043f\u0435\u043d\u044c","\u0441\u0435\u0440\u043f\u0435\u043d\u044c","\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0436\u043e\u0432\u0442\u0435\u043d\u044c","\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0433\u0440\u0443\u0434\u0435\u043d\u044c",""],monthNamesShort:["\u0421\u0456\u0447","\u041b\u044e\u0442","\u0411\u0435\u0440","\u041a\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041b\u0438\u043f","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043e\u0432","\u041b\u0438\u0441","\u0413\u0440\u0443",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("zh-cn",{dayNames:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayNamesShort:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],monthNames:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708",""],monthNamesShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708",""],timePattern:"H:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d H:mm",timeFormat:"Clock24Hours",weekStarts:1})),i.Locale.register(new i.Locale("zh-tw",{dayNames:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayNamesShort:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],monthNames:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708",""],monthNamesShort:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708",""],timePattern:"tt hh:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d tt hh:mm",timeFormat:"Clock12Hours",weekStarts:0})),i.Locale.US=i.Locale.find("en-us"),i.Switcher=function(e){function t(e,t,i){var r={};r.start=e,r.end=t,r.day=i,r.target=n.k.control,r.preventDefault=function(){this.preventDefault.value=!0};var a=n.G;a&&a.start===r.start&&a.end===r.end&&a.day===r.day&&a.target===r.target||(n.G=r,"function"==typeof n.onChange&&(n.onChange(r),r.preventDefault.value)||"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(r),r.preventDefault.value)||(n.k.q(n.l),"function"==typeof n.onChanged&&n.onChanged(r),"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(r)))}var n=this;this.f=[],this.i=[],this.j={},this.selectedClass=null,this.k=null,this.l=i.Date.today(),this.onChange=null,this.onChanged=null,this.onSelect=null,this.j.updateMode=function(e){var t=n.j.control;t&&(t.selectMode=e,t.select(n.l))},this.addView=function(e,t){var i;if("string"==typeof e){if(!(i=document.getElementById(e)))throw"Element not found: "+e}else i=e;var r=i,a={m:!0};return a.n=r.id,a.control=r,a.o=t||{},a.p=function(){r.hide?r.hide():r.nav&&r.nav.top?r.nav.top.style.display="none":r.style.display="none"},a.q=function(e){r.backendUrl||"function"==typeof WebForm_DoCallback&&r.uniqueID?r.commandCallBack&&r.commandCallBack("navigate",{day:e}):(r.startDate=e,r.update())},a.s=function(){n.t(),r.show?r.show():r.nav&&r.nav.top?r.nav.top.style.display="":r.style.display=""},a.u=function(){if(a.o.navigatorSelectMode)return a.o.navigatorSelectMode;if(r.isCalendar)switch(r.viewType){case"Day":default:return"day";case"Week":case"WorkWeek":return"week"}else if(r.isMonth)switch(r.viewType){case"Month":return"month";case"Weeks":return"week";default:return"day"}return"day"},this.f.push(a),a},this.addTrigger=function(e,t){var r;if("string"==typeof e){if(!(r=document.getElementById(e)))throw"Element not found: "+e}else r=e;var a=this.z(t);a||(a=this.addView(t));var o={A:!0};return o.B=r,o.n=r.id,o.C=a,o.D=function(e){n.show(o),n.E(o),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},i.re(r,"click",o.D),this.i.push(o),o},this.addButton=this.addTrigger,this.select=function(e){var t=this.F(e);t?t.D():this.i.length>0&&this.i[0].D()},this.F=function(e){for(var t=0;t<this.i.length;t++){var n=this.i[t];if(n.n===e)return n}return null},this.E=function(e){if(this.selectedClass){for(var t=0;t<this.i.length;t++){var n=this.i[t];i.Util.removeClass(n.B,this.selectedClass)}i.Util.addClass(e.B,this.selectedClass)}},this.addNavigator=function(e){n.j.control=e,e.timeRangeSelectedHandling="JavaScript",e.onTimeRangeSelected=function(){var i,r,a;if(1===e.api)i=arguments[0],r=arguments[1],a=arguments[2];else{var o=arguments[0];i=o.start,r=o.end,a=o.day}n.l=a,t(i,r,a)}},this.show=function(e){var i,r;if(e.A)i=(r=e).C;else if(i=e.m?e:this.z(e),this.k===i)return;if(n.onSelect){var a={};a.source=r?r.B:null,a.target=i.control,n.onSelect(a)}this.k=i,i.s();var o=i.u();n.j.updateMode(o),t(n.j.control.selectionStart,n.j.control.selectionEnd.addDays(1),n.j.control.selectionDay)},this.z=function(e){for(var t=0;t<this.f.length;t++)if(this.f[t].control===e)return this.f[t];return null},this.t=function(){for(var e=0;e<this.f.length;e++)this.f[e].p()},Object.defineProperty(this,"active",{get:function(){return n.k}}),this.events={},this.events.load=function(e,t,i){if(!n.k||!n.k.control)throw"DayPilot.Switcher.events.load(): Active view not found";n.k.control.events.load(e,t,i)},this.G=null,this.H=function(){if(e)for(var t in e)if("triggers"===t){(e.triggers||[]).forEach((function(e){n.addTrigger(e.id,e.view)}))}else"navigator"===t?n.addNavigator(e.navigator):n[t]=e[t]},this.H()},i.Duration=function(e){var t=this,n=864e5,r=36e5,a=6e4,o=1e3;if(2===arguments.length){var s=arguments[0],l=arguments[1];if(!(s instanceof i.Date)&&"string"!=typeof s)throw"DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";if(!(l instanceof i.Date)&&"string"!=typeof l)throw"DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";"string"==typeof s&&(s=new i.Date(s)),"string"==typeof l&&(l=new i.Date(l)),e=l.getTime()-s.getTime()}return this.ticks=e,i.Date.Cache.DurationCtor[""+e]?i.Date.Cache.DurationCtor[""+e]:(i.Date.Cache.DurationCtor[""+e]=this,this.toString=function(e){if(!e)return t.days()+"."+t.hours()+":"+t.minutes()+":"+t.seconds()+"."+t.milliseconds();var n=t.minutes();n=(n<10?"0":"")+n;var i=e;return(i=(i=(i=(i=(i=i.replace("mm",n)).replace("m",t.minutes())).replace("H",t.hours())).replace("h",t.hours())).replace("d",t.days())).replace("s",t.seconds())},this.totalHours=function(){return t.ticks/r},this.totalDays=function(){return t.ticks/n},this.totalMinutes=function(){return t.ticks/a},this.totalSeconds=function(){return t.ticks/o},this.days=function(){return Math.floor(t.totalDays())},this.hours=function(){var e=t.ticks-t.days()*n;return Math.floor(e/r)},this.minutes=function(){var e=t.ticks-Math.floor(t.totalHours())*r;return Math.floor(e/a)},this.seconds=function(){var e=t.ticks-Math.floor(t.totalMinutes())*a;return Math.floor(e/o)},void(this.milliseconds=function(){return t.ticks%o}))},i.Duration.weeks=function(e){return new i.Duration(1e3*e*60*60*24*7)},i.Duration.days=function(e){return new i.Duration(1e3*e*60*60*24)},i.Duration.hours=function(e){return new i.Duration(1e3*e*60*60)},i.Duration.minutes=function(e){return new i.Duration(1e3*e*60)},i.Duration.seconds=function(e){return new i.Duration(1e3*e)},i.TimeSpan=function(){throw"Please use DayPilot.Duration class instead of DayPilot.TimeSpan."};try{i.TimeSpan.prototype=Object.create(i.Duration.prototype)}catch(e){}i.Date=function(t,n){if(t instanceof i.Date)return t;var r;i.Util.isNullOrUndefined(t)&&(t=r=i.DateUtil.fromLocal().getTime());var a=i.Date.Cache.Ctor;if(a[t])return i.Stats.cacheHitsCtor+=1,a[t];var o=!1;if("string"==typeof t)r=i.DateUtil.fromStringSortable(t,n).getTime(),o=!0;else if("number"==typeof t){if(isNaN(t))throw"Cannot create DayPilot.Date from NaN";r=t}else{if(!(t instanceof Date))throw"Unrecognized parameter: use Date, number or string in ISO 8601 format";r=n?i.DateUtil.fromLocal(t).getTime():t.getTime()}var s=e(r);return a[s]?a[s]:(a[s]=this,a[r]=this,o&&s!==t&&i.DateUtil.hasTzSpec(t)&&(a[t]=this),Object.defineProperty&&!i.browser.ielt9?(Object.defineProperty(this,"ticks",{get:function(){return r}}),Object.defineProperty(this,"value",{value:s,writable:!1,enumerable:!0})):(this.ticks=r,this.value=s),i.Date.Config.legacyShowD&&(this.d=new Date(r)),void(i.Stats.dateObjects+=1))},i.Date.Config={},i.Date.Config.legacyShowD=!1,i.Date.Cache={},i.Date.Cache.Parsing={},i.Date.Cache.Ctor={},i.Date.Cache.Ticks={},i.Date.Cache.DurationCtor={},i.Date.Cache.clear=function(){i.Date.Cache.Parsing={},i.Date.Cache.Ctor={},i.Date.Cache.Ticks={},i.Date.Cache.DurationCtor={}},i.Date.prototype.addDays=function(e){return e?new i.Date(this.ticks+24*e*60*60*1e3):this},i.Date.prototype.addHours=function(e){return e?this.addTime(60*e*60*1e3):this},i.Date.prototype.addMilliseconds=function(e){return e?this.addTime(e):this},i.Date.prototype.addMinutes=function(e){return e?this.addTime(60*e*1e3):this},i.Date.prototype.addMonths=function(e){if(!e)return this;var t=new Date(this.ticks),n=t.getUTCFullYear(),r=t.getUTCMonth()+1;if(e>0){for(;e>=12;)e-=12,n++;e>12-r?(n++,r=e-(12-r)):r+=e}else{for(;e<=-12;)e+=12,n--;r+e<=0?(n--,r=12+r+e):r+=e}var a=new Date(t.getTime());a.setUTCDate(1),a.setUTCFullYear(n),a.setUTCMonth(r-1);var o=new i.Date(a).daysInMonth();return a.setUTCDate(Math.min(o,t.getUTCDate())),new i.Date(a)},i.Date.prototype.addSeconds=function(e){return e?this.addTime(1e3*e):this},i.Date.prototype.addTime=function(e){return e?(e instanceof i.Duration&&(e=e.ticks),new i.Date(this.ticks+e)):this},i.Date.prototype.addYears=function(e){var t=new Date(this.ticks),n=new Date(this.ticks),r=this.getYear()+e,a=this.getMonth();n.setUTCDate(1),n.setUTCFullYear(r),n.setUTCMonth(a);var o=new i.Date(n).daysInMonth();return n.setUTCDate(Math.min(o,t.getUTCDate())),new i.Date(n)},i.Date.prototype.dayOfWeek=function(){return new Date(this.ticks).getUTCDay()},i.Date.prototype.getDayOfWeek=function(){return new Date(this.ticks).getUTCDay()},i.Date.prototype.getDayOfYear=function(){var e=this.firstDayOfYear();return i.DateUtil.daysDiff(e,this)+1},i.Date.prototype.daysInMonth=function(){var e=new Date(this.ticks),t=e.getUTCMonth()+1,n=e.getUTCFullYear(),i=[31,28,31,30,31,30,31,31,30,31,30,31];return 2!==t?i[t-1]:n%4!==0||n%100===0&&n%400!==0?i[1]:i[1]+1},i.Date.prototype.daysInYear=function(){var e=this.getYear();return e%4!==0||e%100===0&&e%400!==0?365:366},i.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/864e5)+1},i.Date.prototype.equals=function(e){if(null===e)return!1;if(e instanceof i.Date)return this===e;throw"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"},i.Date.prototype.firstDayOfMonth=function(){var e=new Date;return e.setUTCFullYear(this.getYear(),this.getMonth(),1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),new i.Date(e)},i.Date.prototype.firstDayOfYear=function(){var e=this.getYear(),t=new Date;return t.setUTCFullYear(e,0,1),t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),new i.Date(t)},i.Date.prototype.firstDayOfWeek=function(e){var t=this;if(e instanceof i.Locale)e=e.weekStarts;else if("string"==typeof e&&i.Locale.find(e)){e=i.Locale.find(e).weekStarts}else e=e||0;for(var n=t.dayOfWeek();n!==e;)n=(t=t.addDays(-1)).dayOfWeek();return new i.Date(t)},i.Date.prototype.getDay=function(){return new Date(this.ticks).getUTCDate()},i.Date.prototype.getDatePart=function(){var e=new Date(this.ticks);return e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),new i.Date(e)},i.Date.prototype.getYear=function(){return new Date(this.ticks).getUTCFullYear()},i.Date.prototype.getHours=function(){return new Date(this.ticks).getUTCHours()},i.Date.prototype.getMilliseconds=function(){return new Date(this.ticks).getUTCMilliseconds()},i.Date.prototype.getMinutes=function(){return new Date(this.ticks).getUTCMinutes()},i.Date.prototype.getMonth=function(){return new Date(this.ticks).getUTCMonth()},i.Date.prototype.getSeconds=function(){return new Date(this.ticks).getUTCSeconds()},i.Date.prototype.getTotalTicks=function(){return this.getTime()},i.Date.prototype.getTime=function(){return this.ticks},i.Date.prototype.getTimePart=function(){var e=this.getDatePart();return i.DateUtil.diff(this,e)},i.Date.prototype.lastDayOfMonth=function(){var e=new Date(this.firstDayOfMonth().getTime()),t=this.daysInMonth();return e.setUTCDate(t),new i.Date(e)},i.Date.prototype.weekNumber=function(){var e=this.firstDayOfYear(),t=(this.getTime()-e.getTime())/864e5;return Math.ceil((t+e.dayOfWeek()+1)/7)},i.Date.prototype.weekNumberISO=function(){var e=!1,t=this.dayOfYear(),n=this.firstDayOfYear().dayOfWeek(),i=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();0===n&&(n=7),0===i&&(i=7);var r=8-n;4!==n&&4!==i||(e=!0);var a=Math.ceil((t-r)/7);return r>=4&&(a+=1),a>52&&!e&&(a=1),0===a&&(a=this.firstDayOfYear().addDays(-1).weekNumberISO()),a},i.Date.prototype.toDateLocal=function(){var e=new Date(this.ticks),t=new Date;return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours()),t.setMinutes(e.getUTCMinutes()),t.setSeconds(e.getUTCSeconds()),t.setMilliseconds(e.getUTCMilliseconds()),t},i.Date.prototype.toDate=function(){return new Date(this.ticks)},i.Date.prototype.toJSON=function(){return this.value},i.Date.prototype.toString=function(e,t){return e?new a(e,t).print(this):this.toStringSortable()},i.Date.prototype.toStringSortable=function(){return e(this.ticks)},i.Date.parse=function(e,t,n){return new a(t,n).parse(e)},i.Date.today=function(){return new i.Date(i.DateUtil.localToday(),!0)},i.Date.now=function(){return new i.Date},i.Date.fromYearMonthDay=function(e,t,n){t=t||1,n=n||1;var r=new Date(0);return r.setUTCFullYear(e),r.setUTCMonth(t-1),r.setUTCDate(n),new i.Date(r)},i.DateUtil={},i.DateUtil.fromStringSortable=function(e,t){if(!e)throw"Can't create DayPilot.Date from an empty string";var n=e.length,r=10===n,a=19===n;if(!r&&!a&&!(n>19))throw"Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): "+e;if(i.Date.Cache.Parsing[e]&&!t)return i.Stats.cacheHitsParsing+=1,i.Date.Cache.Parsing[e];var o=e.substring(0,4),s=e.substring(5,7),l=e.substring(8,10),u=new Date(0);if(u.setUTCFullYear(o,s-1,l),r)return i.Date.Cache.Parsing[e]=u,u;var c=e.substring(11,13),d=e.substring(14,16),h=e.substring(17,19);if(u.setUTCHours(c),u.setUTCMinutes(d),u.setUTCSeconds(h),a)return i.Date.Cache.Parsing[e]=u,u;var f=0;if("."===e[19]){var p=parseInt(e.substring(20,23));u.setUTCMilliseconds(p),f=i.DateUtil.getTzOffsetMinutes(e.substring(23))}else f=i.DateUtil.getTzOffsetMinutes(e.substring(19));var v=new i.Date(u);return t||(v=v.addMinutes(-f)),u=v.toDate(),i.Date.Cache.Parsing[e]=u,u},i.DateUtil.getTzOffsetMinutes=function(e){if(i.Util.isNullOrUndefined(e)||""===e)return 0;if("Z"===e)return 0;var t=e[0],n=60*parseInt(e.substring(1,3))+parseInt(e.substring(4));if("-"===t)return-n;if("+"===t)return n;throw"Invalid timezone spec: "+e},i.DateUtil.hasTzSpec=function(e){return!!e.indexOf("+")||!!e.indexOf("-")},i.DateUtil.daysDiff=function(e,t){if(e&&t||function(){throw"two parameters required"}(),e=new i.Date(e),t=new i.Date(t),e.getTime()>t.getTime())return null;for(var n=0,r=e.getDatePart(),a=t.getDatePart();r<a;)r=r.addDays(1),n++;return n},i.DateUtil.daysSpan=function(e,t){if(e&&t||function(){throw"two parameters required"}(),e=new i.Date(e),t=new i.Date(t),e.getTime()===t.getTime())return 0;var n=i.DateUtil.daysDiff(e,t);return t.getTime()==t.getDatePart().getTime()&&n--,n},i.DateUtil.diff=function(e,t){if(!(e&&t&&e.getTime&&t.getTime))throw"Both compared objects must be Date objects (DayPilot.Date.diff).";return e.getTime()-t.getTime()},i.DateUtil.fromLocal=function(e){e||(e=new Date);var t=new Date;return t.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setUTCHours(e.getHours()),t.setUTCMinutes(e.getMinutes()),t.setUTCSeconds(e.getSeconds()),t.setUTCMilliseconds(e.getMilliseconds()),t},i.DateUtil.localToday=function(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e},i.DateUtil.hours=function(e,t){var n=e.getUTCMinutes();n<10&&(n="0"+n);var i=e.getUTCHours();if(t){var r=i<12;return 0===(i=i%12)&&(i=12),i+":"+n+" "+(r?"AM":"PM")}return i+":"+n},i.DateUtil.max=function(e,t){return e.getTime()>t.getTime()?e:t},i.DateUtil.min=function(e,t){return e.getTime()<t.getTime()?e:t};var a=function(e,n){"string"==typeof n&&(n=i.Locale.find(n));n=n||i.Locale.US;var r=[{seq:"yyyy",expr:"[0-9]{4,4}",str:function(e){return e.getYear()}},{seq:"yy",expr:"[0-9]{2,2}",str:function(e){return e.getYear()%100}},{seq:"mm",expr:"[0-9]{2,2}",str:function(e){var t=e.getMinutes();return t<10?"0"+t:t}},{seq:"m",expr:"[0-9]{1,2}",str:function(e){return e.getMinutes()}},{seq:"HH",expr:"[0-9]{2,2}",str:function(e){var t=e.getHours();return t<10?"0"+t:t}},{seq:"H",expr:"[0-9]{1,2}",str:function(e){return e.getHours()}},{seq:"hh",expr:"[0-9]{2,2}",str:function(e){var t;0===(t=(t=e.getHours())%12)&&(t=12);return t<10?"0"+t:t}},{seq:"h",expr:"[0-9]{1,2}",str:function(e){var t;return 0===(t=(t=e.getHours())%12)&&(t=12),t}},{seq:"ss",expr:"[0-9]{2,2}",str:function(e){var t=e.getSeconds();return t<10?"0"+t:t}},{seq:"s",expr:"[0-9]{1,2}",str:function(e){return e.getSeconds()}},{seq:"MMMM",expr:"[^\\s0-9]*",str:function(e){return n.monthNames[e.getMonth()]},transform:function(e){var r=i.indexOf(n.monthNames,e,t);return r<0?null:r+1}},{seq:"MMM",expr:"[^\\s0-9]*",str:function(e){return n.monthNamesShort[e.getMonth()]},transform:function(e){var r=i.indexOf(n.monthNamesShort,e,t);return r<0?null:r+1}},{seq:"MM",expr:"[0-9]{2,2}",str:function(e){var t=e.getMonth()+1;return t<10?"0"+t:t}},{seq:"M",expr:"[0-9]{1,2}",str:function(e){return e.getMonth()+1}},{seq:"dddd",expr:"[^\\s0-9]*",str:function(e){return n.dayNames[e.getDayOfWeek()]}},{seq:"ddd",expr:"[^\\s0-9]*",str:function(e){return n.dayNamesShort[e.getDayOfWeek()]}},{seq:"dd",expr:"[0-9]{2,2}",str:function(e){var t=e.getDay();return t<10?"0"+t:t}},{seq:"%d",expr:"[0-9]{1,2}",str:function(e){return e.getDay()}},{seq:"d",expr:"[0-9]{1,2}",str:function(e){return e.getDay()}},{seq:"tt",expr:"(AM|PM|am|pm)",str:function(e){return e.getHours()<12?"AM":"PM"},transform:function(e){return e.toUpperCase()}}],a=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};this.init=function(){this.year=this.findSequence("yyyy"),this.month=this.findSequence("MMMM")||this.findSequence("MMM")||this.findSequence("MM")||this.findSequence("M"),this.day=this.findSequence("dd")||this.findSequence("d"),this.hours=this.findSequence("HH")||this.findSequence("H"),this.minutes=this.findSequence("mm")||this.findSequence("m"),this.seconds=this.findSequence("ss")||this.findSequence("s"),this.ampm=this.findSequence("tt"),this.hours12=this.findSequence("hh")||this.findSequence("h")},this.findSequence=function(t){function n(e){return parseInt(e)}return-1===e.indexOf(t)?null:{findValue:function(i){for(var o=a(e),s=null,l=0;l<r.length;l++){var u=(r[l].length,t===r[l].seq),c=r[l].expr;u&&(c="("+c+")",s=r[l].transform),o=o.replace(r[l].seq,c)}o="^"+o+"$";try{var d=new RegExp(o).exec(i);return d?(s=s||n)(d[1]):null}catch(e){throw"unable to create regex from: "+o}}}},this.print=function(t){for(var n=function(e){for(var t=0;t<r.length;t++)if(r[t]&&r[t].seq===e)return r[t];return null},i=e.length<=0,a=0,o=[];!i;){var s=e.substring(a),l=/%?(.)\1*/.exec(s);if(l&&l.length>0){var u=l[0],c=n(u);c?o.push(c):o.push(u),a+=u.length,i=e.length<=a}else i=!0}for(var d=0;d<o.length;d++){var h=o[d];"string"!=typeof h&&(o[d]=h.str(t))}return o.join("")},this.parse=function(e){var t=this.year.findValue(e);if(!t)return null;var n=this.month.findValue(e);if(i.Util.isNullOrUndefined(n))return null;if(n>12||n<1)return null;var r=this.day.findValue(e),a=i.Date.fromYearMonthDay(t,n).daysInMonth();if(r<1||r>a)return null;var o=this.hours?this.hours.findValue(e):0,s=this.minutes?this.minutes.findValue(e):0,l=this.seconds?this.seconds.findValue(e):0,u=this.ampm?this.ampm.findValue(e):null;if(this.ampm&&this.hours12){var c=this.hours12.findValue(e);if(c<1||c>12)return null;o="PM"===u?12===c?12:c+12:12===c?0:c}if(o<0||o>23)return null;if(s<0||s>59)return null;if(l<0||l>59)return null;var d=new Date;return d.setUTCFullYear(t,n-1,r),d.setUTCHours(o),d.setUTCMinutes(s),d.setUTCSeconds(l),d.setUTCMilliseconds(0),new i.Date(d)},this.init()};i.ColorUtil={},i.ColorUtil.hexToRgb=function(e){if(!/^#[0-9a-f]{6}$/i.test(e))throw new i.Exception("Invalid color, only full hex color string accepted, eg. '#ffaaff'.");return e=e.replace("#",""),{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}},i.ColorUtil.rgbToHex=function(e){return"#"+n(e.r)+n(e.g)+n(e.b)},i.ColorUtil.adjustLuminance=function(e,t){return{r:e.r+t,g:e.g+t,b:e.b+t}},i.ColorUtil.darker=function(e,t){var n=i.ColorUtil.hexToRgb(e),r=17*(t=t||1),a=i.ColorUtil.adjustLuminance(n,-r);return i.ColorUtil.rgbToHex(a)},i.ColorUtil.lighter=function(e,t){return"number"!=typeof t&&(t=1),i.ColorUtil.darker(e,-t)},i.ColorUtil.pl=function(e){var t=i.ColorUtil.hexToRgb(e),n=t.r/255,r=t.g/255,a=t.b/255;return Math.sqrt(.299*n*n+.587*r*r+.114*a*a)},i.ColorUtil.contrasting=function(e,t,n){return t=t||"#ffffff",n=n||"#000000",i.ColorUtil.pl(e)>.5?n:t},i.Event=function(e,t,n){var r=this;this.calendar=t,this.data=e||{},this.part=n||{},"undefined"==typeof this.data.id&&(this.data.id=this.data.value);var a={},o=["id","text","start","end","resource"];this.isEvent=!0,this.temp=function(){if(a.dirty)return a;for(var e=0;e<o.length;e++)a[o[e]]=r.data[o[e]];return a.dirty=!0,a},this.copy=function(){for(var e={},t=0;t<o.length;t++)e[o[t]]=r.data[o[t]];return e},this.commit=function(){if(a.dirty){for(var e=0;e<o.length;e++)r.data[o[e]]=a[o[e]];a.dirty=!1}},this.dirty=function(){return a.dirty},this.id=function(e){return"undefined"==typeof e?r.data.id:void(this.temp().id=e)},this.value=function(e){return"undefined"==typeof e?r.id():void r.id(e)},this.text=function(e){return"undefined"==typeof e?r.data.text:(this.temp().text=e,void this.client.innerHTML(e))},this.start=function(e){return"undefined"==typeof e?new i.Date(r.data.start):void(this.temp().start=new i.Date(e))},this.end=function(e){return"undefined"==typeof e?new i.Date(r.data.end):void(this.temp().end=new i.Date(e))},this.resource=function(e){return"undefined"==typeof e?r.data.resource:void(this.temp().resource=e)},this.partStart=function(){return new i.Date(this.part.start)},this.partEnd=function(){return new i.Date(this.part.end)},this.tag=function(e){var t=r.data.tag;if(!t)return null;if("undefined"==typeof e)return r.data.tag;for(var n=r.calendar.tagFields,i=-1,a=0;a<n.length;a++)e===n[a]&&(i=a);if(-1===i)throw"Field name not found.";return t[i]},this.client={},this.client.innerHTML=function(e){if("undefined"==typeof e){var t=r.cache||r.data,n=r.calendar&&r.calendar.internal&&r.calendar.internal.xssTextHtml;return n?n(t.text,t.html):i.Util.escapeTextHtml(t.text,t.html)}r.data.html=e},this.client.html=this.client.innerHTML,this.client.header=function(e){return"undefined"==typeof e?r.data.header:void(r.data.header=e)},this.client.cssClass=function(e){return"undefined"==typeof e?r.cache&&"undefined"!=typeof r.cache.cssClass?r.cache.cssClass:r.data.cssClass:void(r.data.cssClass=e)},this.client.toolTip=function(e){return"undefined"==typeof e?r.cache&&"undefined"!=typeof r.cache.toolTip?r.cache.toolTip:"undefined"!=typeof r.data.toolTip?r.data.toolTip:r.data.text:void(r.data.toolTip=e)},this.client.barVisible=function(e){return"undefined"==typeof e?r.cache&&"undefined"!=typeof r.cache.barHidden?!r.cache.barHidden:r.calendar.durationBarVisible&&!r.data.barHidden:void(r.data.barHidden=!e)},this.client.backColor=function(e){return"undefined"==typeof e?r.cache&&"undefined"!=typeof r.cache.backColor?r.cache.backColor:"undefined"!=typeof r.data.backColor?r.data.backColor:r.calendar.eventBackColor:void(r.data.backColor=e)},this.client.borderColor=function(e){return"undefined"==typeof e?r.cache&&"undefined"!=typeof r.cache.borderColor?r.cache.borderColor:"undefined"!=typeof r.data.borderColor?r.data.borderColor:r.calendar.eventBorderColor:void(r.data.borderColor=e)},this.client.contextMenu=function(e){if("undefined"==typeof e){if(r.oContextMenu)return r.oContextMenu;r.cache?r.cache.contextMenu:r.data.contextMenu}else r.oContextMenu=e},this.client.moveEnabled=function(e){return"undefined"==typeof e?r.cache&&"undefined"!=typeof r.cache.moveDisabled?!r.cache.moveDisabled:"Disabled"!==r.calendar.eventMoveHandling&&!r.data.moveDisabled:void(r.data.moveDisabled=!e)},this.client.resizeEnabled=function(e){return"undefined"==typeof e?r.cache&&"undefined"!=typeof r.cache.resizeDisabled?!r.cache.resizeDisabled:"Disabled"!==r.calendar.eventResizeHandling&&!r.data.resizeDisabled:void(r.data.resizeDisabled=!e)},this.client.clickEnabled=function(e){return"undefined"==typeof e?r.cache&&"undefined"!=typeof r.cache.clickDisabled?!r.cache.clickDisabled:"Disabled"!==r.calendar.eventClickHandling&&!r.data.clickDisabled:void(r.data.clickDisabled=!e)},this.client.rightClickEnabled=function(e){return"undefined"==typeof e?r.cache&&"undefined"!=typeof r.cache.rightClickDisabled?!r.cache.rightClickDisabled:"Disabled"!==r.calendar.eventRightClickHandling&&!r.data.rightClickDisabled:void(r.data.rightClickDisabled=!e)},this.client.deleteEnabled=function(e){return"undefined"==typeof e?r.cache&&"undefined"!=typeof r.cache.deleteDisabled?!r.cache.deleteDisabled:"Disabled"!==r.calendar.eventDeleteHandling&&!r.data.deleteDisabled:void(r.data.deleteDisabled=!e)},this.toJSON=function(e){var t={};if(t.value=this.id(),t.id=this.id(),t.text=this.text(),t.start=this.start(),t.end=this.end(),t.tag={},r.calendar&&r.calendar.tagFields)for(var n=r.calendar.tagFields,i=0;i<n.length;i++)t.tag[n[i]]=this.tag(n[i]);return t}}}}(),i.JSON={},function(){function e(e){return e<10?"0"+e:e}function t(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,(function(e){var t=l[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function n(e,i){var s,l,u,c,d,h=r,f=i[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON2?f=f.toJSON2(e):f&&"object"==typeof f&&"function"==typeof f.toJSON&&!f.ignoreToJSON&&(f=f.toJSON(e)),"function"==typeof o&&(f=o.call(i,e,f)),typeof f){case"string":return t(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(r+=a,d=[],"number"==typeof f.length&&!f.propertyIsEnumerable("length")){for(c=f.length,s=0;s<c;s+=1)d[s]=n(s,f)||"null";return u=0===d.length?"[]":r?"[\n"+r+d.join(",\n"+r)+"\n"+h+"]":"["+d.join(",")+"]",r=h,u}if(o&&"object"==typeof o)for(c=o.length,s=0;s<c;s+=1)"string"==typeof(l=o[s])&&((u=n(l,f))&&d.push(t(l)+(r?": ":":")+u));else for(l in f)Object.hasOwnProperty.call(f,l)&&((u=n(l,f))&&d.push(t(l)+(r?": ":":")+u));return u=0===d.length?"{}":r?"{\n"+r+d.join(",\n"+r)+"\n"+h+"}":"{"+d.join(",")+"}",r=h,u}}"function"!=typeof Date.prototype.toJSON2&&(Date.prototype.toJSON2=function(t){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var r,a,o,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!=typeof i.JSON.stringify&&(i.JSON.stringify=function(e,t,i){var s;if(r="",a="","number"==typeof i)for(s=0;s<i;s+=1)a+=" ";else"string"==typeof i&&(a=i);if(o=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return n("",{"":e})})}(),"undefined"==typeof i)i={};if("undefined"==typeof i.Global&&(i.Global={}),function(){if("undefined"==typeof i.Calendar||!i.Calendar.events){var e={selectedCells:[],topSelectedCell:null,bottomSelectedCell:null,selecting:!1,column:null,firstSelected:null,firstMousePos:null,originalMouse:null,originalHeight:null,originalTop:null,resizing:null,globalHandlers:!1,moving:null,register:function(t){e.registered||(e.registered=[]);for(var n=e.registered,i=0;i<n.length;i++)if(n[i]===t)return;n.push(t)},unregister:function(t){var n=e.registered;if(n){var r=i.indexOf(n,t);-1!==r&&n.splice(r,1)}},getCellsAbove:function(t){for(var n=[],i=e.getColumn(t),r=t.parentNode,a=null;r&&a!==e.firstSelected;)for(a=r.getElementsByTagName("td")[i],n.push(a),r=r.previousSibling;r&&"TR"!==r.tagName;)r=r.previousSibling;return n},getCellsBelow:function(t){for(var n=[],i=e.getColumn(t),r=t.parentNode,a=null;r&&a!==e.firstSelected;)for(a=r.getElementsByTagName("td")[i],n.push(a),r=r.nextSibling;r&&"TR"!==r.tagName;)r=r.nextSibling;return n},getColumn:function(e){for(var t=0;e.previousSibling;)"TD"===(e=e.previousSibling).tagName&&t++;return t},gUnload:function(t){if(e.registered)for(var n=e.registered,i=0;i<n.length;i++){var r=n[i];r.dispose(),e.unregister(r)}},gMouseUp:function(t){if(e.resizing){if(!e.resizingShadow)return e.resizing.style.cursor="default",document.body.style.cursor="default",e.resizing=null,void(i.Global.resizing=null);var n=e.resizing.event,r=e.resizingShadow.clientHeight+4,a=e.resizingShadow.offsetTop,o=e.resizing.dpBorder;e.deleteShadow(e.resizingShadow),e.resizingShadow=null,e.resizing.style.cursor="default",n.calendar.nav.top.style.cursor="auto",e.resizing.onclick=null,e.resizing=null,i.Global.resizing=null,n.calendar.I(n,r,a,o)}else if(e.moving){if(!e.movingShadow)return e.moving=null,i.Global.moving=null,void(document.body.style.cursor="default");a=e.movingShadow.offsetTop,n=e.moving.event;e.deleteShadow(e.movingShadow),i.Util.removeClass(e.moving,n.calendar.J("_event_moving_source"));var s=e.movingShadow.column;e.moving=null,i.Global.moving=null,e.movingShadow=null,n.calendar.nav.top.style.cursor="auto",n.calendar.K(n,s,a,t)}else if(e.selecting&&null!==e.topSelectedCell){var l=e.selecting.calendar;e.selecting=!1;var u=l.getSelection();l.L(u.start,u.end,u.resource),"Hold"!==l.timeRangeSelectedHandling&&l.timeRangeSelectedHandling}else e.selecting=!1},deleteShadow:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},moveShadow:function(t){var n=e.movingShadow,i=n.parentNode;i.style.display="none",n.parentNode.removeChild(n),t.firstChild.appendChild(n),n.style.left="0px",i.style.display="",n.style.width=e.movingShadow.parentNode.offsetWidth+1+"px"},Calendar:function(t,n){var r=!1;if(this instanceof e.Calendar&&!this.M&&(r=!0,this.M=!0),!r)throw"DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";var a=this;this.uniqueID=null,this.isCalendar=!0,this.v="2023.3.499-lite",this.id=t,this.clientName=t,this.cache={},this.cache.pixels={},this.elements={},this.elements.events=[],this.elements.selection=[],this.nav={},this.afterRender=function(){},this.fasterDispose=!0,this.angularAutoApply=!1,this.api=2,this.businessBeginsHour=9,this.businessEndsHour=18,this.cellHeight=30,this.columnMarginRight=5,this.columnsLoadMethod="GET",this.contextMenu=null,this.days=1,this.durationBarVisible=!0,this.eventsLoadMethod="GET",this.headerDateFormat=null,this.headerHeight=30,this.headerTextWrappingEnabled=!1,this.height=300,this.heightSpec="BusinessHours",this.hideUntilInit=!0,this.hourWidth=60,this.initScrollPos="Auto",this.loadingLabelHtml=null,this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.locale="en-us",this.showToolTip=!0,this.startDate=(new i.Date).getDatePart(),this.cssClassPrefix="calendar_default",this.theme=null,this.timeFormat="Auto",this.viewType="Days",this.visible=!0,this.xssProtection="Enabled",this.headerClickHandling="Enabled",this.eventClickHandling="Enabled",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventMoveHandling="Update",this.eventDeleteHandling="Disabled",this.timeRangeSelectedHandling="Enabled",this.onBeforeEventRender=null,this.onEventClick=null,this.onEventClicked=null,this.onEventDelete=null,this.onEventDeleted=null,this.onEventMove=null,this.onEventMoved=null,this.onEventResize=null,this.onEventResized=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onHeaderClick=null,this.onHeaderClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.clearSelection=function(){e.topSelectedCell=null,e.bottomSelectedCell=null,this.N()},this.N=function(){i.de(a.elements.selection),a.elements.selection=[],a.nav.activeSelection=null},this.O=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE"),this.cleanSelection=this.clearSelection,this.P=function(e,t,n){var r={};r.action=e,r.parameters=n,r.data=t,r.header=this.Q();var o="JSON"+i.JSON.stringify(r);__doPostBack(a.uniqueID,o)},this.R=function(e,t,n){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.callbackTimeout=window.setTimeout((function(){a.loadingStart()}),100);var r={};r.action=e,r.parameters=n,r.data=t,r.header=this.Q();var o="JSON"+i.JSON.stringify(r);this.backendUrl?i.request(this.backendUrl,this.S,o,this.ajaxError):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,o,this.T,this.clientName,this.onCallbackError,!0)},this.onCallbackError=function(e,t){alert("Error!\r\nResult: "+e+"\r\nContext:"+t)},this.dispose=function(){var t=a;clearInterval(t.U),t.V(),t.nav.scroll.root=null,i.pu(t.nav.loading),t.W(),t.X(),t.nav.select=null,t.nav.cornerRight=null,t.nav.scrollable=null,t.nav.zoom=null,t.nav.loading=null,t.nav.header=null,t.nav.hourTable=null,t.nav.scrolltop=null,t.nav.scroll.onscroll=null,t.nav.scroll=null,t.nav.main=null,t.nav.message=null,t.nav.messageClose=null,t.nav.top=null,e.unregister(t)},this.Y=function(){this.nav.top.dispose=this.dispose},this.S=function(e){a.T(e.responseText)},this.Q=function(){var e={control:"dpc"};return e.id=this.id,e.v=this.v,e.days=a.days,e.startDate=a.startDate,e.heightSpec=a.heightSpec,e.businessBeginsHour=a.businessBeginsHour,e.businessEndsHour=a.businessEndsHour,e.hashes=a.hashes,e.timeFormat=a.timeFormat,e.viewType=a.viewType,e.locale=a.locale,e},this.Z=function(e,t){for(var n=e.parentNode;n&&"TD"!==n.tagName;)n=n.parentNode;var i=document.createElement("div");i.setAttribute("unselectable","on"),i.style.position="absolute",i.style.width=e.offsetWidth+"px",i.style.height=e.offsetHeight+"px",i.style.left=e.offsetLeft+"px",i.style.top=e.offsetTop+"px",i.style.boxSizing="border-box",i.style.zIndex=101,i.className=a.J("_shadow");var r=document.createElement("div");return r.className=a.J("_shadow_inner"),i.appendChild(r),n.firstChild.appendChild(i),i},this._={},this._.locale=function(){var e=i.Locale.find(a.locale);return e||i.Locale.US},this._.timeFormat=function(){return"Auto"!==a.timeFormat?a.timeFormat:this.locale().timeFormat},this._.aa=function(){return"Disabled"!==a.xssProtection};var o=this._;this.T=function(e,t){if(e&&0===e.indexOf("$$$")){if(!window.console)throw"Error received from the server side: "+e;console.log("Error received from the server side: "+e)}else{if((e=JSON.parse(e)).CallBackRedirect)document.location.href=e.CallBackRedirect;else{if("None"===e.UpdateType)return a.loadingStop(),void a.s();if(a.V(),"Full"===e.UpdateType&&(a.columns=e.Columns,a.days=e.Days,a.startDate=new i.Date(e.StartDate),a.heightSpec=e.HeightSpec?e.HeightSpec:a.heightSpec,a.businessBeginsHour=e.BusinessBeginsHour?e.BusinessBeginsHour:a.businessBeginsHour,a.businessEndsHour=e.BusinessEndsHour?e.BusinessEndsHour:a.businessEndsHour,a.headerDateFormat=e.HeaderDateFormat?e.HeaderDateFormat:a.headerDateFormat,a.viewType=e.ViewType,a.backColor=e.BackColor?e.BackColor:a.backColor,a.eventHeaderVisible=e.EventHeaderVisible?e.EventHeaderVisible:a.eventHeaderVisible,a.timeFormat=e.TimeFormat?e.TimeFormat:a.timeFormat,a.locale=e.Locale?e.Locale:a.locale,a.ba()),e.Hashes)for(var n in e.Hashes)a.hashes[n]=e.Hashes[n];a.events.list=e.Events,a.ca(),a.da(),"Full"===e.UpdateType&&(a.ea(),a.fa(),a.ga(),a.ha()),a.s(),a.ia(),a.clearSelection(),a.afterRender(e.CallBackData,!0),a.loadingStop()}}},this.ja=function(){return this.ka()/36e5},this.la=function(){return this.businessBeginsHour>this.businessEndsHour?24-this.businessBeginsHour+this.businessEndsHour:this.businessEndsHour-this.businessBeginsHour},this.ma=function(){return this.ka()/18e5},this.ka=function(){return 60*("BusinessHoursNoScroll"===this.heightSpec?this.la():24)*60*1e3},this.na=function(){return"BusinessHoursNoScroll"===this.heightSpec?this.businessBeginsHour:0},this.oa=function(){return 2===a.api},this.eventClickCallBack=function(e,t){this.R("EventClick",t,e)},this.eventClickPostBack=function(e,t){this.P("EventClick",t,e)},this.pa=function(e){var t=this.event;if(a.oa()){var n={};if(n.e=t,n.originalEvent=e,n.meta=e.metaKey,n.ctrl=e.ctrlKey,n.control=a,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventClick&&(a.qa.apply((function(){a.onEventClick(n)})),n.preventDefault.value))return;switch(a.eventClickHandling){case"CallBack":a.eventClickCallBack(t);break;case"PostBack":a.eventClickPostBack(t);break;case"ContextMenu":var i=t.client.contextMenu();i?i.show(t):a.contextMenu&&a.contextMenu.show(t)}"function"==typeof a.onEventClicked&&a.qa.apply((function(){a.onEventClicked(n)}))}else switch(a.eventClickHandling){case"PostBack":a.eventClickPostBack(t);break;case"CallBack":a.eventClickCallBack(t);break;case"JavaScript":a.onEventClick(t)}},this.ra=function(e){var t=this.event;if(e.stopPropagation&&e.stopPropagation(),!t.client.rightClickEnabled())return!1;var n={};if(n.e=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventRightClick&&(a.onEventRightClick(n),n.preventDefault.value))return!1;if("ContextMenu"===a.eventRightClickHandling){var i=t.client.contextMenu();i?i.show(t):a.contextMenu&&a.contextMenu.show(this.event)}return"function"==typeof a.onEventRightClicked&&a.onEventRightClicked(n),e.preventDefault&&e.preventDefault(),!1},this.eventDeleteCallBack=function(e,t){this.R("EventDelete",t,e)},this.eventDeletePostBack=function(e,t){this.P("EventDelete",t,e)},this.sa=function(e){if(a.oa()){var t={};if(t.e=e,t.control=a,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventDelete&&(a.qa.apply((function(){a.onEventDelete(t)})),t.preventDefault.value))return;switch(a.eventDeleteHandling){case"CallBack":a.eventDeleteCallBack(e);break;case"PostBack":a.eventDeletePostBack(e);break;case"Update":a.events.remove(e)}"function"==typeof a.onEventDeleted&&a.qa.apply((function(){a.onEventDeleted(t)}))}else switch(a.eventDeleteHandling){case"PostBack":a.eventDeletePostBack(e);break;case"CallBack":a.eventDeleteCallBack(e);break;case"JavaScript":a.onEventDelete(e)}},this.eventResizeCallBack=function(e,t,n,i){if(!t)throw"newStart is null";if(!n)throw"newEnd is null";var r={};r.e=e,r.newStart=t,r.newEnd=n,this.R("EventResize",i,r)},this.eventResizePostBack=function(e,t,n,i){if(!t)throw"newStart is null";if(!n)throw"newEnd is null";var r={};r.e=e,r.newStart=t,r.newEnd=n,this.P("EventResize",i,r)},this.I=function(e,t,n,i){var r=new Date,o=new Date,s=e.start(),l=e.end();if("top"===i){var u=s.getDatePart(),c=60*(30*Math.floor((n-1)/a.cellHeight))*1e3,d=60*a.na()*60*1e3;r=u.addTime(c+d),o=e.end()}else if("bottom"===i){u=l.getDatePart(),c=60*(30*Math.floor((n+t-1)/a.cellHeight))*1e3,d=60*a.na()*60*1e3;r=s,o=u.addTime(c+d)}if(a.oa()){var h={};if(h.e=e,h.control=a,h.newStart=r,h.newEnd=o,h.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventResize&&(a.qa.apply((function(){a.onEventResize(h)})),h.preventDefault.value))return;switch(a.eventResizeHandling){case"PostBack":a.eventResizePostBack(e,r,o);break;case"CallBack":a.eventResizeCallBack(e,r,o);break;case"Update":e.start(r),e.end(o),a.events.update(e)}"function"==typeof a.onEventResized&&a.qa.apply((function(){a.onEventResized(h)}))}else switch(a.eventResizeHandling){case"PostBack":a.eventResizePostBack(e,r,o);break;case"CallBack":a.eventResizeCallBack(e,r,o);break;case"JavaScript":a.onEventResize(e,r,o)}},this.eventMovePostBack=function(e,t,n,i,r){if(!t)throw"newStart is null";if(!n)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=n,this.P("EventMove",r,a)},this.eventMoveCallBack=function(e,t,n,i,r){if(!t)throw"newStart is null";if(!n)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=n,this.R("EventMove",r,a)},this.K=function(e,t,n,r){var o=30*Math.floor((n-1)/a.cellHeight)*60*1e3,s=e.start(),l=e.end(),u=new Date;s instanceof i.Date&&(s=s.toDate()),u.setTime(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()));var c=s.getTime()-(u.getTime()+3600*s.getUTCHours()*1e3+30*Math.floor(s.getUTCMinutes()/30)*60*1e3),d=l.getTime()-s.getTime(),h=this.ta[t],f=h.id,p=h.start.getTime(),v=new Date;v.setTime(p+o+c);var g=new i.Date(v),m=g.addTime(d);if(a.oa()){var y={};if(y.e=e,y.newStart=g,y.newEnd=m,y.newResource=f,y.ctrl=r.ctrlKey,y.shift=r.shiftKey,y.control=a,y.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventMove&&(a.qa.apply((function(){a.onEventMove(y)})),y.preventDefault.value))return;switch(a.eventMoveHandling){case"PostBack":a.eventMovePostBack(e,g,m,h.id);break;case"CallBack":a.eventMoveCallBack(e,g,m,h.id);break;case"Update":e.start(g),e.end(m),e.resource(f),a.events.update(e)}"function"==typeof a.onEventMoved&&a.qa.apply((function(){a.onEventMoved(y)}))}else switch(a.eventMoveHandling){case"PostBack":a.eventMovePostBack(e,g,m,h.id);break;case"CallBack":a.eventMoveCallBack(e,g,m,h.id);break;case"JavaScript":a.onEventMove(e,g,m,h.id,!1)}},this.timeRangeSelectedPostBack=function(e,t,n,i){var r={};r.start=e,r.end=t,this.P("TimeRangeSelected",i,r)},this.timeRangeSelectedCallBack=function(e,t,n,i){var r={};r.start=e,r.end=t,this.R("TimeRangeSelected",i,r)},this.L=function(e,t,n){if(e=new i.Date(e),t=new i.Date(t),this.oa()){var r={};if(r.start=e,r.end=t,r.resource=n,r.control=a,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onTimeRangeSelect&&(a.qa.apply((function(){a.onTimeRangeSelect(r)})),r.preventDefault.value))return;switch(a.timeRangeSelectedHandling){case"PostBack":a.timeRangeSelectedPostBack(e,t);break;case"CallBack":a.timeRangeSelectedCallBack(e,t)}"function"==typeof a.onTimeRangeSelected&&a.qa.apply((function(){a.onTimeRangeSelected(r)}))}else switch(a.timeRangeSelectedHandling){case"PostBack":a.timeRangeSelectedPostBack(e,t);break;case"CallBack":a.timeRangeSelectedCallBack(e,t);break;case"JavaScript":a.onTimeRangeSelected(e,t)}},this.ua=function(t){if(!e.selecting&&"Disabled"!==a.timeRangeSelectedHandling){var n=t.which;if(1===n||0===n)return e.firstMousePos=i.mc(t),e.selecting={},e.selecting.calendar=a,e.selectedCells&&(a.clearSelection(),e.selectedCells=[]),e.column=e.getColumn(this),e.selectedCells.push(this),e.firstSelected=this,e.topSelectedCell=this,e.bottomSelectedCell=this,a.va(),!1}},this.va=function(){this.getSelection(),function(){var t=e.topSelectedCell,n=e.bottomSelectedCell,i=function(){if(t.data)return t.data.x;for(var e=t.parentNode.cells,n=0;n<e.length;n++)if(e[n]===t)return n;return-1}(),r=a.ta[i];if(r){var o=r.start,s=a.getPixels(t.start,o).boxTop,l=a.getPixels(n.end,o).boxBottom-s,u=function(){if(a.nav.activeSelection)return a.nav.activeSelection;var e=document.createElement("div");e.setAttribute("unselectable","on"),e.style.position="absolute",e.style.left="0px",e.style.width="100%";var t=document.createElement("div");return t.setAttribute("unselectable","on"),t.className=a.J("_shadow_inner"),e.appendChild(t),a.nav.events.rows[0].cells[i].selection.appendChild(e),a.elements.selection.push(e),a.nav.activeSelection=e,e}();u.className=a.J("_shadow"),u.firstChild.innerHTML="",u.style.top=s+"px",u.style.height=l+"px"}}()},this.wa=function(t){if("undefined"!=typeof e&&e.selecting){var n=i.mc(t);e.getColumn(this)===e.column&&(a.clearSelection(),n.y<e.firstMousePos.y?(e.selectedCells=e.getCellsBelow(this),e.topSelectedCell=e.selectedCells[0],e.bottomSelectedCell=e.firstSelected):(e.selectedCells=e.getCellsAbove(this),e.topSelectedCell=e.firstSelected,e.bottomSelectedCell=e.selectedCells[0]),a.va())}},this.getSelection=function(){var t=e.topSelectedCell.start,n=e.bottomSelectedCell.end,r=e.topSelectedCell.resource;return new i.Selection(t,n,r,a)},this.xa=function(e){if(e<0)return null;for(var t=0,n=a.nav.events.rows[0].cells,i=0;i<n.length;i++)if(e<(t+=n[i].offsetWidth))return i;return null},this.ya={},this.ya.getCellCoords=function(){var e={x:0,y:0};if(!a.coords)return null;e.x=a.xa(a.coords.x);var t=Math.floor((a.coords.y-0)/a.cellHeight);return e.y=t,e.x<0?null:e},this.columns={},this.columns.list=[],this.columns.load=function(e,t,n){if(!e)throw new i.Exception("columns.load(): 'url' parameter required");var r=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},o=function(e){var n,o=e.request;try{n=JSON.parse(o.responseText)}catch(e){var s={};return s.exception=e,void r(s)}if(i.isArray(n)){var l={preventDefault:function(){this.preventDefault.value=!0}};if(l.data=n,"function"==typeof t&&t(l),l.preventDefault.value)return;a.columns.list=n,a.za&&a.update()}};a.columnsLoadMethod&&"POST"===a.columnsLoadMethod.toUpperCase()?i.ajax({method:"POST",url:e,success:o,error:r}):i.ajax({method:"GET",url:e,success:o,error:r})},this.ba=function(){var e;e="Resources"!==a.viewType?this.Aa():a.columns.list,this.ta=[];for(var t=0;t<e.length;t++){var n=this.Ba(e[t]);this.ta.push(n)}},this.Ba=function(e){var t={};return t.name=e.name,t.html=e.html,t.id=e.id,t.toolTip=e.toolTip,t.data=e,e.start?t.start=new i.Date(e.start):t.start=new i.Date(a.startDate),t.putIntoBlock=function(e){for(var t=0;t<this.blocks.length;t++){if((n=this.blocks[t]).overlapsWith(e.part.top,e.part.height))return n.events.push(e),n.min=Math.min(n.min,e.part.top),n.max=Math.max(n.max,e.part.top+e.part.height),t}var n;return(n=[]).lines=[],n.events=[],n.overlapsWith=function(e,t){return!(e+t-1<this.min||e>this.max-1)},n.putIntoLine=function(e){for(var t=0;t<this.lines.length;t++){if((n=this.lines[t]).isFree(e.part.top,e.part.height))return n.push(e),t}var n;return(n=[]).isFree=function(e,t){for(var n=e+t-1,i=this.length,r=0;r<i;r++){var a=this[r];if(!(n<a.part.top||e>a.part.top+a.part.height-1))return!1}return!0},n.push(e),this.lines.push(n),this.lines.length-1},n.events.push(e),n.min=e.part.top,n.max=e.part.top+e.part.height,this.blocks.push(n),this.blocks.length-1},t.putIntoLine=function(e){for(var t=0;t<this.lines.length;t++){if((n=this.lines[t]).isFree(e.part.top,e.part.height))return n.push(e),t}var n;return(n=[]).isFree=function(e,t){for(var n=e+t-1,i=this.length,r=0;r<i;r++){var a=this[r];if(!(n<a.part.top||e>a.part.top+a.part.height-1))return!1}return!0},n.push(e),this.lines.push(n),this.lines.length-1},t},this.Aa=function(){var e=[],t=this.startDate.getDatePart(),n=this.days;switch(this.viewType){case"Day":n=1;break;case"Week":n=7,t=t.firstDayOfWeek(o.locale().weekStarts);break;case"WorkWeek":n=5,t=t.firstDayOfWeek(1)}"BusinessHoursNoScroll"===this.heightSpec&&(t=t.addHours(this.businessBeginsHour));for(var i=0;i<n;i++){var r=a.headerDateFormat?a.headerDateFormat:o.locale().datePattern,s={};s.start=t.addDays(i),s.name=s.start.toString(r,o.locale()),e.push(s)}return e},this.visibleStart=function(){if("Resources"===a.viewType){if(0===a.ta.length)return i.Date.today();var e=a.ta.map((function(e){return e.start.getTime()})),t=Math.min.apply(null,e);return new i.Date(t)}return this.ta[0].start},this.visibleEnd=function(){if("Resources"===a.viewType){if(0===a.ta.length)return i.Date.today().addDays(1);var e=a.ta.map((function(e){return e.start.getTime()})),t=Math.max.apply(null,e);return new i.Date(t).addDays(1)}t=this.ta.length-1;return this.ta[t].start.addDays(1)},this.J=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.V=function(){if(this.elements.events)for(var e=0;e<this.elements.events.length;e++){var t=this.elements.events[e],n=t.event;if(n&&(n.calendar=null),t.onclick=null,t.onclickSave=null,t.onmouseover=null,t.onmouseout=null,t.onmousemove=null,t.onmousedown=null,t.firstChild&&t.firstChild.firstChild&&t.firstChild.firstChild.tagName&&"IMG"===t.firstChild.firstChild.tagName.toUpperCase()){var r=t.firstChild.firstChild;r.onmousedown=null,r.onmousemove=null,r.onclick=null}t.helper=null,t.data=null,t.event=null,i.de(t)}this.elements.events=[]},this.Ca=function(t){var n=t.cache||t.data,r=this.nav.events,o=document.createElement("div");o.style.position="absolute",o.style.left=t.part.left+"%",o.style.top=t.part.top+"px",o.style.width=t.part.width+"%",o.style.height=Math.max(t.part.height,2)+"px",o.style.overflow="hidden",o.data=t,o.event=t,o.unselectable="on",o.style.MozUserSelect="none",o.style.KhtmlUserSelect="none",o.className=this.J("_event"),n.cssClass&&i.Util.addClass(o,n.cssClass),a.showToolTip&&t.client.toolTip()&&(o.title=t.client.toolTip()),o.isFirst=t.part.start.getTime()===t.start().getTime(),o.isLast=t.part.end.getTime()===t.end().getTime(),o.onclick=this.pa,i.re(o,"contextmenu",this.ra),o.onmouseout=function(e){o.deleteIcon&&(o.deleteIcon.style.display="none")},o.onmousemove=function(n){if("undefined"!=typeof e){var r=i.mo3(o,n);if(r&&!e.resizing&&!e.moving){o.deleteIcon&&(o.deleteIcon.style.display="");var s=this.isLast;r.y<=5&&t.client.resizeEnabled()?(this.style.cursor="n-resize",this.dpBorder="top"):this.offsetHeight-r.y<=5&&t.client.resizeEnabled()?s?(this.style.cursor="s-resize",this.dpBorder="bottom"):this.style.cursor="not-allowed":e.resizing||e.moving||("Disabled"!==a.eventClickHandling?this.style.cursor="pointer":this.style.cursor="default")}}},o.onmousedown=function(n){var r=n.which||n.button;if("n-resize"!==this.style.cursor&&"s-resize"!==this.style.cursor||1!==r){if(1===r&&t.client.moveEnabled()){e.moving=this,i.Global.moving=this,e.moving.event=this.event,(e.moving.helper={}).oldColumn=a.ta[this.data.part.dayIndex].id,e.originalMouse=i.mc(n),e.originalTop=this.offsetTop;var o=i.mo3(this,n);e.moveOffsetY=o?o.y:0,a.nav.top.style.cursor="move"}}else e.resizing=this,i.Global.resizing=this,e.originalMouse=i.mc(n),e.originalHeight=this.offsetHeight,e.originalTop=this.offsetTop,a.nav.top.style.cursor=this.style.cursor;return!1};var s=document.createElement("div");if(s.setAttribute("unselectable","on"),s.className=a.J("_event_inner"),s.innerHTML=t.client.html(),"darker"===n.borderColor&&n.backColor?s.style.borderColor=i.ColorUtil.darker(n.backColor,2):s.style.borderColor=n.borderColor,n.backColor&&(s.style.background=n.backColor,(i.browser.ie9||i.browser.ielt9)&&(s.style.filter="")),n.fontColor&&(s.style.color=n.fontColor),o.appendChild(s),t.client.barVisible()){var l=t.part.height-2,u=100*t.part.barTop/l,c=Math.ceil(100*t.part.barHeight/l),d=document.createElement("div");d.setAttribute("unselectable","on"),d.className=this.J("_event_bar"),d.style.position="absolute",n.barBackColor&&(d.style.backgroundColor=n.barBackColor);var h=document.createElement("div");h.setAttribute("unselectable","on"),h.className=this.J("_event_bar_inner"),h.style.top=u+"%",h.style.height=0<c&&c<=1?"1px":c+"%",n.barColor&&(h.style.backgroundColor=n.barColor),d.appendChild(h),o.appendChild(d)}if(t.client.deleteEnabled()){var f=document.createElement("div");f.style.position="absolute",f.style.right="2px",f.style.top="2px",f.style.width="17px",f.style.height="17px",f.className=a.J("_event_delete"),f.onmousedown=function(e){e.stopPropagation()},f.onclick=function(e){e.stopPropagation();var t=this.parentNode.event;t&&a.sa(t)},f.style.display="none",o.deleteIcon=f,o.appendChild(f)}var p=n.areas?i.Areas.copy(n.areas):[];if(i.Areas.attach(o,t,{areas:p}),r.rows[0].cells[t.part.dayIndex]&&(r.rows[0].cells[t.part.dayIndex].firstChild.appendChild(o),a.Da(o)),"function"==typeof a.onAfterEventRender){var v={};v.e=o.event,v.div=o,a.onAfterEventRender(v)}a.elements.events.push(o)},this.Da=function(e){for(var t=e&&e.childNodes?e.childNodes.length:0,n=0;n<t;n++)try{var i=e.childNodes[n];1===i.nodeType&&(i.unselectable="on",this.Da(i))}catch(e){}},this.ia=function(){for(var e=0;e<this.ta.length;e++){var t=this.ta[e];if(t.blocks)for(var n=0;n<t.blocks.length;n++)for(var i=t.blocks[n],r=0;r<i.lines.length;r++)for(var a=i.lines[r],o=0;o<a.length;o++){var s=a[o];s.part.width=100/i.lines.length,s.part.left=s.part.width*r,r===i.lines.length-1||(s.part.width=1.5*s.part.width),this.Ca(s)}}},this.Ea=function(){this.nav.top.innerHTML="",i.Util.addClass(this.nav.top,this.J("_main")),this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.position="relative",this.nav.top.style.width=this.width?this.width:"100%",this.hideUntilInit&&(this.nav.top.style.visibility="hidden"),this.visible||(this.nav.top.style.display="none"),this.nav.scroll=document.createElement("div"),this.nav.scroll.style.height=this.Fa()+"px","BusinessHours"===this.heightSpec?this.nav.scroll.style.overflow="auto":this.nav.scroll.style.overflow="hidden",this.nav.scroll.style.position="relative";var e=this.Ga();this.nav.top.appendChild(e),this.nav.scroll.style.zoom=1;var t=this.Ha();this.nav.scrollable=t.firstChild,this.nav.scroll.appendChild(t),this.nav.top.appendChild(this.nav.scroll),this.nav.scrollLayer=document.createElement("div"),this.nav.scrollLayer.style.position="absolute",this.nav.scrollLayer.style.top="0px",this.nav.scrollLayer.style.left="0px",this.nav.top.appendChild(this.nav.scrollLayer),this.nav.loading=document.createElement("div"),this.nav.loading.style.position="absolute",this.nav.loading.style.top="0px",this.nav.loading.style.left=this.hourWidth+5+"px",this.nav.loading.innerHTML=a.Ia(a.loadingLabelText,a.loadingLabelHtml),this.nav.loading.style.display="none",this.nav.top.appendChild(this.nav.loading)},this.ga=function(){this.fasterDispose||i.pu(this.nav.hourTable),this.nav.scrollable.rows[0].cells[0].innerHTML="",this.nav.hourTable=this.Ja(),this.nav.scrollable.rows[0].cells[0].appendChild(this.nav.hourTable)},this.Ha=function(){var e=document.createElement("div");e.style.zoom=1,e.style.position="relative";var t=document.createElement("table");t.cellSpacing="0",t.cellPadding="0",t.border="0",t.style.border="0px none",t.style.width="100%",t.style.position="absolute";var n,i=t.insertRow(-1);(n=i.insertCell(-1)).valign="top",n.style.padding="0px",n.style.border="0px none",this.nav.hourTable=this.Ja(),n.appendChild(this.nav.hourTable),(n=i.insertCell(-1)).valign="top",n.width="100%",n.style.padding="0px",n.style.border="0px none";var r=document.createElement("div");return r.style.position="relative",n.appendChild(r),r.appendChild(this.Ka()),r.appendChild(this.La()),e.appendChild(t),this.nav.zoom=e,e},this.Ka=function(){var e=document.createElement("table");return e.cellPadding="0",e.cellSpacing="0",e.border="0",e.style.width="100%",e.style.border="0px none",e.style.tableLayout="fixed",this.nav.main=e,this.nav.events=e,e},this.La=function(){var e=document.createElement("table");e.style.top="0px",e.cellPadding="0",e.cellSpacing="0",e.border="0",e.style.position="absolute",e.style.width="100%",e.style.border="0px none",e.style.tableLayout="fixed",this.nav.events=e;for(var t=this.ta.length,n=e.insertRow(-1),i=0;i<t;i++){var r=n.insertCell(-1);r.style.padding="0px",r.style.border="0px none",r.style.height="0px",r.style.overflow="visible",a.rtl||(r.style.textAlign="left");var o=document.createElement("div");o.style.marginRight=a.columnMarginRight+"px",o.style.position="relative",o.style.height="1px",o.style.marginTop="-1px";var s=document.createElement("div");r.selection=s,r.appendChild(o),r.appendChild(s)}return e},this.Ja=function(){var e=document.createElement("table");e.cellSpacing="0",e.cellPadding="0",e.border="0",e.style.border="0px none",e.style.width=this.hourWidth+"px",e.oncontextmenu=function(){return!1};for(var t=a.ja(),n=0;n<t;n++)this.Ma(e,n);return e},this.Ma=function(e,t){var n=2*this.cellHeight,i=e.insertRow(-1);i.style.height=n+"px";var r=i.insertCell(-1);r.valign="bottom",r.unselectable="on",r.style.cursor="default",r.style.padding="0px",r.style.border="0px none";var s=document.createElement("div");s.style.position="relative",s.className=this.J("_rowheader"),s.style.width=this.hourWidth+"px",s.style.height=n+"px",s.style.overflow="hidden",s.unselectable="on";var l=document.createElement("div");l.className=this.J("_rowheader_inner"),l.unselectable="on";var u=document.createElement("div");u.unselectable="on";var c=this.startDate.addHours(t).addHours(a.na()).getHours(),d=c<12,h=o.timeFormat();"Clock12Hours"===h&&(0===(c%=12)&&(c=12)),u.innerHTML=c;var f,p=document.createElement("span");p.unselectable="on",p.className=this.J("_rowheader_minutes"),f="Clock12Hours"===h?d?"AM":"PM":"00",p.innerHTML=f,u.appendChild(p),l.appendChild(u),s.appendChild(l),r.appendChild(s)},this.Fa=function(){switch(this.heightSpec){case"Full":return 48*this.cellHeight;case"BusinessHours":case"BusinessHoursNoScroll":return this.la()*this.cellHeight*2;default:throw"DayPilot.Calendar: Unexpected 'heightSpec' value."}},this.Na=function(){var e=a.nav.corner?a.nav.corner.parentNode:null;if(e){e.innerHTML="";var t=this.Oa();e.appendChild(t),a.nav.corner=t}},this.Ga=function(){var e=document.createElement("div");e.style.overflow="auto";var t=document.createElement("table");t.cellPadding="0",t.cellSpacing="0",t.border="0",t.style.width="100%",t.style.borderCollapse="separate",t.style.border="0px none";var n=t.insertRow(-1),i=n.insertCell(-1);i.style.padding="0px",i.style.border="0px none";var r=this.Oa();i.appendChild(r),this.nav.corner=r,(i=n.insertCell(-1)).style.width="100%",i.valign="top",i.style.position="relative",i.style.padding="0px",i.style.border="0px none",this.nav.header=document.createElement("table"),this.nav.header.cellPadding="0",this.nav.header.cellSpacing="0",this.nav.header.border="0",this.nav.header.width="100%",this.nav.header.style.tableLayout="fixed",this.nav.header.oncontextmenu=function(){return!1};var a="hidden"!==this.nav.scroll.style.overflow;if(i.appendChild(this.nav.header),a){(i=n.insertCell(-1)).unselectable="on";var o=document.createElement("div");o.unselectable="on",o.style.position="relative",o.style.width="16px",o.style.height=this.headerHeight+"px",o.className=this.J("_cornerright");var s=document.createElement("div");s.className=this.J("_cornerright_inner"),o.appendChild(s),i.appendChild(o),this.nav.cornerRight=o}return e.appendChild(t),e},this.Oa=function(){var e=document.createElement("div");e.style.position="relative",e.className=this.J("_corner"),e.style.width=this.hourWidth+"px",e.style.height=this.headerHeight+"px",e.oncontextmenu=function(){return!1};var t=document.createElement("div");return t.unselectable="on",t.className=this.J("_corner_inner"),e.appendChild(t),e},this.W=function(){var e=this.nav.main;e.root=null,e.onmouseup=null;for(var t=0;t<e.rows.length;t++)for(var n=e.rows[t],r=0;r<n.cells.length;r++){var a=n.cells[r];a.root=null,a.onmousedown=null,a.onmousemove=null,a.onmouseout=null,a.onmouseup=null}this.fasterDispose||i.pu(e)},this.fa=function(){var t=this.nav.main,n=18e5,r=this.ma(),o=a.ta;for(t&&this.W();t&&t.rows&&t.rows.length>0;)this.fasterDispose||i.pu(t.rows[0]),t.deleteRow(0);this.tableCreated=!0;for(var s=o.length,l=this.nav.events;l&&l.rows&&l.rows.length>0;)this.fasterDispose||i.pu(l.rows[0]),l.deleteRow(0);s=o.length;for(var u=l.insertRow(-1),c=0;c<s;c++){(f=u.insertCell(-1)).style.padding="0px",f.style.border="0px none",f.style.height="0px",f.style.overflow="visible",a.rtl||(f.style.textAlign="left"),(p=document.createElement("div")).style.marginRight=a.columnMarginRight+"px",p.style.position="relative",p.style.height="1px",p.style.marginTop="-1px";var d=document.createElement("div");d.style.position="relative",f.selection=d,f.appendChild(p),f.appendChild(d)}for(var h=0;h<r;h++){(u=t.insertRow(-1)).style.MozUserSelect="none",u.style.KhtmlUserSelect="none";for(c=0;c<s;c++){var f,p,v=this.ta[c];(f=u.insertCell(-1)).start=v.start.addTime(h*n),f.end=f.start.addTime(n),f.resource=v.id,f.onmousedown=this.ua,f.onmouseup=function(){return!1},f.onclick=function(){return!1},f.root=this,f.style.padding="0px",f.style.border="0px none",f.style.verticalAlign="top",f.style.height=a.cellHeight+"px",f.style.overflow="hidden",f.unselectable="on",(p=document.createElement("div")).unselectable="on",p.style.height=a.cellHeight+"px",p.style.position="relative",p.className=this.J("_cell"),this.Pa(f.start,f.end)&&i.Util.addClass(p,a.J("_cell_business"));var g=document.createElement("div");g.setAttribute("unselectable","on"),g.className=this.J("_cell_inner"),p.appendChild(g),f.appendChild(p),f.appendChild(p)}}t.root=this,a.nav.scrollable.onmousemove=function(t){var n=a.nav.scrollable;a.coords=i.mo3(n,t);var r=i.mc(t);if(e.resizing){e.resizingShadow||(e.resizingShadow=a.Z(e.resizing,!1,a.shadow));var o=a.cellHeight,s=1,l=r.y-e.originalMouse.y;if("bottom"===e.resizing.dpBorder){(c=Math.floor((e.originalHeight+e.originalTop+l+o/2)/o)*o-e.originalTop+s)<o&&(c=o);var u=a.nav.main.clientHeight;e.originalTop+c>u&&(c=u-e.originalTop),e.resizingShadow.style.height=c+"px"}else if("top"===e.resizing.dpBorder){var c;(d=Math.floor((e.originalTop+l-s+o/2)/o)*o+s)<s&&(d=s),d>e.originalTop+e.originalHeight-o&&(d=e.originalTop+e.originalHeight-o),(c=e.originalHeight-(d-e.originalTop))<o?c=o:e.resizingShadow.style.top=d+"px",e.resizingShadow.style.height=c+"px"}}else if(e.moving){if(!a.coords)return;if(!e.movingShadow){r=i.mc(t);if(Math.abs(r.x-e.originalMouse.x)+Math.abs(r.y-e.originalMouse.y)<=3)return;e.movingShadow=a.Z(e.moving,!a.O,a.shadow),e.movingShadow.style.width=e.movingShadow.parentNode.offsetWidth+1+"px"}o=a.cellHeight,s=1;var d,h=e.moveOffsetY;h||(h=o/2),(d=Math.floor((a.coords.y-h-s+o/2)/o)*o+s)<s&&(d=s);var f=a.nav.events,p=(u=a.nav.main.clientHeight,parseInt(e.movingShadow.style.height));d+p>u&&(d=u-p),i.Util.addClass(e.moving,a.J("_event_moving_source")),e.movingShadow.parentNode.style.display="none",e.movingShadow.style.top=d+"px",e.movingShadow.parentNode.style.display="";var v=f.clientWidth/f.rows[0].cells.length,g=Math.floor((a.coords.x-45)/v);g<0&&(g=0),g<f.rows[0].cells.length&&g>=0&&e.movingShadow.column!==g&&(e.movingShadow.column=g,e.moveShadow(f.rows[0].cells[g]))}else if(e.selecting){r=i.mc(t);var m=a.ya.getCellCoords(),y=e.column,b=a.nav.main.rows[m.y].cells[y];r.y<e.firstMousePos.y?(e.selectedCells=e.getCellsBelow(b),e.topSelectedCell=e.selectedCells[0],e.bottomSelectedCell=e.firstSelected):(e.selectedCells=e.getCellsAbove(b),e.topSelectedCell=e.firstSelected,e.bottomSelectedCell=e.selectedCells[0]),a.va()}},a.nav.scrollable.style.display=""},this.Pa=function(e,t){return this.businessBeginsHour<this.businessEndsHour?!(e.getHours()<this.businessBeginsHour||e.getHours()>=this.businessEndsHour||6===e.getDayOfWeek()||0===e.getDayOfWeek()):e.getHours()>=this.businessBeginsHour||e.getHours()<this.businessEndsHour},this.X=function(){var e=this.nav.header;if(e&&e.rows)for(var t=0;t<e.rows.length;t++)for(var n=e.rows[t],r=0;r<n.cells.length;r++){var a=n.cells[r];a.onclick=null,a.onmousemove=null,a.onmouseout=null}this.fasterDispose||i.pu(e)},this.Qa=function(e){function t(t){var o=r[t],s=e?n.insertCell(-1):n.cells[t];s.data=o,s.style.overflow="hidden",s.style.padding="0px",s.style.border="0px none",s.style.height=a.headerHeight+"px",s.onclick=a.Ra;var l,u=e?document.createElement("div"):s.firstChild;e?(u.unselectable="on",u.style.MozUserSelect="none",u.style.cursor="default",u.style.position="relative",u.className=a.J("_colheader"),u.style.height=a.headerHeight+"px",a.headerTextWrappingEnabled||(u.style.whiteSpace="nowrap"),(l=document.createElement("div")).className=a.J("_colheader_inner"),l.unselectable="on",u.appendChild(l),s.appendChild(u)):l=u.firstChild;var c={header:{}};c.header.cssClass=null,c.header.verticalAlignment="center",c.column=a.Sa(o,a),"function"==typeof a.onBeforeHeaderRender&&(i.Util.copyProps(o,c.header,["id","start","name","html","backColor","toolTip","areas"]),a.onBeforeHeaderRender(c),i.Util.copyProps(c.header,o,["html","backColor","toolTip","areas","cssClass","verticalAlignment"])),o.toolTip&&(l.title=o.toolTip),o.cssClass&&i.Util.addClass(u,o.cssClass),o.backColor&&(l.style.background=o.backColor),o.areas&&i.Areas.attach(u,o);var d=o.verticalAlignment;if(d)switch(l.style.display="flex",d){case"center":l.style.alignItems="center";break;case"top":l.style.alignItems="flex-start";break;case"bottom":l.style.alignItems="flex-end"}u.firstChild.innerHTML=a.Ia(o.name,o.html)}for(var n=e?this.nav.header.insertRow(-1):this.nav.header.rows[0],r=this.ta,o=r.length,s=0;s<o;s++)t(s)},this.Ra=function(e){if("Disabled"!==a.headerClickHandling){var t=this.data,n=a.Sa(t),i={header:{}};i.header.id=t.id,i.header.name=t.name,i.header.start=t.start,i.column=n,i.originalEvent=e,i.shift=e.shiftKey,i.ctrl=e.ctrlKey,i.meta=e.metaKey,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onHeaderClick&&(a.onHeaderClick(i),i.preventDefault.value)||"function"==typeof a.onHeaderClicked&&a.onHeaderClicked(i)}},this.Sa=function(e){return new i.CalendarColumn(e,a)},this.Ta=function(){return this.width&&-1!==this.width.indexOf("px")?"Pixel":"Percentage"},this.ea=function(){var e=this.nav.header;for(this.ta.length;this.headerCreated&&e&&e.rows&&e.rows.length>0;)this.fasterDispose||i.pu(e.rows[0]),e.deleteRow(0);this.headerCreated=!0,this.Qa(!0)},this.loadingStart=function(){this.loadingLabelVisible&&(this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.top=this.headerHeight+5+"px",this.nav.loading.style.display="")},this.commandCallBack=function(e,t){var n={};n.command=e,this.R("Command",t,n)},this.loadingStop=function(e){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.nav.loading.style.display="none"},this.Ua=function(){var e=this.nav.scroll;e.onscroll||(e.onscroll=function(){a.Va()});var t="undefined"!=typeof this.Wa.scrollpos?this.Wa.scrollpos:this.initScrollPos;t&&("Auto"===t&&(t="BusinessHours"===this.heightSpec?2*this.cellHeight*this.businessBeginsHour:0),e.root=this,0===e.scrollTop&&(e.scrollTop=t))},this.callbackError=function(e,t){alert("Error!\r\nResult: "+e+"\r\nContext:"+t)},this.Xa=function(){var e=i.sw(this.nav.scroll),t=this.nav.cornerRight;t&&(t.style.width=e+"px")},this.Ya=function(){e.globalHandlers||(e.globalHandlers=!0,i.re(document,"mouseup",e.gMouseUp),i.re(window,"unload",e.gUnload))},this.events={},this.events.add=function(e){var t=null;if(e instanceof i.Event)t=e.data;else{if("object"!=typeof e)throw"DayPilot.Calendar.events.add() expects an object or DayPilot.Event instance.";t=e}a.events.list||(a.events.list=[]),a.events.list.push(t),a.update(),a.qa.notify()},this.events.find=function(e){if(!a.events.list)return null;if("function"==typeof e){for(var t=e,n=0;n<a.events.list.length;n++){var r=new i.Event(a.events.list[n],a);if(t(r))return r}return null}for(n=0;n<a.events.list.length;n++){var o=a.events.list[n];if(o.id===e)return new i.Event(o,a)}return null},this.events.update=function(e){if(e instanceof i.Event)e.commit();else if("object"==typeof e){var t=a.events.find(e.id);if(t){var n=i.indexOf(a.events.list,t.data);a.events.list.splice(n,1,e)}}a.update(),a.qa.notify()},this.events.remove=function(e){var t;if(e instanceof i.Event)t=e.data;else if("object"==typeof e){(n=a.events.find(e.id))&&(t=n.data)}else if("string"==typeof e||"number"==typeof e){var n;(n=a.events.find(e))&&(t=n.data)}var r=i.indexOf(a.events.list,t);a.events.list.splice(r,1),a.update(),a.qa.notify()},this.events.load=function(e,t,n){var r=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},o=function(e){var n,o=e.request;try{n=JSON.parse(o.responseText)}catch(e){var s={};return s.exception=e,void r(s)}if(i.isArray(n)){var l={preventDefault:function(){this.preventDefault.value=!0}};if(l.data=n,"function"==typeof t&&t(l),l.preventDefault.value)return;a.events.list=n,a.za&&a.update()}};if(a.eventsLoadMethod&&"POST"===a.eventsLoadMethod.toUpperCase())i.Http.ajax({method:"POST",data:{start:a.visibleStart().toString(),end:a.visibleEnd().toString()},url:e,success:o,error:r});else{var s=e,l="start="+a.visibleStart().toString()+"&end="+a.visibleEnd().toString();s+=s.indexOf("?")>-1?"&"+l:"?"+l,i.Http.ajax({method:"GET",url:s,success:o,error:r})}},this.Za=function(){if(a.nav.top.className!==a.J("_main")){a.nav.top.className=a.J("_main");var e=a.nav.corner;e.className=a.J("_corner"),e.firstChild.className=a.J("_corner_inner");var t=a.nav.cornerRight;t&&(t.className=a.J("_cornerright"),t.firstChild.className=a.J("_cornerright_inner"))}},this.update=function(e){a.$a(e),this.za&&(a._a(),a.V(),a.nav.top.style.cursor="auto",a.ba(),a.ea(),a.fa(),a.ga(),a.ha(),a.Na(),a.Za(),a.ab(),a.ca(),a.da(),a.s(),a.ia(),a.clearSelection(),this.visible?this.show():this.hide())},this.bb=null,this.$a=function(e){if(e){var t={events:{preInit:function(){var e=this.data||[];i.isArray(e.list)?a.events.list=e.list:a.events.list=e}},columns:{preInit:function(){a.columns.list=this.data}}};for(var n in this.bb=t,e)if(t[n]){var r=t[n];r.data=e[n],r.preInit&&r.preInit()}else a[n]=e[n]}},this.cb=function(){var e=this.bb;for(var t in e){var n=e[t];n.postInit&&n.postInit()}},this.db=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Calendar() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Calendar: The placeholder element not found: '"+t+"'."}},this.eb={},this.eb.events=[],this.fb=function(e){var t=this.eb.events,n=this.events.list[e],i={};for(var r in n)i[r]=n[r];if("function"==typeof this.onBeforeEventRender){var o={};o.control=a,o.data=i,this.onBeforeEventRender(o)}t[e]=i},this.ca=function(){var e=this.events.list;if(a.eb.events=[],e){if(!i.isArray(e))throw new i.Exception("DayPilot.Calendar.events.list expects an array object. You supplied: "+typeof e);var t=e.length;this.cache.pixels={};var n=[];this.scrollLabels=[],this.minStart=1e4,this.maxEnd=0;for(var r=0;r<t;r++){var o=S=e[r];if("object"!=typeof o)throw new i.Exception("Event data item must be an object");if(!o.start)throw new i.Exception("Event data item must specify 'start' property");if(!o.end)throw new i.Exception("Event data item must specify 'end' property");if(o instanceof i.Event)throw new i.Exception("DayPilot.Calendar: DayPilot.Event object detected in events.list array. Use raw event data instead.");S.start=new i.Date(S.start),S.end=new i.Date(S.end)}if("function"==typeof this.onBeforeEventRender)for(r=0;r<t;r++)this.fb(r);for(r=0;r<this.ta.length;r++){var s={minEnd:1e6,maxStart:-1};this.scrollLabels.push(s),(C=this.ta[r]).events=[],C.lines=[],C.blocks=[];for(var l=new i.Date(C.start),u=l.getTime(),c=l.addTime(864e5),d=c.getTime(),h=0;h<t;h++)if(!n[h]){var f=(S=e[h]).start,p=S.end,v=f.getTime(),g=p.getTime();if(!(g<v)){var m=!(g<=u||v>=d);if("Resources"===a.viewType&&(m=m&&C.id===S.resource),m){var y=new i.Event(S,a);y.part.dayIndex=r,y.part.start=u<v?S.start:l,y.part.end=d>g?S.end:c;var b=this.getPixels(y.part.start,C.start),_=this.getPixels(y.part.end,C.start),x=b.top,w=_.top;if(x===w&&(b.cut||_.cut))continue;var k=_.boxBottom;y.part.top=Math.floor(x/this.cellHeight)*this.cellHeight+1,y.part.height=Math.max(Math.ceil(k/this.cellHeight)*this.cellHeight-y.part.top,this.cellHeight-1)+1,y.part.barTop=Math.max(x-y.part.top-1,0),y.part.barHeight=Math.max(w-x-2,1);f=y.part.top,p=y.part.top+y.part.height;f>s.maxStart&&(s.maxStart=f),p<s.minEnd&&(s.minEnd=p),f<this.minStart&&(this.minStart=f),p>this.maxEnd&&(this.maxEnd=p),C.events.push(y),"function"==typeof this.onBeforeEventRender&&(y.cache=this.eb.events[h]),y.part.start.getTime()===v&&y.part.end.getTime()===g&&(n[h]=!0)}}}}for(r=0;r<this.ta.length;r++){var C;(C=this.ta[r]).events.sort(this.gb);for(h=0;h<C.events.length;h++){var S=C.events[h];C.putIntoBlock(S)}for(h=0;h<C.blocks.length;h++){var E=C.blocks[h];E.events.sort(this.gb);for(var T=0;T<E.events.length;T++){S=E.events[T];E.putIntoLine(S)}}}}},this.gb=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var n=e.start().getTime()-t.start().getTime();return 0!==n?n:t.end().getTime()-e.end().getTime()},this.debug=function(e,t){this.debuggingEnabled&&(a.debugMessages||(a.debugMessages=[]),a.debugMessages.push(e),"undefined"!=typeof console&&console.log(e))},this.getPixels=function(e,t){t||(t=this.startDate);var n=t.getTime(),i=e.getTime(),r=this.cache.pixels[i+"_"+n];if(r)return r;var a=18e5,o=i-(n=t.getTime()),s=o%a,l=o-s,u=l+a;0===s&&(u=l);var c={cut:!1};return c.top=this.hb(o),c.boxTop=this.hb(l),c.boxBottom=this.hb(u),this.cache.pixels[i+"_"+n]=c,c},this.hb=function(e){return Math.floor(this.cellHeight*e/18e5)},this._a=function(){this.startDate=new i.Date(this.startDate).getDatePart()},this.da=function(){this.nav.corner&&(this.nav.corner.style.height=this.headerHeight+"px")},this.ha=function(){var e=this.Fa();this.nav.scroll&&e>0&&(this.nav.scroll.style.height=e+"px")},this.qa={},this.qa.scope=null,this.qa.notify=function(){a.qa.scope&&a.qa.scope.$apply()},this.qa.apply=function(e){e()},this.Va=function(){if(a.nav.scroll){var e=a.nav.scroll.scrollTop/(2*a.cellHeight);a.Wa.scrollHour=e}},this.ab=function(){var e=0;a.Wa.scrollHour?e=2*a.cellHeight*a.Wa.scrollHour:"Auto"===a.initScrollPos&&(e="BusinessHours"===this.heightSpec?2*this.cellHeight*this.businessBeginsHour:0),a.nav.scroll.scrollTop=e},this.ib=function(){return!(!this.backendUrl&&"function"!=typeof WebForm_DoCallback)&&("undefined"==typeof a.events.list||!a.events.list)},this.s=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.show=function(){a.visible=!0,a.nav.top.style.display=""},this.hide=function(){a.visible=!1,a.nav.top.style.display="none"},this.jb=function(){this._a(),this.ba(),this.Ea(),this.ea(),this.fa(),this.Xa(),this.Ua(),this.Ya(),e.register(this),this.kb(),this.R("Init")},this.Wa={},this.lb=function(){this.Wa.themes=[],this.Wa.themes.push(this.theme||this.cssClassPrefix)},this.mb=function(){for(var e=this.Wa.themes,t=0;t<e.length;t++){var n=e[t];i.Util.removeClass(this.nav.top,n+"_main")}this.Wa.themes=[]},this.nb=function(){if(this.afterRender(null,!1),"function"==typeof this.onAfterRender){var e={isCallBack:!1};this.onAfterRender(e)}},this.ob=function(){if("function"==typeof this.onInit&&!this.pb){this.pb=!0;this.onInit({})}},this.qb=function(){var e=a.nav.top;return!!e&&e.offsetWidth>0&&e.offsetHeight>0},this.kb=function(){var e=a.qb;e()||(a.U=setInterval((function(){e()&&(a.Ua(),a.Xa(),clearInterval(a.U))}),100))},this.Ia=function(e,t){return a._.aa()?i.Util.escapeTextHtml(e,t):i.Util.isNullOrUndefined(t)?i.Util.isNullOrUndefined(e)?"":e:t},this.internal={},this.internal.loadOptions=a.$a,this.internal.xssTextHtml=a.Ia,this.init=function(){this.db();var t=this.ib();return this.lb(),t?void this.jb():(this._a(),this.ba(),this.ca(),this.Ea(),this.ea(),this.fa(),this.s(),this.Xa(),this.Ua(),this.Ya(),e.register(this),this.events&&(this.da(),this.ia()),this.nb(),this.ob(),this.kb(),this.za=!0,this)},this.Init=this.init,this.$a(n)}};i.CalendarColumn=function(e,t){var n=this;n.id=e.id,n.name=e.name,n.data=e.data,n.start=new i.Date(e.start),n.calendar=t,n.toJSON=function(){var e={};return e.id=this.id,this.start&&(e.start=this.start.toString()),e.name=this.name,e}},i.Calendar=e.Calendar,"undefined"!=typeof jQuery&&(jQuery.fn.daypilotCalendar=function(e){var t=null,n=this.each((function(){if(!this.daypilot){var n=new i.Calendar(this.id);for(name in this.daypilot=n,e)n[name]=e[name];n.init(),t||(t=n)}}));return 1===this.length?t:n}),function(){var e=i.am();e&&e.directive("daypilotCalendar",["$parse",function(e){return{restrict:"E",template:"<div></div>",replace:!0,link:function(t,n,r){var a=new i.Calendar(n[0]);a.qa.scope=t,a.init();var o=r.id;o&&(t[o]=a);var s=r.publishAs;for(var l in s&&(0,e(s).assign)(t,a),r)0===l.indexOf("on")&&function(n){a[n]=function(i){var a=e(r[n]);t.$apply((function(){a(t,{args:i})}))}}(l);var u=t.$watch,c=r.config||r.daypilotConfig,d=r.events||r.daypilotEvents;u.call(t,c,(function(e){for(var t in e)a[t]=e[t];a.update(),a.ob()}),!0),u.call(t,d,(function(e){a.events.list=e,a.update()}),!0)}}}])}()}}(),"undefined"==typeof i)i={};if("undefined"!=typeof i.DatePicker&&i.DatePicker.close||(i.DatePicker=function(e){this.v="2023.3.499-lite";var t="navigator_"+(new Date).getTime(),n=this;this.onShow=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.prepare=function(){if(this.locale="en-us",this.target=null,this.targetAlignment="left",this.resetTarget=!0,this.pattern=this._.locale().datePattern,this.theme="navigator_default",this.patterns=[],this.zIndex=null,e)for(var t in e)this[t]=e[t]},this.init=function(){this.date=new i.Date(this.date);var e=this.rb();this.resetTarget&&!e?this.sb(this.date):this.resetTarget||(n.date=e);var t=this.B();return t&&t.addEventListener("input",(function(){n.date=n.rb(),n.date&&n.navigator.select(n.date,{dontNotify:!0})})),document.addEventListener("mousedown",(function(){n.close()})),this},this.close=function(){this.qb&&(this.qb=!1,this.navigator&&this.navigator.dispose(),this.div.innerHTML="",this.div&&this.div.parentNode===document.body&&document.body.removeChild(this.div))},this.setDate=function(e){this.date=new i.Date(e),this.sb(this.date)},this.rb=function(){var e,t=this.B();if(!t)return this.date;if(!(e="INPUT"===t.tagName?t.value:t.innerText))return null;for(var r=i.Date.parse(e,n.pattern),a=0;a<n.patterns.length;a++){if(r)return r;r=i.Date.parse(e,n.patterns[a])}return r},this.sb=function(e){var t=this.B();if(t){var i=e.toString(n.pattern,n.locale);"INPUT"===t.tagName?t.value=i:t.innerHTML=i}},this._={},this._.locale=function(){return i.Locale.find(n.locale)},this.B=function(){var e=this.target;return e&&e.nodeType&&1===e.nodeType?e:document.getElementById(e)},Object.defineProperty(this,"visible",{get:function(){return n.qb}}),this.show=function(){if(!this.qb){var e=this.B(),r=this.navigator;(r=new i.Navigator(t)).api=2,r.cssOnly=!0,r.theme=n.theme,r.weekStarts="Auto",r.locale=n.locale,r.onTimeRangeSelected=function(e){n.date=e.start;var t=e.start.addTime(r.tb),i=t.toString(n.pattern,n.locale);(e={}).start=t,e.date=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(e),e.preventDefault.value)||(n.sb(i),n.close(),"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(e))},this.navigator=r;var a=i.abs(e),o=e.offsetHeight,s=n.targetAlignment,l=document.createElement("div");l.style.position="absolute","left"===s&&(l.style.left=a.x+"px"),l.style.top=a.y+o+"px",n.zIndex&&(l.style.zIndex=n.zIndex);var u=document.createElement("div");u.id=t,l.appendChild(u),l.addEventListener("mousedown",(function(e){(e=e||window.event).cancelBubble=!0,e.stopPropagation&&e.stopPropagation()})),document.body.appendChild(l),this.div=l;var c=n.rb()||(new i.Date).getDatePart();if(r.startDate=c,r.tb=c.getTimePart(),r.selectionDay=c.getDatePart(),r.init(),"right"===s){var d=a.x+e.offsetWidth-r.nav.top.offsetWidth;l.style.left=d+"px"}this.qb=!0,this.onShow&&this.onShow()}},this.prepare(),this.init()}),"undefined"==typeof i)i={};if("undefined"==typeof i.Global&&(i.Global={}),function(e){"use strict";if("undefined"==typeof e.Menu||!e.Menu.def){var t={mouse:null,menu:null,handlersRegistered:!1,hideTimeout:null,waitingSubmenu:null};e.Menu=function(n){var i=this,r=null;this.v="2023.3.499-lite",this.zIndex=120,this.cssClassPrefix="menu_default",this.cssOnly=!0,this.menuTitle=null,this.showMenuTitle=!1,this.hideOnMouseOut=!1,this.hideAfter=200,this.theme=null,this.onShow=null,this.ub=function(){},n&&e.isArray(n)&&(this.items=n),this.toJSON=function(){return null},this.show=function(n,a){a=a||{};var o=null;if(n?"string"==typeof n.id||"number"==typeof n.id?o=n.id:"function"==typeof n.id?o=n.id():"function"==typeof n.value&&(o=n.value()):o=null,"undefined"!=typeof e.Bubble&&e.Bubble.hideActive(),a.submenu||t.menuClean(),this.ub.submenu=null,null!==t.mouse){i.cssOnly||(i.cssOnly=!0);var s=null;if(n&&n.isRow&&n.$.row.task?(s=new e.Task(n.$.row.task,n.calendar)).menuType="resource":s=n&&n.isEvent&&n.data.task?new e.Task(n,n.calendar):n,"function"==typeof i.onShow){var l={};if(l.source=s,l.menu=i,l.preventDefault=function(){l.preventDefault.value=!0},i.onShow(l),l.preventDefault.value)return}var u=document.createElement("div");if(u.style.position="absolute",u.style.top="0px",u.style.left="0px",u.style.display="none",u.style.overflow="hidden",u.style.zIndex=this.zIndex+1,u.className=this.vb("main"),u.onclick=function(e){e.cancelBubble=!0,this.parentNode.removeChild(this)},this.hideOnMouseOut&&(u.onmousemove=function(e){clearTimeout(t.hideTimeout)},u.onmouseleave=function(e){i.delayedHide({hideParent:!0})}),!this.items||0===this.items.length)throw"No menu items defined.";if(this.showMenuTitle){var c=document.createElement("div");c.innerHTML=this.menuTitle,c.className=this.vb("title"),u.appendChild(c)}for(var d=0;d<this.items.length;d++){var h=this.items[d],f=document.createElement("div");if(e.Util.addClass(f,this.vb("item")),h.items&&(e.Util.addClass(f,this.vb("item_haschildren")),e.Util.addClass(u,this.vb("withchildren"))),"undefined"!=typeof h&&!h.hidden){if("-"===h.text){var p=document.createElement("div");p.addEventListener("click",(function(e){e.stopPropagation()})),f.appendChild(p)}else{var v=document.createElement("a");if(v.style.position="relative",v.style.display="block",h.cssClass&&e.Util.addClass(v,h.cssClass),h.disabled)e.Util.addClass(v,i.vb("item_disabled"));else{if(h.onclick||h.onClick){v.item=h,v.onclick=function(e,t){return function(n){if("function"==typeof e.onClick){var i={};if(i.item=e,i.source=t.source,i.originalEvent=n,i.preventDefault=function(){i.preventDefault.value=!0},e.onClick(i),i.preventDefault.value)return}e.onclick&&e.onclick.call(t,n)}}(h,v);e.reNonPassive(v,"touchstart",(function(e){e.stopPropagation(),e.preventDefault(),v.source.calendar.internal.touch.active=!0})),e.reNonPassive(v,"touchend",function(e,n){return function(i){i.stopPropagation(),i.preventDefault();var r=function(){window.setTimeout((function(){n.source.calendar.internal.touch.active=!1}),500)};if("function"==typeof e.onClick){var a={};if(a.item=e,a.source=n.source,a.originalEvent=i,a.preventDefault=function(){a.preventDefault.value=!0},e.onClick(a),a.preventDefault.value)return void r()}e.onclick&&e.onclick.call(n,i),t.menuClean(),r()}}(h,v))}if(h.items&&!h.disabled){var g=function(e,t){return function(n){n.preventDefault(),n.stopPropagation(),i.wb(e,t)}};v.ontouchend=g(h,v)}if(h.onclick);else if(h.href)v.href=h.href.replace(/\x7B0\x7D/gim,o),h.target&&v.setAttribute("target",h.target);else if(h.command){g=function(t,n){return function(i){var r=n.source,a=t;a.action=a.action?a.action:"CallBack";var o=r.calendar||r.root;if(r instanceof e.Link)o.internal.linkMenuClick(a.command,r,a.action);else if(r instanceof e.Selection)o.internal.timeRangeMenuClick(a.command,r,a.action);else if(r instanceof e.Event)o.internal.eventMenuClick(a.command,r,a.action);else if(r instanceof e.Selection)o.internal.timeRangeMenuClick(a.command,r,a.action);else if(r instanceof e.Task)"resource"===r.menuType?o.internal.resourceHeaderMenuClick(a.command,n.menuSource,a.action):o.internal.eventMenuClick(a.command,n.menuSource,a.action);else{switch(r.menuType){case"resource":return void o.internal.resourceHeaderMenuClick(a.command,r,a.action);case"selection":return void o.internal.timeRangeMenuClick(a.command,r,a.action);default:return void o.internal.eventMenuClick(a.command,r,a.action)}i.preventDefault()}}};v.onclick=g(h,v),v.ontouchend=g(h,v)}}h.items&&v.addEventListener("click",(function(e){e.stopPropagation()})),v.source=s,v.menuSource=n;var m=document.createElement("span");if(m.className=i.vb("item_text"),m.innerHTML=e.Util.escapeTextHtml(h.text,h.html),v.appendChild(m),h.image){var y=document.createElement("img");y.src=h.image,y.style.position="absolute",y.style.top="0px",y.style.left="0px",v.appendChild(y)}if(h.icon){var b=document.createElement("span");b.className=i.vb("item_icon");var _=document.createElement("i");_.className=h.icon,b.appendChild(_),v.appendChild(b)}if(h.symbol){var x="http://www.w3.org/2000/svg",w=document.createElementNS(x,"svg");w.setAttribute("width","100%"),w.setAttribute("height","100%");var k=document.createElementNS(x,"use");k.setAttribute("href",h.symbol),w.appendChild(k);var C=document.createElement("span");C.className=i.vb("item_symbol"),C.style.position="absolute",C.style.top="0px",C.style.left="0px",C.appendChild(w),v.appendChild(C)}v.onmouseover=function(e,n){return function(){var r=(n.source,e),a=t.waitingSubmenu;if(a){if(a.parent===r)return;clearTimeout(a.timeout),t.waitingSubmenu=null}e.disabled||(t.waitingSubmenu={},t.waitingSubmenu.parent=r,t.waitingSubmenu.timeout=setTimeout((function(){t.waitingSubmenu=null,i.wb(r,n)}),300))}}(h,v),f.appendChild(v)}u.appendChild(f)}}var S=function(n){window.setTimeout((function(){t.menuClean(),e.MenuBar.deactivate()}),100)};u.onclick=S,u.ontouchend=S,u.onmousedown=function(e){(e=e||window.event).cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},u.oncontextmenu=function(){return!1},document.body.appendChild(u),i.ub.visible=!0,i.ub.source=n,u.style.display="";var E=u.offsetHeight,T=u.offsetWidth;u.style.display="none";var R=document.documentElement.clientHeight,M=window.innerWidth,I="number"==typeof a.windowMargin?a.windowMargin:5;if(function(){var t=a.initiator;if(t){var n=t.div,i=t.e,o=t.area,s=o.visibility||o.v||"Visible",l=t.a;if("Visible"!==s&&(l=e.Areas.createArea(n,i,o),n.appendChild(l),r=l),l){var u=e.abs(l);a.x=u.x,a.y=u.y+u.h+2}}}(),function(){var e="number"==typeof a.x?a.x:t.mouse.x+1,n="number"==typeof a.y?a.y:t.mouse.y+1,i=document.body.scrollTop||document.documentElement.scrollTop,r=document.body.scrollLeft||document.documentElement.scrollLeft;if(n-i>R-E&&0!==R){var o=n-i-(R-E)+I;u.style.top=n-o+"px"}else u.style.top=n+"px";if("right"===a.align&&(e-=T),e-r>M-T&&0!==M){var s=e-r-(M-T)+I;u.style.left=e-s+"px"}else u.style.left=e+"px"}(),a.parentLink){var D=a.parentLink,P=parseInt(new e.StyleReader(u).get("border-top-width")),A=e.abs(a.parentLink.parentNode),N=A.x+D.offsetWidth,L=A.y-P;N+T>M&&(N=Math.max(0,A.x-T));var O=document.body.scrollTop+document.documentElement.scrollTop;L+E-O>R&&(L=Math.max(0,R-E+O)),u.style.left=N+"px",u.style.top=L+"px"}u.style.display="",this.addShadow(u),this.ub.div=u,a.submenu||(e.Menu.active=this)}},this.wb=function(t,n){var r=t,a=n.source;if((!i.ub.submenu||i.ub.submenu.item!==t)&&(i.ub.submenu&&i.ub.submenu.item!==t&&(e.Util.removeClass(i.ub.submenu.link.parentNode,i.vb("item_haschildren_active")),i.ub.submenu.menu.hide(),i.ub.submenu=null),t.items)){var o=i.cloneOptions();o.items=t.items,i.ub.submenu={},i.ub.submenu.menu=new e.Menu(o),i.ub.submenu.menu.xb=i,i.ub.submenu.menu.show(a,{submenu:!0,parentLink:n,parentItem:r}),i.ub.submenu.item=t,i.ub.submenu.link=n,e.Util.addClass(n.parentNode,i.vb("item_haschildren_active"))}},this.vb=function(e){var t=this.theme||this.cssClassPrefix,n=this.cssOnly?"_":"";return t?t+n+e:""},this.cloneOptions=function(){return e.Util.copyProps(a,{},["cssClassPrefix","theme","hideAfter","hideOnMouseOut","zIndex"])},this.hide=function(n){n=n||{},this.ub.submenu&&this.ub.submenu.menu.hide();var a=t.waitingSubmenu;if(a&&(t.waitingSubmenu=null,clearTimeout(a.timeout)),this.removeShadow(),this.ub.div&&this.ub.div.parentNode===document.body&&document.body.removeChild(this.ub.div),r&&(e.de(r),r=null),i.ub.visible=!1,i.ub.source=null,i.xb&&n.hideParent&&i.xb.hide(n),e.Menu.active===i&&(e.Menu.active=null),"function"==typeof this.onHide){this.onHide({})}},this.delayedHide=function(e){t.hideTimeout=setTimeout((function(){i.hide(e)}),i.hideAfter)},this.cancelHideTimeout=function(){clearTimeout(t.hideTimeout)},this.init=function(e){return t.mouseMove(e),this},this.addShadow=function(e){},this.removeShadow=function(){};var a=e.isArray(n)?null:n;if(a)for(var o in a)this[o]=a[o]},e.MenuBar=function(t,n){var i=this;for(var r in n=n||{},this.items=[],this.theme="menubar_default",this.windowMargin=0,this.nav={},this.elements={},this.elements.items=e.list(),this.k=null,this.za=!1,n)this[r]=n[r];this.yb=function(e){return this.theme+"_"+e},this.s=function(){this.nav.top=document.getElementById(t);var n=this.nav.top;n.className=this.yb("main"),e.list(i.items).forEach((function(t){var r=document.createElement("span");r.innerHTML=e.Util.escapeTextHtml(t.text,t.html),r.className=i.yb("item"),t.cssClass&&r.classList.add(t.cssClass),r.data=t,r.onclick=function(e){if(i.active&&i.active.item===t)i.zb();else if(t.children)return void i.Ab(r);if("function"==typeof t.onClick){var n={};n.item=t,n.originalEvent=e,t.onClick(n)}},r.onmousedown=function(e){e.stopPropagation()},r.onmouseover=function(){i.active&&i.active.item!==t&&i.Ab(r)},n.appendChild(r),i.elements.items.push(r)}))},this.zb=function(){var t=i.yb("item_active");i.elements.items.forEach((function(n){e.Util.removeClass(n,t)})),i.active&&i.active.menu&&i.active.menu.hide(),i.active=null},this.Bb=function(e){return!!i.active&&i.active.item===e.data},this.Ab=function(t){if(!i.Bb(t)){i.zb();var n=t.data,r=i.active={};r.item=n,r.div=t;var a=i.yb("item_active");e.Util.addClass(t,a);var o=e.abs(t);if(n.children){r.menu=new e.Menu({items:n.children});var s=o.x;"right"===n.align&&(s+=o.w),r.menu.show(null,{x:s,y:o.y+o.h,align:n.align,windowMargin:i.windowMargin})}e.MenuBar.active=i}},this.init=function(){return this.s(),this.za=!0,this},this.dispose=function(){this.za&&(this.nav.top.innerHTML="",this.elements.items=[])}},e.MenuBar.deactivate=function(){e.MenuBar.active&&(e.MenuBar.active.zb(),e.MenuBar.active=null)},t.menuClean=function(){"undefined"!=typeof e.Menu.active&&e.Menu.active&&(e.Menu.active.hide(),e.Menu.active=null)},t.mouseDown=function(n){"undefined"!=typeof t&&(t.menuClean(),e.MenuBar.deactivate())},t.mouseMove=function(e){"undefined"!=typeof t&&(t.mouse=t.mousePosition(e))},t.touchMove=function(e){"undefined"!=typeof t&&(t.mouse=t.touchPosition(e))},t.touchStart=function(e){"undefined"!=typeof t&&(t.mouse=t.touchPosition(e))},t.touchEnd=function(e){},t.touchPosition=function(e){if(!e||!e.touches)return null;var t=e.touches[0],n={};return n.x=t.pageX,n.y=t.pageY,n},t.mousePosition=function(t){return e.mo3(null,t)},e.Menu.touchPosition=function(e){e.touches&&(t.mouse=t.touchPosition(e))},e.Menu.hide=function(n){if((n=n||{}).calendar){var i=e.Menu.active;if(i){var r=i.ub.source;r&&r.calendar===n.calendar&&t.menuClean()}}else t.menuClean()},t.handlersRegistered||(e.re(document,"mousemove",t.mouseMove),e.re(document,"mousedown",t.mouseDown),e.re(document,"touchmove",t.touchMove),e.re(document,"touchstart",t.touchStart),e.re(document,"touchend",t.touchEnd),t.handlersRegistered=!0),e.Menu.def={}}}(i),"undefined"==typeof i&&(i={}),function(e){"use strict";function t(e,n,i){var r=n.indexOf(".");if(-1!==r){var a=n.substring(0,r);if("__proto__"!==a&&"constructor"!==a){var o=n.substring(r+1),s=e[a];"object"==typeof s&&null!==s||(e[a]={},s=e[a]),t(s,o,i)}}else"__proto__"!==n&&"constructor"!==n&&(e[n]=i)}function n(e,t,i){for(var r in t=t||{},i=i||"",e){var a=e[r];"object"==typeof a?"[object Array]"===Object.prototype.toString.call(a)?t[i+r]=a:a&&a.toJSON?t[i+r]=a.toJSON():n(a,t,i+r+"."):t[i+r]=a}return t}if(!e.ModalStatic){e.ModalStatic={},e.ModalStatic.list=[],e.ModalStatic.hide=function(){if(this.list.length>0){var e=this.list.pop();e&&e.hide()}},e.ModalStatic.remove=function(t){for(var n=e.ModalStatic.list,i=0;i<n.length;i++)if(n[i]===t)return void n.splice(i,1)},e.ModalStatic.close=function(t){e.ModalStatic.result(t),e.ModalStatic.hide()},e.ModalStatic.result=function(t){var n=e.ModalStatic.list;n.length>0&&(n[n.length-1].result=t)},e.ModalStatic.displayed=function(t){for(var n=e.ModalStatic.list,i=0;i<n.length;i++)if(n[i]===t)return!0;return!1},e.ModalStatic.stretch=function(){if(this.list.length>0){var e=this.list[this.list.length-1];e&&e.stretch()}},e.ModalStatic.last=function(){var t=e.ModalStatic.list;return t.length>0?t[t.length-1]:null};var i="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxwYXRoCiAgICAgICBpZD0icGF0aDMxNzMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoxLjg1MTk2ODUzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICAgIGQ9Ik0gMC45NTQxNDgzOCwwLjY4MTYwMzEgNS4wMzkwNjI1LDUuNDExNTM4NiA5LjEyMzk3NjYsMC42ODE2MDMxIgogICAgICAgIC8+CiAgPC9nPgo8L3N2Zz4K",r=new function(){var e=document.createElement("style");e.setAttribute("type","text/css"),e.styleSheet||e.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(e);var t=!!e.styleSheet,n={rules:[],commit:function(){try{t&&(e.styleSheet.cssText=this.rules.join("\n"))}catch(e){}},add:function(n,i,r){if(t)this.rules.push(n+"{"+i+"}");else if(e.sheet.insertRule)"undefined"==typeof r&&(r=e.sheet.cssRules.length),e.sheet.insertRule(n+"{"+i+"}",r);else{if(!e.sheet.addRule)throw"No CSS registration method found";e.sheet.addRule(n,i,r)}}};return n};r.add(".modal_default_main","border: 10px solid #ccc; max-width: 90%;"),r.add(".modal_default_main:focus","outline: none;"),r.add(".modal_default_content","padding: 10px 0px;"),r.add(".modal_default_inner","padding: 20px;"),r.add(".modal_default_input","padding: 10px 0px;"),r.add(".modal_default_buttons","margin-top: 10px;"),r.add(".modal_default_buttons","padding: 10px 0px;"),r.add(".modal_default_form_item","padding: 10px 0px; position: relative;"),r.add(".modal_default_form_item_level1","border-left: 2px solid #ccc; margin-left: 10px; padding-left: 20px;"),r.add(".modal_default_form_item.modal_default_form_title","font-size: 1.5rem; font-weight: bold;"),r.add(".modal_default_form_item input[type=text]","width: 100%; box-sizing: border-box;"),r.add(".modal_default_form_item textarea","width: 100%; height: 200px; box-sizing: border-box;"),r.add(".modal_default_form_item input[type=select]","width: 100%; box-sizing: border-box;"),r.add(".modal_default_form_item label","display: block;"),r.add(".modal_default_form_item select","width: 100%; box-sizing: border-box;"),r.add(".modal_default_form_item_label","margin: 2px 0px;"),r.add(".modal_default_form_item_image img","max-width: 100%; height: auto;"),r.add(".modal_default_form_item_invalid",""),r.add(".modal_default_form_item_invalid_message","position: absolute; right: 0px; top: 9px; background-color: red; color: #ffffff; padding: 2px; border-radius: 2px;"),r.add(".modal_default_background","opacity: 0.5; background-color: #000;"),r.add(".modal_default_ok","padding: 3px; width: 80px;"),r.add(".modal_default_cancel","padding: 3px; width: 80px;"),r.add(".modal_default_form_item_date","position: relative;"),r.add(".modal_default_form_item_date:after","content: ''; position: absolute; right: 7px; top: 50%; margin-top: 3px; width: 10px; height: 15px; background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojY2NjY2NjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjM4MDM3MzM2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDE5MjgiCiAgICAgICB3aWR0aD0iOS45MTUzMDYxIgogICAgICAgaGVpZ2h0PSIxMS4zNjkzNyIKICAgICAgIHg9IjAuMTE3MTg3NSIKICAgICAgIHk9Ii0zLjAwOTk5NTciCiAgICAgICByeT0iMS4zMTE4NTA1IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNTk4MTQwMTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MTkzMCIKICAgICAgIHdpZHRoPSIxLjUzNDQxMzYiCiAgICAgICBoZWlnaHQ9IjIuMjE5ODI1IgogICAgICAgeD0iMi4xNTU4NDgzIgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHJ5PSIwLjY3MTc4OTE3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iMS41MjM5NTA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QxOTQ4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjY3MTc4OTE3IgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHg9IjYuNDUyNzIzNSIKICAgICAgIGhlaWdodD0iMi4yMTk4MjUiCiAgICAgICB3aWR0aD0iMS41MzQ0MTM2IgogICAgICAgaWQ9InJlY3QyMDAzIgogICAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS41OTgxNDAxMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAwNSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIHk9Ii0xLjE2NTg0NjYiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iNi45OTI3MDA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDA3IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAxMyIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjEuNTIzOTUwNiIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHJ5PSIwLjI5NjAxNDciIC8+CiAgICA8cmVjdAogICAgICAgcnk9IjAuMjk2MDE0NyIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGlkPSJyZWN0MjAxNSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDIwMTciCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB4PSI2Ljk5MjcwMDYiCiAgICAgICB5PSIxLjgwMjkwMzQiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSI0LjczMjU5MDciCiAgICAgICB4PSIxLjU2MzAxMzEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBpZD0icmVjdDIwMTkiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3QyMDIxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgeD0iNC4yNTgzMjU2IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgcnk9IjAuMjk2MDE0NyIgLz4KICAgIDxyZWN0CiAgICAgICByeT0iMC4yOTYwMTQ3IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgeD0iNy4wMzE3NjMxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDIzIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDwvZz4KPC9zdmc+Cg==)"),-1!==navigator.userAgent.indexOf("Edge")&&r.add(".modal_default_form_item_date input::-ms-clear","display: none;"),r.add(".modal_default_form_item_scrollable_scroll","width: 100%; height: 200px; box-sizing: border-box; border: 1px solid #ccc; overflow-y: auto;"),r.add(".modal_default_form_item_scrollable_scroll_content","padding: 5px;"),r.add(".modal_default_form_item_searchable","position: relative;"),r.add(".modal_default_form_item_searchable_icon",""),r.add(".modal_default_form_item_searchable_icon:after","content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url("+i+");"),r.add(".modal_default_form_item_searchable_list","box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),r.add(".modal_default_form_item_searchable_list_item","background: white; padding: 2px; cursor: default;"),r.add(".modal_default_form_item_searchable_list_item_highlight","background: #ccc;"),r.add(".modal_default_form_item_time","position: relative;"),r.add(".modal_default_form_item_time_icon",""),r.add(".modal_default_form_item_time_icon:after","content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url("+i+");"),r.add(".modal_default_form_item_time_list","box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),r.add(".modal_default_form_item_time_list_item","background: white; padding: 2px; cursor: default;"),r.add(".modal_default_form_item_time_list_item_highlight","background: #ccc;"),r.add(".modal_default_form_item_datetime_parent","display: flex;"),r.add(".modal_default_form_item_datetime .modal_default_form_item_time_main","margin-left: 5px;"),r.add(".modal_default_form_item_datetime input[type='text'].modal_default_input_date ",""),r.add(".modal_default_form_item_tabular_main","margin-top: 10px;"),r.add(".modal_default_form_item_tabular_table","display: table; width: 100%; xbackground-color: #fff; border-collapse: collapse;"),r.add(".modal_default_form_item_tabular_tbody","display: table-row-group;"),r.add(".modal_default_form_item_tabular_row","display: table-row;"),r.add(".modal_default_form_item_tabular_row.modal_default_form_item_tabular_header",""),r.add(".modal_default_form_item_tabular_cell.modal_default_form_item_tabular_rowaction","padding: 0px; width: 23px;"),r.add(".modal_default_form_item_tabular_cell","display: table-cell; border: 0px; padding: 2px 2px 2px 0px; cursor: default; vertical-align: bottom;"),r.add(".modal_default_form_item_tabular_header .modal_default_form_item_tabular_cell","padding-left: 0px; padding-bottom: 0px;"),r.add(".modal_default_form_item_tabular_table input[type=text], .modal_default_form_item_tabular_table input[type=number]","width:100%; box-sizing: border-box;"),r.add(".modal_default_form_item_tabular_table select","width:100%; height:100%; box-sizing: border-box;"),r.add(".modal_default_form_item_tabular_plus","display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"),r.add(".modal_default_form_item_tabular_plus:after","content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSA1LjAgMC41IEwgNS4wIDkuNSBNIDAuNSA1LjAgTCA5LjUgNS4wJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"),r.add(".modal_default_form_item_tabular_delete","display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"),r.add(".modal_default_form_item_tabular_delete:after","content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgOS41IDkuNSBNIDAuNSA5LjUgTCA5LjUgMC41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"),r.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_plus","display: none;"),r.add(".modal_default_form_item_tabular_plus_max.modal_default_form_item_tabular_plus","display: none;"),r.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_delete","visibility: hidden;"),r.add(".modal_default_form_item_tabular_empty","height: 1px; margin: 5px 23px 5px 0px; background-color: #ccc;"),r.add(".modal_default_form_item_tabular_spacer .modal_default_form_item_tabular_cell","padding: 0px;"),r.add(".modal_min_main","border: 1px solid #ccc; max-width: 90%;"),r.add(".modal_min_background","opacity: 0.5; background-color: #000;"),r.add(".modal_min_ok","padding: 3px 10px;"),r.add(".modal_min_cancel","padding: 3px 10px;"),r.add(".navigator_modal_main","border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),r.add(".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after","box-sizing: content-box;"),r.add(".navigator_modal_month","font-size: 11px;"),r.add(".navigator_modal_day","color: black;"),r.add(".navigator_modal_weekend","background-color: #f0f0f0;"),r.add(".navigator_modal_dayheader","color: black;"),r.add(".navigator_modal_line","border-bottom: 1px solid #c0c0c0;"),r.add(".navigator_modal_dayother","color: gray;"),r.add(".navigator_modal_todaybox","border: 1px solid red;"),r.add(".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright","border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),r.add(".navigator_modal_busy","font-weight: bold;"),r.add(".navigator_modal_cell","text-align: center;"),r.add(".navigator_modal_select .navigator_modal_cell_box","background-color: #FFE794; opacity: 0.5;"),r.add(".navigator_modal_title","text-align: center;"),r.add(".navigator_modal_titleleft, .navigator_modal_titleright","text-align: center;"),r.add(".navigator_modal_dayheader","text-align: center;"),r.add(".navigator_modal_weeknumber","text-align: center;"),r.add(".navigator_modal_cell_text","cursor: pointer;"),r.commit(),e.Modal=function(t){this.autoFocus=!0,this.focus=null,this.autoStretch=!0,this.autoStretchFirstLoadOnly=!1,this.className=null,this.theme="modal_default",this.disposeOnClose=!0,this.dragDrop=!0,this.loadingHtml=null,this.maxHeight=null,this.scrollWithPage=!0,this.useIframe=!0,this.zIndex=99999,this.left=null,this.width=600,this.top=20,this.height=200,this.locale=null,this.closed=null,this.onClose=null,this.onClosed=null,this.onShow=null;var n=this;this.id="_"+(new Date).getTime()+"n"+10*Math.random(),this.Cb=!1,this.Db=null,this.Eb=null,this.showHtml=function(t){if(e.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.div||this.Fb(),this.Gb(),this.useIframe){window.setTimeout(function(e,t){return function(){e.setInnerHTML(e.id+"iframe",t)}}(this,t),0)}else t.nodeType?this.div.appendChild(t):this.div.innerHTML=t;this.Gb(),this.Hb(),this.Ib()},this.showUrl=function(t){if(e.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.useIframe){this.div||this.Fb();var i=this.loadingHtml;i&&(this.iframe.src="about:blank",this.setInnerHTML(this.id+"iframe",i)),this.re(this.iframe,"load",this.Jb),this.iframe.src=t,this.Gb(),this.Hb(),this.Ib()}else n.Kb({url:t,success:function(e){var t=e.request.responseText;n.showHtml(t)},error:function(e){n.showHtml("Error loading the modal dialog")}})},this.Ib=function(){if("function"==typeof n.onShow){var e={};e.root=n.Lb(),e.modal=n,n.onShow(e)}},this.Lb=function(){return n.iframe?n.iframe.contentWindow.document:n.div},this.Kb=function(e){var t=new XMLHttpRequest;if(t){var n=e.method||"GET",i=e.success||function(){},r=e.error||function(){},a=e.data,o=e.url;t.open(n,o,!0),t.setRequestHeader("Content-type","text/plain"),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status||304===t.status){(e={}).request=t,i(e)}else if(r){var e;(e={}).request=t,r(e)}else window.console&&console.log("HTTP error "+t.status)},4!==t.readyState&&("object"==typeof a&&(a=JSON.stringify(a)),t.send(a))}},this.Gb=function(){delete this.result;var t=window,i=document,r=t.pageYOffset?t.pageYOffset:i.documentElement&&i.documentElement.scrollTop?i.documentElement.scrollTop:i.body.scrollTop;this.theme&&(this.hideDiv.className=this.theme+"_background"),this.zIndex&&(this.hideDiv.style.zIndex=this.zIndex),this.hideDiv.style.display="",window.setTimeout((function(){n.hideDiv&&(n.hideDiv.onclick=function(){n.hide({backgroundClick:!0})})}),500),this.theme?this.div.className=this.theme+"_main":this.div.className="",this.className&&(this.div.className+=" "+this.className),this.left?this.div.style.left=this.left+"px":this.div.style.marginLeft="-"+Math.floor(this.width/2)+"px",this.div.style.position="absolute",this.div.style.boxSizing="content-box",this.div.style.top=r+this.top+"px",this.div.style.width=this.width+"px",this.zIndex&&(this.div.style.zIndex=this.zIndex),this.height&&(this.useIframe||!this.autoStretch?this.div.style.height=this.height+"px":this.div.style.height=""),this.useIframe&&this.height&&(this.iframe.style.height=this.height+"px"),this.div.style.display="",this.Nb(),e.ModalStatic.remove(this),e.ModalStatic.list.push(this)},this.Jb=function(){n.iframe.contentWindow.modal=n,n.autoStretch&&n.stretch()},this.stretch=function(){if(this.useIframe){for(var e=n.Mb().x-40,t=this.width;t<e&&this.Ob();t+=10)this.div.style.width=t+"px",this.div.style.marginLeft="-"+Math.floor(t/2)+"px";for(var i=this.maxHeight||n.Mb().y-2*this.top,r=this.height;r<i&&this.Pb();r+=10)this.iframe.style.height=r+"px",this.div.style.height=r+"px";this.autoStretchFirstLoadOnly&&this.ue(this.iframe,"load",this.Jb)}else this.div.style.height=""},this.Ob=function(){for(var e=this.iframe.contentWindow.document,t="BackCompat"===e.compatMode?e.body:e.documentElement,n=t.scrollWidth,i=e.body.children,r=0;r<i.length;r++){var a=i[r].offsetLeft+i[r].offsetWidth;n=Math.max(n,a)}return n>t.clientWidth},this.Pb=function(){for(var e=this.iframe.contentWindow.document,t="BackCompat"===e.compatMode?e.body:e.documentElement,n=t.scrollHeight,i=e.body.children,r=0;r<i.length;r++){var a=i[r].offsetTop+i[r].offsetHeight;n=Math.max(n,a)}return n>t.clientHeight},this.Mb=function(){var e=document;return"CSS1Compat"===e.compatMode&&e.documentElement&&e.documentElement.clientWidth?{x:e.documentElement.clientWidth,y:e.documentElement.clientHeight}:{x:e.body.clientWidth,y:e.body.clientHeight}},this.Hb=function(){this.Cb||(this.re(window,"resize",this.Qb),this.re(window,"scroll",this.Rb),this.dragDrop&&(this.re(document,"mousemove",this.Sb),this.re(document,"mouseup",this.Tb)),this.Cb=!0)},this.Ub=function(){this.ue(window,"resize",this.Qb),this.ue(window,"scroll",this.Rb),this.dragDrop&&(this.ue(document,"mousemove",this.Sb),this.ue(document,"mouseup",this.Tb)),this.Cb=!1},this.Vb=function(e){e.target===n.div&&(e.preventDefault(),n.div.style.cursor="move",n.Wb(),n.Eb=n.mc(e||window.event),n.Db={x:n.div.offsetLeft,y:n.div.offsetTop})},this.Sb=function(e){if(n.Eb){e=e||window.event;var t=n.mc(e),i=t.x-n.Eb.x,r=t.y-n.Eb.y;n.div.style.marginLeft="0px",n.div.style.top=n.Db.y+r+"px",n.div.style.left=n.Db.x+i+"px"}},this.Tb=function(e){n.Eb&&(n.Xb(),n.div.style.cursor=null,n.Eb=null)},this.Wb=function(){if(this.useIframe){var e=document.createElement("div");e.style.backgroundColor="#ffffff",e.style.filter="alpha(opacity=80)",e.style.opacity="0.80",e.style.width="100%",e.style.height=this.height+"px",e.style.position="absolute",e.style.left="0px",e.style.top="0px",this.div.appendChild(e),this.mask=e}},this.Xb=function(){this.useIframe&&(this.div.removeChild(this.mask),this.mask=null)},this.Qb=function(){n.Yb(),n.Nb()},this.Rb=function(){n.Yb()},this.Nb=function(){if(!n.left&&n.div){var e=n.div.offsetWidth;n.div.style.marginLeft="-"+Math.floor(e/2)+"px"}},this.Yb=function(){if(n.hideDiv&&n.div&&"none"!==n.hideDiv.style.display&&"none"!==n.div.style.display){var e=n.Zb.scrollY();n.scrollWithPage||(n.div.style.top=e+n.top+"px")}},this.Zb={},this.Zb.container=function(){return n.container||document.body},this.Zb.scrollY=function(){var e=n.Zb.container();return e===document.body?window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop:e.scrollTop},this.re=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},this.ue=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},this.mc=function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}},this.abs=function(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e.offsetParent;)e=e.offsetParent,t.x+=e.offsetLeft,t.y+=e.offsetTop;return t},this.Fb=function(){var e=n.Zb.container(),t=e===document.body?"fixed":"absolute",i=document.createElement("div");i.id=this.id+"hide",i.style.position=t,i.style.left="0px",i.style.top="0px",i.style.right="0px",i.style.bottom="0px",i.oncontextmenu=function(){return!1},i.onmousedown=function(){return!1},e.appendChild(i);var r=document.createElement("div");r.id=this.id+"popup",r.style.position=t,r.style.left="50%",r.style.top="0px",r.style.backgroundColor="white",r.style.width="50px",r.style.height="50px",this.dragDrop&&(r.onmousedown=this.Vb),r.addEventListener("keydown",(function(e){e.stopPropagation()}));var a=null;this.useIframe&&((a=document.createElement("iframe")).id=this.id+"iframe",a.name=this.id+"iframe",a.frameBorder="0",a.style.width="100%",a.style.height="50px",r.appendChild(a)),e.appendChild(r),this.div=r,this.iframe=a,this.hideDiv=i},this.setInnerHTML=function(e,t){var i=window.frames[e],r=i.contentWindow||i.document||i.contentDocument;r.document&&(r=r.document),null==r.body&&r.write("<body></body>"),t.nodeType?r.body.appendChild(t):r.body.innerHTML=t,n.autoStretch&&(n.autoStretchFirstLoadOnly&&n.$b||(n.stretch(),n.$b=!0))},this.close=function(e){this.result=e,this.hide()},this.closeSerialized=function(){for(var e=n.Lb().querySelectorAll("input, textarea, select"),t={},i=0;i<e.length;i++){var r=e[i],a=r.name;if(a){var o=r.value;t[a]=o}}n.close(t)},this.hide=function(t){t=t||{};var i={};i.backgroundClick=!!t.backgroundClick,i.result=this.result,i.canceled="undefined"==typeof this.result,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof this.onClose&&(this.onClose(i),i.preventDefault.value)||(this.div&&(this.div.style.display="none",this.hideDiv.style.display="none",this.useIframe||(this.div.innerHTML=null)),window.focus(),e.ModalStatic.remove(this),"function"==typeof this.onClosed?this.onClosed(i):this.closed&&this.closed(),delete this.result,this.disposeOnClose&&(n.Ub(),n._b(n.div),n._b(n.hideDiv),n.div=null,n.hideDiv=null,n.iframe=null))},this._b=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},this.bc=function(){if(t)for(var e in t)this[e]=t[e]},this.bc()},e.Modal.alert=function(t,n){(n=n||{}).height=n.height||40,n.useIframe=!1;var i=n.okText||"OK";return n.cancelText,e.getPromise((function(r,a){n.onClosed=function(e){r(e)};var o=new e.Modal(n),s=document.createElement("div");s.className=o.theme+"_inner";var l=document.createElement("div");l.className=o.theme+"_content",l.innerHTML=t;var u=document.createElement("div");u.className=o.theme+"_buttons";var c=document.createElement("button");c.innerText=i,c.className=o.theme+"_ok",c.onclick=function(t){e.ModalStatic.close("OK")},u.appendChild(c),s.appendChild(l),s.appendChild(u),o.showHtml(s),o.autoFocus&&c.focus()}))},e.Modal.confirm=function(t,n){(n=n||{}).height=n.height||40,n.useIframe=!1;var i=n.okText||"OK",r=n.cancelText||"Cancel";return e.getPromise((function(a,o){n.onClosed=function(e){a(e)};var s=new e.Modal(n),l=document.createElement("div");l.className=s.theme+"_inner";var u=document.createElement("div");u.className=s.theme+"_content",u.innerHTML=t;var c=document.createElement("div");c.className=s.theme+"_buttons";var d=document.createElement("button");d.innerText=i,d.className=s.theme+"_ok",d.onclick=function(t){e.ModalStatic.close("OK")};var h=document.createTextNode(" "),f=document.createElement("button");f.innerText=r,f.className=s.theme+"_cancel",f.onclick=function(t){e.ModalStatic.close()},c.appendChild(d),c.appendChild(h),c.appendChild(f),l.appendChild(u),l.appendChild(c),s.showHtml(l),s.autoFocus&&d.focus()}))},e.Modal.prompt=function(t,n,i){"object"==typeof n&&(i=n,n=""),(i=i||{}).height=i.height||40,i.useIframe=!1;var r=i.okText||"OK",a=i.cancelText||"Cancel",o=n||"";return e.getPromise((function(n,s){i.onClosed=function(e){n(e)};var l=new e.Modal(i),u=document.createElement("div");u.className=l.theme+"_inner";var c=document.createElement("div");c.className=l.theme+"_content",c.innerHTML=t;var d=document.createElement("div");d.className=l.theme+"_input";var h=document.createElement("input");h.value=o,h.style.width="100%",h.onkeydown=function(e){var t=!1;switch(e.keyCode){case 13:l.close(this.value);break;case 27:l.close();break;default:t=!0}t||(e.preventDefault(),e.stopPropagation())},d.appendChild(h);var f=document.createElement("div");f.className=l.theme+"_buttons";var p=document.createElement("button");p.innerText=r,p.className=l.theme+"_ok",p.onclick=function(e){l.close(h.value)};var v=document.createTextNode(" "),g=document.createElement("button");g.innerText=a,g.className=l.theme+"_cancel",g.onclick=function(e){l.close()},f.appendChild(p),f.appendChild(v),f.appendChild(g),u.appendChild(c),u.appendChild(d),u.appendChild(f),l.showHtml(u),l.autoFocus&&h.focus()}))};e.Modal.form=function(n,i,r){if(1===arguments.length){var o=n;if(function(e){return"[object Array]"===Object.prototype.toString.call(e)}(o))i={};else{if("object"!=typeof o)throw"Invalid DayPilot.Modal.form() parameter";for(var s in i=n,n=[],i){var l={};l.name=s,l.id=s,n.push(l)}}}var u={};for(var s in r)u[s]=r[s];u.height=u.height||40,u.useIframe=!1;var c=u.okText||"OK",d=u.cancelText||"Cancel";return e.getPromise((function(r,o){u.onClosed=function(e){if(e.result){var n=JSON.parse(JSON.stringify(i));for(var a in e.result)t(n,a,e.result[a]);e.result=n}r(e)};var s=new e.Modal(u),l=document.createElement("div");l.className=s.theme+"_inner";var h=document.createElement("div");h.className=s.theme+"_input";var f=new a({theme:s.theme,form:n,data:i,zIndex:s.zIndex,locale:s.locale,plugins:s.plugins,onKey:function(e){switch(e.key){case"Enter":f.validate()&&s.close(f.serialize());break;case"Escape":s.close()}},onChange:function(e){"function"==typeof s.onChange&&s.onChange(e)}}),p=f.create();h.append(p);var v=document.createElement("div");v.className=s.theme+"_buttons";var g=document.createElement("button");g.innerText=c,g.className=s.theme+"_ok",u.okDisabled&&(g.disabled=!0),g.onclick=function(e){f.validate()&&s.close(f.serialize())};var m=document.createTextNode(" "),y=document.createElement("button");if(y.innerText=d,y.className=s.theme+"_cancel",y.onclick=function(e){s.close()},y.onmousedown=function(e){f.canceling=!0},v.appendChild(g),v.appendChild(m),v.appendChild(y),l.appendChild(h),l.appendChild(v),s.showHtml(l),s.div.setAttribute("tabindex","-1"),s.div.addEventListener("keydown",(function(e){switch(e.keyCode){case 27:s.close();break;case 13:f.validate()&&s.close(f.serialize())}})),s.focus){var b=null;if("object"==typeof s.focus){var _=s.focus.id,x=s.focus.value;b=f.findViewById(_,x)}else"string"==typeof s.focus&&(b=f.findViewById(s.focus));b&&b.focus()}else{var w=f.firstFocusable();s.autoFocus&&w?w.focus():s.div.focus()}}))},e.Modal.close=function(t){var n=e.Modal.opener();n&&n.close(t)},e.Modal.stretch=function(t){var n=e.Modal.opener();if(!n)throw"Unable to find the opener DayPilot.Modal instance.";n.stretch()},e.Modal.closeSerialized=function(){var t=e.Modal.opener()||e.ModalStatic.last();t&&t.closeSerialized()},e.Modal.opener=function(){return"undefined"!=typeof e&&"undefined"!=typeof e.ModalStatic&&e.ModalStatic.list.length>0?e.ModalStatic.list[e.ModalStatic.list.length-1]:parent&&parent.DayPilot&&parent.DayPilot.ModalStatic&&parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length-1]},e.Modal.Experimental={},e.Modal.Experimental.Form=a,"undefined"==typeof e.getPromise&&(e.getPromise=function(t){return"undefined"!=typeof Promise?new Promise(t):(e.Promise=function(t){var n=this;this.then=function(n,i){return t(n=n||function(){},i=i||function(){}),e.getPromise(t)},this.catch=function(i){return n.then(null,i),e.getPromise(t)}},new e.Promise(t))});var a=function(e){for(var t in this.form=[],this.data={},this.theme="form_default",this.zIndex=99999,this.locale="en-us",this.plugins={},this.onKey=null,this.cc=[],this.dc=null,this.canceling=!1,this.ec=[],this.f=[],this.fc=null,e=e||{})this[t]=e[t]};a.prototype.create=function(){return this.load(),this.render(),this.fc},a.prototype.render=function(){var e=this;this.fc=document.createElement("div"),this.cc.forEach((function(t){e.createView(t)})),this.applyState()},a.prototype.createView=function(e){var t=this.theme,n=this,i=document.createElement("div");if(i.className=t+"_form_item "+t+"_form_item_level"+e.level,e.interactive||"title"!==e.type?i.className+=" "+t+"_form_item_"+e.type:i.className+=" "+t+"_form_title",e.data.cssClass&&(i.className+=" "+e.data.cssClass),!e.isValue){var r=document.createElement("div");r.className=t+"_form_item_label",r.innerText=e.text,i.appendChild(r)}var a=this.createInteractive(e);a.onInput=function(e){if(e=e||{},n.gc(a,{debounce:!e.immediate}),"function"==typeof n.onChange){var t={};t.result=n.serialize(),n.onChange(t)}},a.onBlur=function(){n.canceling||n.gc(a)},a.apply(e),a.fc=i,a.row=e,a.element&&i.appendChild(a.element),this.f.push(a),this.fc.appendChild(i)},a.prototype.validate=function(){var e=this,t=!0;return this.f.forEach((function(n){var i=e.gc(n);t=t&&i})),t},a.prototype.gc=function(e,t){function n(){e.hc&&(e.hc.remove(),e.hc=null),e.fc.classList.add(d);var t=document.createElement("div");t.classList.add(h),t.innerText=c.message,e.hc=t,e.fc.appendChild(t)}var i=(t=t||{}).debounce,r=t.silent,a=e.row,o=!0,s="function"==typeof a.data.onValidate?a.data.onValidate:null,l="function"==typeof a.data.validate?a.data.validate:null,u=s||l;if(u){var c={valid:!0};c.value=e.save()[a.field],c.message="Error",c.values=this.serialize(),c.result=this.serialize(),u(c);var d=this.theme+"_form_item_invalid",h=this.theme+"_form_item_invalid_message";if(c.valid)clearTimeout(this.ec[a.field]),e.hc&&(e.hc.remove(),e.hc=null),e.fc.classList.remove(d);else if(!r)if(i){clearTimeout(this.ec[a.field]),this.ec[a.field]=setTimeout((function(){n()}),1e3)}else n();o=c.valid}return o},a.prototype.load=function(){var e,t=this;this.form.forEach((function(e){t.processFormItem(e,0)}));try{var i=JSON.stringify(this.data);e=n(JSON.parse(i))}catch(t){throw new Error("The 'data' object is not serializable (it may contain circular dependencies): "+t)}for(var r in e)this.setValue(r,e[r])},a.prototype.setValue=function(e,t){this.cc.forEach((function(n){n.applyValue(e,t)}))},a.prototype.updateDependentState=function(){var e=this,t=[!0];(this.dc?this.dc:this.cc).forEach((function(n){var i=e.updateState(n,{enabled:t[n.level]&&!n.data.disabled});i.isValue&&(t[i.level+1]=i.enabled&&i.checked)}))},a.prototype.processFormItem=function(e,t){var n=this,i=this.getFieldType(e),r=[];if("radio"===i){if(e.name)(a=new o).field=e.id,a.data=e,a.level=t,a.type="label",a.interactive=!1,a.text=e.name,n.cc.push(a),r.push(a);e.options.forEach((function(a){var s=new o;s.field=e.id,s.data=a,s.level=t,s.type=i,s.isValue=!0,s.text=a.name,s.resolved=a.id,n.cc.push(s),r.push(s),a.children&&a.children.forEach((function(e){var i=n.processFormItem(e,t+1);r=r.concat(i)}))}))}else if("title"===i){(a=new o).field=e.id,a.data=e,a.level=t,a.type=i,a.interactive=!1,a.text=e.name,n.cc.push(a),r.push(a)}else if("image"===i){(a=new o).isValue=!0,a.field=e.id,a.data=e,a.level=t,a.type=i,a.interactive=!1,a.text=null,n.cc.push(a),r.push(a)}else if("html"===i){(a=new o).isValue=!0,a.field=e.id,a.data=e,a.level=t,a.type=i,a.interactive=!1,a.text=null,n.cc.push(a),r.push(a)}else if("scrollable"===i){(a=new o).isValue=!0,a.field=e.id,a.data=e,a.level=t,a.type=i,a.interactive=!1,a.text=null,n.cc.push(a),r.push(a)}else{var a;(a=new o).field=e.id,a.data=e,a.level=t,a.type=i,a.text=e.name,a.children=[],n.cc.push(a),r.push(a)}return"checkbox"===i&&(a.isValue=!0,a.resolved=!0,e.children&&e.children.forEach((function(e){var i=n.processFormItem(e,t+1);r=r.concat(i)}))),r},a.prototype.doOnKey=function(e){if("function"==typeof this.onKey){var t={key:e};this.onKey(t)}},a.prototype.createInteractive=function(t){var n=this,i={label:function(){return new s},title:function(){return new s},image:function(){var e=new s,n=document.createElement("img");return n.src=t.data.image,e.element=n,e},html:function(){var e=new s,n=document.createElement("div");return"string"==typeof t.data.text?n.innerText=t.data.text:"string"==typeof t.data.html&&(n.innerHTML=t.data.html),e.element=n,e},scrollable:function(){var e=new s,i=document.createElement("div");i.className=n.theme+"_form_item_scrollable_scroll",t.data.height&&(i.style.height=t.data.height+"px");var r=document.createElement("div");return r.className=n.theme+"_form_item_scrollable_scroll_content","string"==typeof t.data.text?r.innerText=t.data.text:"string"==typeof t.data.html&&(r.innerHTML=t.data.html),i.appendChild(r),e.element=i,e},text:function(){var e=new s;e.apply=function(t){e.row=t;var n=e.element;n.value=t.value,n.disabled=!t.enabled};var i=document.createElement("input");return i.name=t.field,i.type="text",i.autocomplete="off",i.onkeydown=function(e){var t=!1;switch(e.keyCode){case 13:n.doOnKey("Enter");break;case 27:n.doOnKey("Escape");break;default:t=!0}t||(e.preventDefault(),e.stopPropagation())},i.oninput=function(t){e.onInput()},i.onblur=function(t){e.onBlur()},e.element=i,e.canFocus=function(){return!e.element.disabled},e.focus=function(){e.element.focus(),e.element.setSelectionRange(0,e.element.value.length)},e.save=function(){var e={};return e[t.field]=i.value,e},e},textarea:function(){var e=new s;e.apply=function(t){e.row=t;var n=e.element;n.value=t.value,n.disabled=!t.enabled};var i=document.createElement("textarea");return i.name=t.field,t.data.height&&(i.style.height=t.data.height+"px"),i.onkeydown=function(e){var t=!1;switch(e.keyCode){case 13:(e.ctrlKey||e.metaKey)&&n.doOnKey("Enter"),t=!1;break;case 27:n.doOnKey("Escape");break;default:t=!0}t||e.stopPropagation()},i.oninput=function(t){e.onInput()},i.onblur=function(t){e.onBlur()},e.element=i,e.canFocus=function(){return!e.element.disabled},e.focus=function(){e.element.focus(),e.element.setSelectionRange(0,0)},e.save=function(){var e={};return e[t.field]=i.value,e},e},date:function(){var i=new s;i.apply=function(t){i.row=t;var r=i.element,a=i.picker;t.data.dateFormat&&(a.pattern=t.data.dateFormat);var o=t.data.locale||n.locale;o&&(a.locale=o),r.disabled=!t.enabled,a.date=new e.Date(t.value);var s=new e.Date(t.value).toString(t.data.dateFormat||a.pattern,a.locale);r.value=s};var r=document.createElement("input");r.name=t.field;var a=new e.DatePicker({target:r,theme:"navigator_modal",zIndex:n.zIndex+1,resetTarget:!1,targetAlignment:"left",onTimeRangeSelect:function(e){i.onInput({immediate:!0})}});return r.picker=a,r.className=n.theme+"_input_date",r.type="text",r.onkeydown=function(e){var t=!1;switch(e.keyCode){case 13:a.visible?a.close():n.doOnKey("Enter");break;case 27:a.visible?a.close():n.doOnKey("Escape");break;case 9:a.close(),t=!0;break;default:t=!0}t||(e.preventDefault(),e.stopPropagation())},r.onfocus=function(){a.show()},r.onclick=function(){a.show()},r.oninput=function(e){i.onInput()},r.onblur=function(e){i.onBlur()},i.element=r,i.picker=a,i.canFocus=function(){return!i.element.disabled},i.focus=function(){i.element.focus()},i.save=function(){var e=a.date?a.date.toString():null,n={};return n[t.field]=e,n},i},time:function(){return n.ic(t)},datetime:function(){return n.jc(t)},select:function(){var e=new s;e.apply=function(t){e.row=t;var n=e.element;n.value=t.value,n.disabled=!t.enabled};var n=document.createElement("select");return n.name=t.field,t.data.options&&t.data.options.forEach&&t.data.options.forEach((function(e){var t=document.createElement("option");t.innerText=e.name||e.id,t.value=e.id,t.kc=e.id,n.appendChild(t)})),n.onchange=function(t){e.onInput({immediate:!0})},n.onblur=function(t){e.onBlur()},e.element=n,e.canFocus=function(){return!e.element.disabled},e.focus=function(){e.element.focus()},e.save=function(){var e=null,i=n.options[n.selectedIndex];i&&"undefined"!=typeof i.kc&&(e=i.kc);var r={};return r[t.field]=e,r},e},searchable:function(){var e=new s;e.apply=function(t){e.row=t;var n=e.searchable;n.disabled=!t.enabled,n.select(t.value)};var i=new l({data:t.data.options||[],name:t.field,theme:n.theme+"_form_item_searchable",listZIndex:n.zIndex+1,onSelect:function(t){t.ui&&e.onInput({immediate:!0})}}),r=i.create();return e.element=r,e.searchable=i,e.canFocus=function(){return!e.searchable.disabled},e.focus=function(){e.searchable.focus()},e.save=function(){var e=i.selected&&i.selected.id,n={};return n[t.field]=e,n},e},radio:function(){var e=new s;e.apply=function(t){e.row=t;var n=e.radio;n.checked=t.checked,n.disabled=!t.enabled};var i=document.createElement("label"),r=document.createElement("input");r.type="radio",r.name=t.field,r.kc=t.resolved,r.onchange=function(t){var i=e.row;n.findRowsByField(i.field).forEach((function(e){n.updateState(e,{checked:!1})})),n.updateState(i,{checked:!0}),n.applyState(),e.onInput({immediate:!0})},r.onblur=function(t){e.onBlur()},i.appendChild(r);var a=document.createTextNode(t.text);return i.append(a),e.element=i,e.radio=r,e.canFocus=function(){return!1},e.focus=function(){e.radio.focus()},e.save=function(){if(!r.checked)return{};var e=r.kc,n={};return n[t.field]=e,n},e},checkbox:function(){var e=new s;e.apply=function(t){e.row=t;var n=e.checkbox;n.checked=t.checked,n.disabled=!t.enabled};var i=document.createElement("label"),r=document.createElement("input");r.type="checkbox",r.name=t.field,r.kc=t.resolved,r.onchange=function(t){var i=e.row;n.updateState(i,{checked:this.checked}),n.applyState(),e.onInput({immediate:!0})},r.onblur=function(t){e.onBlur()},i.appendChild(r);var a=document.createTextNode(t.text);return i.append(a),e.element=i,e.checkbox=r,e.canFocus=function(){return!1},e.focus=function(){e.checkbox.focus()},e.save=function(){var e=r.checked,n={};return n[t.field]=e,n},e},table:function(){var e=new s;e.apply=function(t){e.row=t;var n=e.table;n.disabled=!t.enabled,n.load(t.value||[])};var i=new u({name:t.field,form:n,theme:n.theme+"_form_item_tabular",item:t.data,onInput:function(t){e.onInput()}}),r=i.create();return e.element=r,e.table=i,e.canFocus=function(){return!1},e.focus=function(){e.table.focus()},e.save=function(){var e=i.save(),n={};return n[t.field]=e,n},e}};return n.plugins&&n.plugins[t.type]?n.plugins[t.type](t):i[t.type]()},a.prototype.ic=function(t){var n=this,i=new s;i.apply=function(e){i.row=e;var t=i.searchable;t.disabled=!e.enabled,t.select(e.value)};var r=[],a=t.data.timeInterval||15;[1,5,10,15,20,30,60].includes(a)||(a=15);for(var o=60/a,u=t.data.locale||n.locale,c=e.Locale.find(u)||e.Locale.US,d=e.Date.today(),h=0;h<24*o;h++){var f=d.addMinutes(a*h),p={};p.name=f.toString(t.data.timeFormat||c.timePattern,c),p.id=f.toString("HH:mm"),r.push(p)}var v=new l({data:r,name:t.field,theme:n.theme+"_form_item_time",listZIndex:n.zIndex+1,strategy:"startsWith",onSelect:function(e){e.ui&&i.onInput({immediate:!0})}}),g=v.create();return i.element=g,i.searchable=v,i.canFocus=function(){return!i.searchable.disabled},i.focus=function(){i.searchable.focus()},i.save=function(){var e=v.selected&&v.selected.id,n={};return n[t.field]=e,n},i},a.prototype.jc=function(t){var n=this,i=new s;i.apply=function(t){i.row=t;var r=i.searchable;r.disabled=!t.enabled;var a=new e.Date(t.value).toString("HH:mm");r.select(a);var o=i.dateInput,s=i.picker;t.data.dateFormat&&(s.pattern=t.data.dateFormat);var l=t.data.locale||n.locale;if(l){var u=e.Locale.find(l)||e.Locale.US;s.locale=l,s.pattern=u.datePattern}o.disabled=!t.enabled,s.date=new e.Date(t.value);var c=new e.Date(t.value).toString(t.data.dateFormat||s.pattern,s.locale);o.value=c};var r=function(){var r=document.createElement("input");r.name=t.field;var a=new e.DatePicker({target:r,theme:"navigator_modal",zIndex:n.zIndex+1,resetTarget:!1,targetAlignment:"left",onTimeRangeSelect:function(e){i.onInput({immediate:!0})}});return r.picker=a,r.className=n.theme+"_input_date",r.type="text",r.onkeydown=function(e){var t=!1;switch(e.keyCode){case 13:a.visible?a.close():n.doOnKey("Enter");break;case 27:a.visible?a.close():n.doOnKey("Escape");break;case 9:a.close(),t=!0;break;default:t=!0}t||(e.preventDefault(),e.stopPropagation())},r.onfocus=function(){a.show()},r.onclick=function(){a.show()},r.oninput=function(e){i.onInput()},r.onblur=function(e){i.onBlur()},i.dateInput=r,i.picker=a,r}(),a=function(){var r=[],a=t.data.timeInterval||15;[1,5,10,15,20,30,60].includes(a)||(a=15);for(var o=60/a,s=t.data.locale||n.locale,u=e.Locale.find(s)||e.Locale.US,c=e.Date.today(),d=0;d<24*o;d++){var h=c.addMinutes(a*d),f={};f.name=h.toString(t.data.timeFormat||u.timePattern,u),f.id=h.toString("HH:mm"),r.push(f)}var p=new l({data:r,name:t.field,theme:n.theme+"_form_item_time",listZIndex:n.zIndex+1,strategy:"startsWith",onSelect:function(e){e.ui&&i.onInput({immediate:!0})}});return i.searchable=p,p.create()}(),o=document.createElement("div");return o.className=n.theme+"_form_item_datetime_parent",o.appendChild(r),o.appendChild(a),i.element=o,i.canFocus=function(){return!i.searchable.disabled},i.focus=function(){i.dateInput.focus()},i.save=function(){var n=i.searchable.selected&&i.searchable.selected.id,r=i.picker.date?i.picker.date.toString():null,a=new e.Date(r).getDatePart(),o=e.Date.parse(a.toString("yyyy-dd-MM ")+n,"yyyy-dd-MM HH:mm"),s={};return s[t.field]=o,s},i},a.prototype.findRowsByField=function(e){return this.cc.filter((function(t){return t.field===e}))},a.prototype.findViewById=function(e,t){return this.f.find((function(n){return n.row.field===e&&("radio"!==n.row.type||n.row.resolved===t)}))},a.prototype.firstFocusable=function(){return this.f.find((function(e){return e.canFocus&&e.canFocus()}))},a.prototype.updateState=function(e,t){var n=this.dc?this.dc:this.cc,i=n.indexOf(e);return this.dc=n.map((function(n){if(n!==e)return n;if(e.propsEqual(t))return e;var i=e.clone();for(var r in t)i[r]=t[r];return i})),this.dc[i]},a.prototype.updateInteractive=function(e){var t=this.dc.indexOf(e);this.f[t].apply(e)},a.prototype.applyState=function(){var e=this;this.updateDependentState(),this.dc&&(this.dc.filter((function(t,n){return e.cc[n]!==t})).forEach((function(t){e.updateInteractive(t)})),this.cc=this.dc,this.dc=null)},a.prototype.getFieldType=function(e){return-1!==["text","date","select","searchable","radio","checkbox","table","title","image","html","textarea","scrollable","time","datetime"].indexOf(e.type)||e.type&&this.plugins&&this.plugins[e.type]?e.type:e.image?"image":e.html||e.text?"html":e.id?e.options?"searchable":e.dateFormat?"date":e.columns?"table":"text":"title"},a.prototype.serialize=function(){var e={};return this.f.forEach((function(t){var n=t.save();for(var i in n)e[i]=n[i]})),e};var o=function(){this.id=this.guid(),this.field=null,this.data=null,this.type=null,this.level=0,this.enabled=!0,this.value=null,this.text=null,this.interactive=!0,this.isValue=!1,this.checked=!1,this.resolved=null};o.prototype.clone=function(){var e=new o;for(var t in this)"id"!==t&&(e[t]=this[t]);return e},o.prototype.propsEqual=function(e){for(var t in e)if(this[t]!==e[t])return!1;return!0},o.prototype.guid=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},o.prototype.applyValue=function(e,t){this.field===e&&(this.value=t,this.isValue&&t===this.resolved&&(this.checked=!0))};var s=function(){this.element=null,this.canFocus=function(){return!1},this.apply=function(e){},this.focus=function(){},this.save=function(){return{}}},l=function(e){this.data=[],this.name=null,this.theme="searchable_default",this.lc=!1,this.listZIndex=1e5,this.onSelect=null,this.nc=null,this.oc=null,this.pc=!1,this.qc=null,this.rc=null,this.o=[],this.sc=null,e=e||{};var t=this,n={selected:{post:function(e){"object"==typeof e&&e.id?t.nc=e:"string"!=typeof e&&"number"!=typeof e||t.select(e)}}};for(var i in Object.defineProperty(this,"selected",{get:function(){return this.nc}}),Object.defineProperty(this,"disabled",{get:function(){return this.lc},set:function(e){this.lc=e,this.qc&&(this.qc.disabled=e,e&&this.tc())}}),e)n[i]||(this[i]=e[i]);for(var i in e)n[i]&&n[i].post(e[i])};l.prototype.select=function(e){return this.nc=this.data.find((function(t){return t.id===e})),this.uc(!1),this},l.prototype.create=function(){function e(e){var i=o.strategy;"includes"!==o.strategy&&"startsWith"!==o.strategy&&(i="includes"),e=e||i||"includes",c.style.display="",c.style.top=h.offsetHeight+"px",c.style.left="0px",c.style.width=h.offsetWidth+"px",c.innerHTML="",c.addEventListener("mousedown",(function(e){e.preventDefault()})),o.oc=null,o.o=[];var r=null;o.data.forEach((function(i){var a=i.name||i.id;if("includes"===e){if(-1===a.toLowerCase().indexOf(h.value.toLowerCase()))return}else if("startsWith"===e&&0!==a.toLowerCase().indexOf(h.value.toLowerCase()))return;var s=document.createElement("div");s.className=o.theme+"_list_item",s.innerText=a,s.item=i,i===o.nc&&(o.oc=s),r||(r=s),s.addEventListener("mousedown",(function(e){n(s),e.preventDefault()})),s.addEventListener("mousemove",(function(e){o.oc!==s&&(o.oc=s,t({dontScroll:!0}))})),c.appendChild(s),o.o.push(s)})),o.oc||(o.oc=r),t()}function t(e){var t=!(e=e||{}).dontScroll;document.querySelectorAll("."+o.theme+"_list_item_highlight").forEach((function(e){e.className=e.className.replace(o.theme+"_list_item_highlight","")})),o.oc&&(o.oc.className+=" "+o.theme+"_list_item_highlight",t&&!function(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.top>=i.top&&n.bottom<=i.bottom}(o.oc,c)&&o.oc.scrollIntoView())}function n(e){var t=e.item;o.nc=t,o.uc(!0),o.p(),r()}function i(){o.tc()}function r(){o.pc=!0,h.setAttribute("readonly","readonly"),h.focus()}function a(){o.pc=!1,h.removeAttribute("readonly"),h.select(),e("all")}var o=this,s=this,l=document.createElement("div");l.className=this.theme+"_main",l.style.position="relative";var u=document.createElement("div");u.className=this.theme+"_icon",u.style.position="absolute",u.style.right="0",u.style.top="0",u.style.bottom="0",u.style.width="20px",u.addEventListener("mousedown",(function(e){e.preventDefault(),o.pc?(o.focus(),a()):(i(),r())}));var c=document.createElement("div");c.className=this.theme+"_list",c.style.display="none",c.style.position="absolute",c.style.zIndex=this.listZIndex;var d=document.createElement("input");d.type="hidden",d.name=this.name,d.searchable=s,this.sc=d;var h=document.createElement("input");return h.type="text",h.className=this.theme+"_input",h.disabled=this.lc,h.addEventListener("click",(function(e){a()})),h.addEventListener("focus",(function(t){e("all")})),h.addEventListener("input",(function(t){e()})),h.addEventListener("blur",(function(e){h.removeAttribute("readonly"),i()})),h.addEventListener("keydown",(function(e){if(o.pc){if("Enter"===e.key)return;if("Esc"===e.key||"Escape"===e.key)return;a()}if("ArrowDown"===e.key)(l=s.o.indexOf(s.oc))+1<s.o.length&&(s.oc=s.o[l+1]),t();else if("ArrowUp"===e.key){var l;(l=s.o.indexOf(s.oc))-1>=0&&(s.oc=s.o[l-1]),t()}else"Enter"===e.key?o.oc?(e.stopPropagation(),n(o.oc)):(e.stopPropagation(),i(),r()):"Esc"!==e.key&&"Escape"!==e.key||(e.stopPropagation(),i(),r())})),this.qc=h,this.rc=c,this.nc||(this.nc=this.data[0],this.nc&&(h.value=this.nc.name)),l.appendChild(h),l.appendChild(u),l.appendChild(d),l.appendChild(c),l},l.prototype.tc=function(){this.p(),this.nc?this.qc.value=this.nc.name:(this.qc.value="",this.uc(!0))},l.prototype.focus=function(){this.pc=!0,this.qc.setAttribute("readonly","readonly"),this.qc.focus(),this.tc()},l.prototype.p=function(){this.rc.style.display="none"},l.prototype.uc=function(e){if(this.sc.value=this.selected?this.selected.id:null,this.nc?this.qc.value=this.nc.name:this.qc.value="","function"==typeof this.onSelect){var t={control:this,ui:e};this.onSelect(t)}};var u=function(e){for(var t in this.form=null,this.item=null,this.data=null,this.name=null,this.theme="edit_table_default",this.onInput=null,this.nav={},this.vc=null,this.cc=[],e=e||{})this[t]=e[t]};u.prototype.create=function(){var e=this,t=document.createElement("div");t.className=this.theme+"_main",t.style.position="relative";var n=document.createElement("input");n.type="hidden",n.name=e.name,n.table=this,t.appendChild(n);var i=document.createElement("div");i.className=this.theme+"_table";var r=this.wc();i.appendChild(r);var a=e.xc({});a.spacer=!0;var o=this.yc(a);o.classList.add(e.theme+"_spacer"),i.appendChild(o);var s=document.createElement("div");s.className=e.theme+"_tbody",i.appendChild(s),t.appendChild(i);var l=document.createElement("div");t.appendChild(l),this.nav.body=s,this.nav.table=i,this.nav.main=t,this.nav.after=l;var u=document.createElement("div"),c=document.createElement("span");return c.className=this.theme+"_plus",c.addEventListener("click",(function(t){if(!e.disabled){var n=e.item.onNewRow,i={};if("function"==typeof n){var r={};r.result=e.form.serialize(),r.value={},n(r),i=r.value}var a=e.xc(i);e.cc.push(a),e.zc(),e.Ac()}})),this.nav.plus=c,u.appendChild(c),t.appendChild(u),t},u.prototype.wc=function(){var e=this,t=document.createElement("div");return t.classList.add(this.theme+"_row"),t.classList.add(this.theme+"_header"),this.item.columns.forEach((function(n){var i=document.createElement("div");i.classList.add(e.theme+"_cell"),i.innerText=n.name,t.appendChild(i)})),t},u.prototype.Bc=function(){var e=this.item.max||0;return!!(e&&this.cc.length>=e)},u.prototype.save=function(){var e=[];return this.cc.forEach((function(t){var n={};t.cells.forEach((function(e){n[e.id]=e.value})),e.push(n)})),e},u.prototype.load=function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("Array expected");this.data=e,this.Cc(),this.zc()},u.prototype.Dc=function(){this.disabled?this.nav.main.classList.add(this.theme+"_disabled"):this.nav.main.classList.remove(this.theme+"_disabled"),this.Bc()?this.nav.plus.classList.add(this.theme+"_plus_max"):this.nav.plus.classList.remove(this.theme+"_plus_max")},u.prototype.Cc=function(){var e=this;this.cc=[],this.data.forEach((function(t){var n=e.xc(t);e.cc.push(n)}))},u.prototype.Ec=function(e){var t=this.cc.indexOf(e);this.cc.splice(t,1)},u.prototype.xc=function(e){var t=this,n={};return n.data=e,n.cells=[],t.item.columns.forEach((function(i){var r=i.id,a=e[r],o=t.Fc(i);if("undefined"==typeof a)if("text"===o)a="";else if("number"===o)a=0;else if("select"===o){var s=i.options;a=s&&s[0].id}var l={};l.id=r,l.value=a,l.type=o,l.data=i,n.cells.push(l)})),n},u.prototype.Fc=function(e){var t=e.type;return t||(t=e.options?"select":"text"),t},u.prototype.zc=function(){var e=this;if(this.nav.body.innerHTML="",this.nav.after.innerHTML="",this.cc.forEach((function(t){var n=e.yc(t);e.nav.body.appendChild(n)})),0===this.cc.length){var t=e.Gc();e.nav.after.appendChild(t)}this.Dc()},u.prototype.Gc=function(){var e=document.createElement("div");return e.className=this.theme+"_empty",e},u.prototype.yc=function(e){var t=this,n=document.createElement("div");n.className=t.theme+"_row",e.cells.forEach((function(i){var r=document.createElement("div");r.className=t.theme+"_cell";var a=t.Hc(i);if(e.spacer){var o=document.createElement("div");o.style.height="0px",o.style.overflow="hidden",o.appendChild(a),r.appendChild(o)}else r.appendChild(a);n.appendChild(r)}));var i=document.createElement("div");i.classList.add(t.theme+"_cell"),i.classList.add(t.theme+"_rowaction");var r=document.createElement("span");return r.className=this.theme+"_delete",r.addEventListener("click",(function(n){t.disabled||(t.Ec(e),t.zc(),t.Ac())})),e.spacer||i.appendChild(r),n.appendChild(i),n},u.prototype.Ac=function(){if("function"==typeof this.onInput){this.onInput({})}},u.prototype.Hc=function(e){var t=this,n=e.type;if("text"===n||"number"===n){var i=document.createElement("input");return i.type=n,t.disabled&&(i.disabled=!0),e.value&&(i.value=e.value),i.addEventListener("keyup",(function(i){e.value="number"===n?Number(this.value):this.value,t.Ac()})),i}if("select"===n){var r=document.createElement("select");return t.disabled&&(r.disabled=!0),e.data.options.forEach((function(t){var n=document.createElement("option");n.innerText=t.name,n.value=t.id,n.kc=t.id,r.appendChild(n),e.value===t.id&&n.setAttribute("selected",!0)})),r.addEventListener("change",(function(n){var i=r.options[r.selectedIndex];i&&"undefined"!=typeof i.kc&&(e.value=i.kc),t.Ac()})),r}throw new Error("Unsupported item type: "+n)},u.prototype.focus=function(){}}}(i),"undefined"==typeof i)i={};if("undefined"==typeof i.Global&&(i.Global={}),function(){if("undefined"==typeof i.Month||!i.Month.events){var e={Month:function(t,n){this.v="2023.3.499-lite",this.nav={};var r=this;this.id=t,this.isMonth=!0,this.api=2,this.backendUrl=null,this.cellHeaderHeight=24,this.cellHeight=100,this.contextMenu=null,this.cssClassPrefix="month_default",this.eventBarVisible=!0,this.eventHeight=25,this.eventsLoadMethod="GET",this.headerHeight=30,this.hideUntilInit=!0,this.lineSpace=1,this.locale="en-us",this.showToolTip=!0,this.startDate=new i.Date,this.theme=null,this.visible=!0,this.weekStarts=1,this.width="100%",this.xssProtection="Enabled",this.afterRender=function(){},this.cellHeaderClickHandling="Enabled",this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.headerClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.onCellHeaderClick=null,this.onCellHeaderClicked=null,this.onEventClick=null,this.onEventClicked=null,this.onEventDelete=null,this.onEventDeleted=null,this.onEventMove=null,this.onEventMoved=null,this.onEventResize=null,this.onEventResized=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.cellEvents=[],this.elements={},this.elements.events=[],this.cache={},this.T=function(e,t){return(e=JSON.parse(e)).CallBackRedirect?void(document.location.href=e.CallBackRedirect):("None"===e.UpdateType||(r.events.list=e.Events,"Full"===e.UpdateType&&(r.startDate=e.StartDate,r.timeFormat=e.TimeFormat?e.TimeFormat:r.timeFormat,"undefined"!=typeof e.WeekStarts&&(r.weekStarts=e.WeekStarts),r.hashes=e.Hashes),r.V(),r.Ic(),r.ca(),"Full"===e.UpdateType&&(r.Jc(),r.Kc()),r.ha(),r.show(),r.ia()),void r.fireAfterRenderDetached(e.CallBackData,!0))},this.fireAfterRenderDetached=function(e,t){window.setTimeout(function(e,t){return function(){r.afterRender&&r.afterRender(e,t)}}(e,t),0)},this.lineHeight=function(){return this.eventHeight+this.lineSpace},this.events={},this.events.add=function(e){var t=null;if(e instanceof i.Event)t=e.data;else{if("object"!=typeof e)throw"DayPilot.Month.events.add() expects an object or DayPilot.Event instance.";t=e}r.events.list||(r.events.list=[]),r.events.list.push(t),r.update(),r.qa.notify()},this.events.find=function(e){if(!r.events.list)return null;if("function"==typeof e){for(var t=e,n=0;n<r.events.list.length;n++){var a=new i.Event(r.events.list[n],r);if(t(a))return a}return null}for(n=0;n<r.events.list.length;n++){var o=r.events.list[n];if(o.id===e)return new i.Event(o,r)}return null},this.events.update=function(e){if(e instanceof i.Event)e.commit();else if("object"==typeof e){var t=r.events.find(e.id);if(t){var n=i.indexOf(r.events.list,t.data);r.events.list.splice(n,1,e)}}r.update(),r.qa.notify()},this.events.remove=function(e){var t=i.indexOf(r.events.list,e.data);r.events.list.splice(t,1),r.update(),r.qa.notify()},this.events.load=function(e,t,n){var a=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},o=function(e){var n,o=e.request;try{n=JSON.parse(o.responseText)}catch(e){var s={};return s.exception=e,void a(s)}if(i.isArray(n)){var l={preventDefault:function(){this.preventDefault.value=!0}};if(l.data=n,"function"==typeof t&&t(l),l.preventDefault.value)return;r.events.list=n,r.za&&r.update()}};if(r.eventsLoadMethod&&"POST"===r.eventsLoadMethod.toUpperCase())i.Http.ajax({method:"POST",data:{start:r.visibleStart().toString(),end:r.visibleEnd().toString()},url:e,success:o,error:a});else{var s=e,l="start="+r.visibleStart().toString()+"&end="+r.visibleEnd().toString();s+=s.indexOf("?")>-1?"&"+l:"?"+l,i.Http.ajax({method:"GET",url:s,success:o,error:a})}},this.update=function(e){r.$a(e),this.za&&this.cells&&(r.V(),r.Ic(),r.ca(),r.Jc(),r.Kc(),r.ha(),r.s(),r.ia(),this.visible?this.show():this.hide())},this.bb=null,this.$a=function(e){if(e){var t={events:{preInit:function(){var e=this.data||[];i.isArray(e.list)?r.events.list=e.list:r.events.list=e}}};for(var n in this.bb=t,e)if(t[n]){var a=t[n];a.data=e[n],a.preInit&&a.preInit()}else r[n]=e[n]}},this.cb=function(){var e=this.bb;for(var t in e){var n=e[t];n.postInit&&n.postInit()}},this.eb={},this.eb.events=[],this.fb=function(e){var t=this.eb.events,n=this.events.list[e],i={};for(var a in n)i[a]=n[a];if("function"==typeof this.onBeforeEventRender){var o={};o.control=r,o.data=i,this.onBeforeEventRender(o)}t[e]=i},this.ca=function(){var e=this.events.list;if(e){if(!i.isArray(e))throw new i.Exception("DayPilot.Month.events.list expects an array object. You supplied: "+typeof e);if("function"==typeof this.onBeforeEventRender)for(var t=0;t<e.length;t++)this.fb(t);for(var n=0;n<e.length;n++){var r=e[n];if("object"!=typeof r)throw new i.Exception("Event data item must be an object");if(!r.start)throw new i.Exception("Event data item must specify 'start' property");if(!r.end)throw new i.Exception("Event data item must specify 'end' property");var a=new i.Date(r.start),o=new i.Date(r.end);if(!(a.getTime()>o.getTime()))for(t=0;t<this.rows.length;t++){var s=this.rows[t],l=new i.Event(r,this);s.belongsHere(l)&&(s.events.push(l),"function"==typeof this.onBeforeEventRender&&(l.cache=this.eb.events[n]))}}for(var u=0;u<this.rows.length;u++){(s=this.rows[u]).events.sort(this.gb);for(var c=0;c<this.rows[u].events.length;c++){var d=s.events[c],h=s.getStartColumn(d),f=s.getWidth(d);s.putIntoLine(d,h,f,u)}}}},this.V=function(){for(var e=0;e<this.elements.events.length;e++){var t=this.elements.events[e];t.event=null,t.click=null,t.parentNode.removeChild(t)}this.elements.events=[]},this.ia=function(){this.Lc()},this.Lc=function(){this.elements.events=[];for(var e=0;e<this.rows.length;e++)for(var t=this.rows[e],n=0;n<t.lines.length;n++)for(var i=t.lines[n],r=0;r<i.length;r++)this.Ca(i[r])},this.gb=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var n=e.start().getTime()-t.start().getTime();return 0!==n?n:t.end().getTime()-e.end().getTime()},this.drawShadow=function(t,n,i,a,o,s){o||(o=0);var l=a;this.shadow={},this.shadow.list=[],this.shadow.start={x:t,y:n},this.shadow.width=a;var u=7*n+t-o;u<0&&(l+=u,t=0,n=0);for(var c=o;c>=7;)n--,c-=7;c>t?c>t+(7-this.getColCount())?(n--,t=t+7-c):(l=l-c+t,t=0):t-=c,n<0&&(n=0,t=0);var d=null;for(e.resizingEvent?d="w-resize":e.movingEvent&&(d="move"),this.nav.top.style.cursor=d;l>0&&n<this.rows.length;){var h=Math.min(this.getColCount()-t,l),f=this.rows[n],p=this.getRowTop(n),v=f.getHeight(),g=document.createElement("div");g.setAttribute("unselectable","on"),g.style.position="absolute",g.style.left=this.getCellWidth()*t+"%",g.style.width=this.getCellWidth()*h+"%",g.style.top=p+"px",g.style.height=v+"px",g.style.cursor=d,g.classList.add(r.J("_shadow"));var m=document.createElement("div");m.setAttribute("unselectable","on"),g.appendChild(m),m.style.position="absolute",m.style.top="0px",m.style.right="0px",m.style.left="0px",m.style.bottom="0px",m.classList.add(r.J("_shadow_inner")),this.nav.top.appendChild(g),this.shadow.list.push(g),l-=h+7-this.getColCount(),t=0,n++}},this.clearShadow=function(){if(this.shadow){for(var e=0;e<this.shadow.list.length;e++)this.nav.top.removeChild(this.shadow.list[e]);this.shadow=null,this.nav.top.style.cursor=""}},this.getEventTop=function(e,t){for(var n=this.headerHeight,i=0;i<e;i++)n+=this.rows[i].getHeight();return(n+=this.cellHeaderHeight)+t*this.lineHeight()},this.getDateFromCell=function(e,t){return this.firstDate.addDays(7*t+e)},this.Ca=function(t){var n=t.cache||t.data,a=t.part.row,o=t.part.line,s=t.part.colStart,l=t.part.colWidth,u=this.getCellWidth()*s,c=this.getCellWidth()*l,d=this.getEventTop(a,o),h=document.createElement("div");h.setAttribute("unselectable","on"),h.style.height=this.eventHeight+"px",h.className=this.J("_event"),n.cssClass&&i.Util.addClass(h,n.cssClass),t.part.startsHere||i.Util.addClass(h,this.J("_event_continueleft")),t.part.endsHere||i.Util.addClass(h,this.J("_event_continueright")),h.event=t,h.style.width=c+"%",h.style.position="absolute",h.style.left=u+"%",h.style.top=d+"px",this.showToolTip&&t.client.toolTip()&&(h.title=t.client.toolTip()),h.onclick=r.pa,h.oncontextmenu=r.Mc,h.onmousedown=function(n){var u=(n=n||window.event).which||n.button;if(n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation(),1===u)if(e.movingEvent=null,"w-resize"===this.style.cursor||"e-resize"===this.style.cursor){var c={start:{}};c.start.x=s,c.start.y=a,c.event=h.event,c.width=i.DateUtil.daysSpan(c.event.start(),c.event.end())+1,c.direction=this.style.cursor,e.resizingEvent=c}else if("move"===this.style.cursor||t.client.moveEnabled()){r.clearShadow();var d=i.mo2(r.nav.top,n);if(!d)return;var f=r.getCellBelowPoint(d.x,d.y),p=i.DateUtil.daysDiff(t.start(),r.rows[a].start),v=7*f.y+f.x-(7*a+s);p&&(v+=p);var g={start:{}};g.start.x=s,g.start.y=a,g.start.line=o,g.offset=r.eventMoveToPosition?0:v,g.colWidth=l,g.event=h.event,g.coords=d,e.movingEvent=g}},h.onmousemove=function(n){if("undefined"!=typeof e&&!e.movingEvent&&!e.resizingEvent){var r=i.mo3(h,n);if(r){h.deleteIcon&&(h.deleteIcon.style.display="");r.x<=6&&t.client.resizeEnabled()?t.part.startsHere?(h.style.cursor="w-resize",h.dpBorder="left"):h.style.cursor="not-allowed":h.clientWidth-r.x<=6&&t.client.resizeEnabled()?t.part.endsHere?(h.style.cursor="e-resize",h.dpBorder="right"):h.style.cursor="not-allowed":t.client.clickEnabled()?h.style.cursor="pointer":h.style.cursor="default"}}},h.onmouseleave=function(e){h.deleteIcon&&(h.deleteIcon.style.display="none"),h.style.cursor=""},h.onmouseenter=function(e){h.deleteIcon&&(h.deleteIcon.style.display="")};var f=document.createElement("div");if(f.setAttribute("unselectable","on"),f.className=this.J("_event_inner"),"darker"===n.borderColor&&n.backColor?f.style.borderColor=i.ColorUtil.darker(n.backColor,2):f.style.borderColor=n.borderColor,n.backColor&&(f.style.background=n.backColor,(i.browser.ie9||i.browser.ielt9)&&(f.style.filter="")),n.fontColor&&(f.style.color=n.fontColor),f.innerHTML=t.client.html(),h.appendChild(f),t.client.barVisible()){var p=document.createElement("div");p.setAttribute("unselectable","on"),p.className=this.J("_event_bar"),p.style.position="absolute";var v=document.createElement("div");v.setAttribute("unselectable","on"),v.className=this.J("_event_bar_inner"),v.style.top="0%",v.style.height="100%",n.barColor&&(v.style.backgroundColor=n.barColor),p.appendChild(v),h.appendChild(p)}if(t.client.deleteEnabled()){var g=Math.floor(r.eventHeight/2-9),m=document.createElement("div");m.style.position="absolute",m.style.right="2px",m.style.top=g+"px",m.style.width="18px",m.style.height="18px",m.className=r.J("_event_delete"),m.onmousedown=function(e){e.stopPropagation()},m.onclick=function(e){e.stopPropagation();var t=this.parentNode.event;t&&r.sa(t)},m.style.display="none",h.deleteIcon=m,h.appendChild(m)}var y=n.areas?i.Areas.copy(n.areas):[];if(i.Areas.attach(h,t,{areas:y}),"function"==typeof r.onAfterEventRender){var b={};b.e=h.event,b.div=h,r.onAfterEventRender(b)}this.elements.events.push(h),this.nav.events.appendChild(h)},this.lastVisibleDayOfMonth=function(){return this.startDate.lastDayOfMonth()},this.Ic=function(){"string"==typeof this.startDate&&(this.startDate=new i.Date(this.startDate)),this.startDate=this.startDate.firstDayOfMonth(),this.firstDate=this.startDate.firstDayOfWeek(this.getWeekStart());var e,t=(this.startDate,this.lastVisibleDayOfMonth()),n=i.DateUtil.daysDiff(this.firstDate,t)+1;e=Math.ceil(n/7),this.days=7*e,this.rows=[];for(var a=0;a<e;a++){var o={};o.start=this.firstDate.addDays(7*a),o.end=o.start.addDays(this.getColCount()),o.events=[],o.lines=[],o.index=a,o.minHeight=this.cellHeight,o.calendar=this,o.belongsHere=function(e){return e.end().getTime()===e.start().getTime()&&e.start().getTime()===this.start.getTime()||!(e.end().getTime()<=this.start.getTime()||e.start().getTime()>=this.end.getTime())},o.getPartStart=function(e){return i.DateUtil.max(this.start,e.start())},o.getPartEnd=function(e){return i.DateUtil.min(this.end,e.end())},o.getStartColumn=function(e){var t=this.getPartStart(e);return i.DateUtil.daysDiff(this.start,t)},o.getWidth=function(e){return i.DateUtil.daysSpan(this.getPartStart(e),this.getPartEnd(e))+1},o.putIntoLine=function(e,t,n,i){for(var r=this,a=0;a<this.lines.length;a++){if((o=this.lines[a]).isFree(t,n))return o.addEvent(e,t,n,i,a),a}var o;return(o=[]).isFree=function(e,t){for(var n=!0,i=0;i<this.length;i++)e+t-1<this[i].part.colStart||e>this[i].part.colStart+this[i].part.colWidth-1||(n=!1);return n},o.addEvent=function(e,t,n,i,a){e.part.colStart=t,e.part.colWidth=n,e.part.row=i,e.part.line=a,e.part.startsHere=r.start.getTime()<=e.start().getTime(),e.part.endsHere=r.end.getTime()>=e.end().getTime(),this.push(e)},o.addEvent(e,t,n,i,this.lines.length),this.lines.push(o),this.lines.length-1},o.getStart=function(){for(var e=0;e<r.rows.length&&e<this.index;e++)r.rows[e].getHeight()},o.getHeight=function(){return Math.max(this.lines.length*r.lineHeight()+r.cellHeaderHeight,this.calendar.cellHeight)},this.rows.push(o)}this.endDate=this.firstDate.addDays(7*e)},this.visibleStart=function(){return r.firstDate},this.visibleEnd=function(){return r.endDate},this.getHeight=function(){for(var e=this.headerHeight,t=0;t<this.rows.length;t++)e+=this.rows[t].getHeight();return e},this.getWidth=function(e,t){return 7*t.y+t.x-(7*e.y+e.x)+1},this.getMinCoords=function(e,t){return 7*e.y+e.x<7*t.y+t.x?e:t},this.J=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.Ea=function(){var t=this.nav.top;t.setAttribute("unselectable","on"),t.style.MozUserSelect="none",t.style.KhtmlUserSelect="none",t.style.WebkitUserSelect="none",t.style.position="relative",this.width&&(t.style.width=this.width),t.style.height=this.getHeight()+"px",t.onselectstart=function(e){return!1},this.hideUntilInit&&(t.style.visibility="hidden"),this.visible||(t.style.display="none"),t.className=this.J("_main");var n=document.createElement("div");this.nav.cells=n,n.style.position="absolute",n.style.left="0px",n.style.right="0px",n.setAttribute("unselectable","on"),t.appendChild(n);var a=document.createElement("div");this.nav.events=a,a.style.position="absolute",a.style.left="0px",a.style.right="0px",a.setAttribute("unselectable","on"),t.appendChild(a),t.onmousemove=function(t){if(e.resizingEvent){if(!(c=i.mo2(r.nav.top,t)))return;var n=r.getCellBelowPoint(c.x,c.y);r.clearShadow();var a=e.resizingEvent;if(a.start,"w-resize"===a.direction){d=n;var o=a.event.end();o.getDatePart()===o&&(o=o.addDays(-1));var s=r.getCellFromDate(o);h=r.getWidth(n,s)}else d=r.getCellFromDate(a.event.start()),h=r.getWidth(d,n);h<1&&(h=1),r.drawShadow(d.x,d.y,0,h)}else if(e.movingEvent){if(!(c=i.mo2(r.nav.top,t)))return;if(c.x===e.movingEvent.coords.x&&c.y===e.movingEvent.coords.y)return;if(Math.abs(c.x-e.movingEvent.coords.x)+Math.abs(c.y-e.movingEvent.coords.y)<=3)return;n=r.getCellBelowPoint(c.x,c.y);r.clearShadow();var l=e.movingEvent.event,u=e.movingEvent.offset;(h=r.cellMode?1:i.DateUtil.daysSpan(l.start(),l.end())+1)<1&&(h=1),r.drawShadow(n.x,n.y,0,h,u,l)}else if(e.timeRangeSelecting){var c;if(!(c=i.mo2(r.nav.top,t)))return;n=r.getCellBelowPoint(c.x,c.y);r.clearShadow();var d,h,f=7*(d=e.timeRangeSelecting).y+d.x,p=7*n.y+n.x;(h=Math.abs(p-f)+1)<1&&(h=1);var v=f<p?d:n;e.timeRangeSelecting.from={x:v.x,y:v.y},e.timeRangeSelecting.width=h,e.timeRangeSelecting.moved=!0,r.drawShadow(v.x,v.y,0,h,0,null)}}},this.ha=function(){this.nav.top.style.height=this.getHeight()+"px";for(var e=0;e<this.cells.length;e++)for(var t=0;t<this.cells[e].length;t++)this.cells[e][t].style.top=this.getRowTop(t)+"px",this.cells[e][t].style.height=this.rows[t].getHeight()+"px"},this.getCellBelowPoint=function(e,t){for(var n=Math.floor(this.nav.top.clientWidth/this.getColCount()),i=Math.min(Math.floor(e/n),this.getColCount()-1),r=null,a=this.headerHeight,o=0,s=0;s<this.rows.length;s++){var l=a;if(t<(a+=this.rows[s].getHeight())){o=t-l,r=s;break}}null===r&&(r=this.rows.length-1);var u={};return u.x=i,u.y=r,u.relativeY=o,u},this.getCellFromDate=function(e){for(var t=i.DateUtil.daysDiff(this.firstDate,e),n={x:0,y:0};t>=7;)n.y++,t-=7;return n.x=t,n},this.Kc=function(){var e=document.createElement("div");e.oncontextmenu=function(){return!1},this.nav.cells.appendChild(e),this.cells=[];for(var t=0;t<this.getColCount();t++){this.cells[t]=[];var n=document.createElement("div");n.setAttribute("unselectable","on"),n.style.position="absolute",n.style.left=this.getCellWidth()*t+"%",n.style.width=this.getCellWidth()+"%",n.style.top="0px",n.style.height=this.headerHeight+"px";var i=t+this.getWeekStart();i>6&&(i-=7),n.className=this.J("_header");var r=document.createElement("div");r.setAttribute("unselectable","on"),r.innerHTML=a.locale().dayNames[i],n.appendChild(r),r.style.position="absolute",r.style.top="0px",r.style.bottom="0px",r.style.left="0px",r.style.right="0px",r.className=this.J("_header_inner"),r.innerHTML=a.locale().dayNames[i],e.appendChild(n);for(var o=0;o<this.rows.length;o++)this.Nc(t,o,e)}},this.Jc=function(){for(var e=0;e<this.cells.length;e++)for(var t=0;t<this.cells[e].length;t++)this.cells[e][t].onclick=null;this.nav.cells.innerHTML=""},this.oa=function(){return 2===r.api},this.Nc=function(t,n,o){var s=this.rows[n],l=this.firstDate.addDays(7*n+t),u=document.createElement("div");if(u.setAttribute("unselectable","on"),u.style.position="absolute",u.style.cursor="default",u.style.left=this.getCellWidth()*t+"%",u.style.width=this.getCellWidth()+"%",u.style.top=this.getRowTop(n)+"px",u.style.height=s.getHeight()+"px",u.className=this.J("_cell"),!this.isWeekend(l)){var c=this.J("_cell_business");i.Util.addClass(u,c)}var d=(this.startDate.addMonths(-1).getMonth(),this.startDate.addMonths(1).getMonth(),this.startDate.getMonth(),document.createElement("div"));d.setAttribute("unselectable","on"),u.appendChild(d),d.style.position="absolute",d.style.left="0px",d.style.right="0px",d.style.top="0px",d.style.bottom="0px",d.className=this.J("_cell_inner"),u.onmousedown=function(i){"Disabled"!==r.timeRangeSelectedHandling&&(r.clearShadow(),e.timeRangeSelecting={root:r,x:t,y:n,from:{x:t,y:n},width:1})},u.onclick=function(){"Disabled"===r.timeRangeSelectedHandling||function(e){var t=new i.Date(e),n=t.addDays(1);r.L(t,n)}(l)};var h=document.createElement("div");h.setAttribute("unselectable","on"),h.style.height=this.cellHeaderHeight+"px",h.className=this.J("_cell_header"),h.onclick=function(e){if("Enabled"===r.cellHeaderClickHandling){e.stopPropagation();var t={};t.control=r,t.start=l,t.end=l.addDays(1),t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof r.onCellHeaderClick&&(r.onCellHeaderClick(t),t.preventDefault.value)||"function"==typeof r.onCellHeaderClicked&&r.onCellHeaderClicked(t)}};var f=l.getDay();h.innerHTML=1===f?a.locale().monthNames[l.getMonth()]+" "+f:f,d.appendChild(h),this.cells[t][n]=u,o.appendChild(u)},this.getWeekStart=function(){return a.locale().weekStarts},this.getColCount=function(){return 7},this.getCellWidth=function(){return 14.285},this.getRowTop=function(e){for(var t=this.headerHeight,n=0;n<e;n++)t+=this.rows[n].getHeight();return t},this.R=function(e,t,n){var r={};r.action=e,r.parameters=n,r.data=t,r.header=this.Q();var a="JSON"+i.JSON.stringify(r);this.backendUrl&&i.request(this.backendUrl,this.S,a,this.ajaxError)},this.S=function(e){r.T(e.responseText)},this.Q=function(){var e={control:"dpm"};return e.id=this.id,e.v=this.v,e.visibleStart=new i.Date(this.firstDate),e.visibleEnd=e.visibleStart.addDays(this.days),e.startDate=r.startDate,e.timeFormat=this.timeFormat,e.weekStarts=this.weekStarts,e},this.eventClickCallBack=function(e,t){this.R("EventClick",t,e)},this.pa=function(t){e.movingEvent=null,e.resizingEvent=null;(t=t||window.event).ctrlKey,t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),r.eventClickSingle(this,t)},this.eventClickSingle=function(e,t){var n=e.event;if(n&&n.client.clickEnabled())if(r.oa()){var i={};if(i.e=n,i.control=r,i.div=e,i.originalEvent=t,i.meta=t.metaKey,i.ctrl=t.ctrlKey,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof r.onEventClick&&(r.qa.apply((function(){r.onEventClick(i)})),i.preventDefault.value))return;switch(r.eventClickHandling){case"CallBack":r.eventClickCallBack(n);break;case"ContextMenu":var a=n.client.contextMenu();a?a.show(n):r.contextMenu&&r.contextMenu.show(n)}"function"==typeof r.onEventClicked&&r.qa.apply((function(){r.onEventClicked(i)}))}else switch(r.eventClickHandling){case"CallBack":r.eventClickCallBack(n);break;case"JavaScript":r.onEventClick(n)}},this.Mc=function(){return r.ra(this.event),!1},this.ra=function(e){if(this.event=e,!e.client.rightClickEnabled())return!1;var t={};if(t.e=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"!=typeof r.onEventRightClick||(r.onEventRightClick(t),!t.preventDefault.value)){if("ContextMenu"===r.eventRightClickHandling){var n=e.client.contextMenu();n?n.show(e):r.contextMenu&&r.contextMenu.show(this.event)}return"function"==typeof r.onEventRightClicked&&r.onEventRightClicked(t),!1}},this.sa=function(e){if(r.oa()){var t={};if(t.e=e,t.control=r,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof r.onEventDelete&&(r.qa.apply((function(){r.onEventDelete(t)})),t.preventDefault.value))return;switch(r.eventDeleteHandling){case"CallBack":r.eventDeleteCallBack(e);break;case"PostBack":r.eventDeletePostBack(e);break;case"Update":r.events.remove(e)}"function"==typeof r.onEventDeleted&&r.qa.apply((function(){r.onEventDeleted(t)}))}else switch(r.eventDeleteHandling){case"PostBack":r.eventDeletePostBack(e);break;case"CallBack":r.eventDeleteCallBack(e);break;case"JavaScript":r.onEventDelete(e)}},this.eventDeleteCallBack=function(e,t){this.R("EventDelete",t,e)},this.eventDeletePostBack=function(e,t){this.P("EventDelete",t,e)},this.eventMoveCallBack=function(e,t,n,i,r){if(!t)throw"newStart is null";if(!n)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=n,a.position=r,this.R("EventMove",i,a)},this.K=function(e,t,n,a,o,s){var l=e.start().getTimePart(),u=e.end().getDatePart();u.getTime()!==e.end().getTime()&&(u=u.addDays(1));var c=i.DateUtil.diff(e.end(),u),d=this.getDateFromCell(t,n);d=d.addDays(-a);var h=i.DateUtil.daysSpan(e.start(),e.end())+1,f=d.addDays(h),p=d.addTime(l),v=f.addTime(c);if(r.oa()){var g={};if(g.e=e,g.control=r,g.newStart=p,g.newEnd=v,g.ctrl=o.ctrlKey,g.shift=o.shiftKey,g.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof r.onEventMove&&(r.qa.apply((function(){r.onEventMove(g)})),g.preventDefault.value))return;switch(r.eventMoveHandling){case"CallBack":r.eventMoveCallBack(e,p,v);break;case"Update":e.start(p),e.end(v),r.events.update(e)}"function"==typeof r.onEventMoved&&r.qa.apply((function(){r.onEventMoved(g)}))}else switch(r.eventMoveHandling){case"CallBack":r.eventMoveCallBack(e,p,v);break;case"JavaScript":r.onEventMove(e,p,v)}},this.eventResizeCallBack=function(e,t,n,i){if(!t)throw"newStart is null";if(!n)throw"newEnd is null";var r={};r.e=e,r.newStart=t,r.newEnd=n,this.R("EventResize",i,r)},this.I=function(e,t,n){var a=e.start().getTimePart(),o=e.end().getDatePart();o.getTime()!==e.end().getTime()&&(o=o.addDays(1));var s=i.DateUtil.diff(e.end(),o),l=this.getDateFromCell(t.x,t.y),u=l.addDays(n),c=l.addTime(a),d=u.addTime(s);if(r.oa()){var h={};if(h.e=e,h.control=r,h.newStart=c,h.newEnd=d,h.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof r.onEventResize&&(r.qa.apply((function(){r.onEventResize(h)})),h.preventDefault.value))return;switch(r.eventResizeHandling){case"CallBack":r.eventResizeCallBack(e,c,d);break;case"Update":e.start(c),e.end(d),r.events.update(e)}"function"==typeof r.onEventResized&&r.qa.apply((function(){r.onEventResized(h)}))}else switch(r.eventResizeHandling){case"CallBack":r.eventResizeCallBack(e,c,d);break;case"JavaScript":r.onEventResize(e,c,d)}},this.timeRangeSelectedCallBack=function(e,t,n){var i={};i.start=e,i.end=t,this.R("TimeRangeSelected",n,i)},this.L=function(e,t){if(this.oa()){var n={};if(n.control=r,n.start=e,n.end=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof r.onTimeRangeSelect&&(r.qa.apply((function(){r.onTimeRangeSelect(n)})),n.preventDefault.value))return;if("CallBack"===r.timeRangeSelectedHandling)r.timeRangeSelectedCallBack(e,t);"function"==typeof r.onTimeRangeSelected&&r.qa.apply((function(){r.onTimeRangeSelected(n)}))}else switch(r.timeRangeSelectedHandling){case"CallBack":r.timeRangeSelectedCallBack(e,t);break;case"JavaScript":r.onTimeRangeSelected(e,t)}},this.qa={},this.qa.scope=null,this.qa.notify=function(){r.qa.scope&&r.qa.scope.$apply()},this.qa.apply=function(e){e()},this.clearSelection=function(){r.clearShadow()},this.commandCallBack=function(e,t){var n={};n.command=e,this.R("Command",t,n)},this.isWeekend=function(e){return 0===(e=new i.Date(e)).dayOfWeek()||6===e.dayOfWeek()},this._={},this._.locale=function(){var e=i.Locale.find(r.locale);return e||i.Locale.US},this._.aa=function(){return"Disabled"!==r.xssProtection};var a=this._;this.debug=function(e,t){this.debuggingEnabled&&(r.debugMessages||(r.debugMessages=[]),r.debugMessages.push(e),"undefined"!=typeof console&&console.log(e))},this.dispose=function(){var e=r;e.nav.top&&(e.V(),e.nav.top.removeAttribute("style"),e.nav.top.removeAttribute("class"),e.nav.top.innerHTML="",e.nav.top.dp=null,e.nav.top.onmousemove=null,e.nav.top=null)},this.Ya=function(){e.globalHandlers||(e.globalHandlers=!0,i.re(document,"mouseup",e.gMouseUp))},this.loadFromServer=function(){return!(!this.backendUrl&&"function"!=typeof WebForm_DoCallback)&&("undefined"==typeof r.events.list||!r.events.list)},this.s=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.show=function(){r.visible=!0,r.nav.top.style.display=""},this.hide=function(){r.visible=!1,r.nav.top.style.display="none"},this.db=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Month() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Month: The placeholder element not found: '"+id+"'."}},this.jb=function(){this.Ic(),this.Ea(),this.Kc(),this.Ya(),this.R("Init")},this.Ia=function(e,t){return r._.aa()?i.Util.escapeTextHtml(e,t):i.Util.isNullOrUndefined(t)?i.Util.isNullOrUndefined(e)?"":e:t},this.internal={},this.internal.loadOptions=this.$a,this.internal.xssTextHtml=r.Ia,this.init=function(){return this.db(),this.loadFromServer()?void this.jb():(this.Ic(),this.ca(),this.Ea(),this.Kc(),this.s(),this.ia(),this.Ya(),this.fireAfterRenderDetached(null,!1),this.za=!0,this)},this.Init=this.init,Object.defineProperty(this,"durationBarVisible",{get:function(){return r.eventBarVisible}}),this.$a(n)},gMouseUp:function(t){if(e.movingEvent){if(!(l=e.movingEvent).event)return;if(!l.event.calendar)return;if(!l.event.calendar.shadow)return;if(!l.event.calendar.shadow.start)return;var n=e.movingEvent.event.calendar,r=e.movingEvent.event,a=n.shadow.start,o=n.shadow.position,s=e.movingEvent.offset;n.clearShadow(),e.movingEvent=null;t=t||window.event;return n.K(r,a.x,a.y,s,t,o),t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),e.movingEvent=null,!1}if(e.resizingEvent){var l;if(!(l=e.resizingEvent).event)return;if(!l.event.calendar)return;if(!l.event.calendar.shadow)return;if(!l.event.calendar.shadow.start)return;n=e.resizingEvent.event.calendar,r=e.resizingEvent.event,a=n.shadow.start;var u=n.shadow.width;return n.clearShadow(),e.resizingEvent=null,n.I(r,a,u),t.cancelBubble=!0,e.resizingEvent=null,!1}if(e.timeRangeSelecting){if(e.timeRangeSelecting.moved){var c=e.timeRangeSelecting,d=(n=c.root,(a=new i.Date(n.getDateFromCell(c.from.x,c.from.y))).addDays(c.width));n.L(a,d),n.clearShadow()}e.timeRangeSelecting=null}}};i.Month=e.Month,"undefined"!=typeof jQuery&&(jQuery.fn.daypilotMonth=function(e){var t=null,n=this.each((function(){if(!this.daypilot){var n=new i.Month(this.id);for(name in this.daypilot=n,e)n[name]=e[name];n.Init(),t||(t=n)}}));return 1===this.length?t:n}),function(){var e=i.am();e&&e.directive("daypilotMonth",["$parse",function(e){return{restrict:"E",template:"<div></div>",replace:!0,link:function(t,n,r){var a=new i.Month(n[0]);a.qa.scope=t,a.init();var o=r.id;o&&(t[o]=a);var s=r.publishAs;for(var l in s&&(0,e(s).assign)(t,a),r)0===l.indexOf("on")&&function(n){a[n]=function(i){var a=e(r[n]);t.$apply((function(){a(t,{args:i})}))}}(l);var u=t.$watch,c=r.config||r.daypilotConfig,d=r.events||r.daypilotEvents;u.call(t,c,(function(e){for(var t in e)a[t]=e[t];a.update()}),!0),u.call(t,d,(function(e){a.events.list=e,a.update()}),!0)}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof i)i={};"undefined"==typeof i.Global&&(i.Global={}),"undefined"!=typeof i.Navigator&&i.Navigator.nav||(i.Navigator=function(e,t){this.v="2023.3.499-lite";var n=this;this.id=e,this.api=2,this.isNavigator=!0,this.autoFocusOnClick=!0,this.weekStarts="Auto",this.selectMode="Day",this.titleHeight=30,this.dayHeaderHeight=30,this.bound=null,this.cellWidth=30,this.cellHeight=30,this.cssClassPrefix="navigator_default",this.freeHandSelectionEnabled=!1,this.selectionStart=(new i.Date).getDatePart(),this.selectionEnd=null,this.selectionDay=null,this.showMonths=1,this.skipMonths=1,this.command="navigate",this.year=(new i.Date).getYear(),this.month=(new i.Date).getMonth()+1,this.showWeekNumbers=!1,this.weekNumberAlgorithm="Auto",this.rowsPerMonth="Six",this.orientation="Vertical",this.locale="en-us",this.rtl=!1,this.visible=!0,this.timeRangeSelectedHandling="Bind",this.visibleRangeChangedHandling="Enabled",this.onVisibleRangeChange=null,this.onVisibleRangeChanged=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.nav={},this.eb={},this.Oc=function(){this.root.dp=this,this.root.className=this.J("_main"),"Horizontal"===this.orientation?(this.root.style.width=this.showMonths*(7*o.cellWidth()+this.Pc())+"px",this.root.style.height=6*this.cellHeight+this.titleHeight+this.dayHeaderHeight+"px"):this.root.style.width=7*o.cellWidth()+this.Pc()+"px",this.rtl&&(this.root.style.direction="rtl"),this.root.style.position="relative",this.visible||(this.root.style.display="none");var e=document.createElement("input");e.type="hidden",e.name=n.id+"_state",e.id=e.name,this.root.appendChild(e),this.state=e,this.startDate?this.startDate=new i.Date(this.startDate).firstDayOfMonth():this.startDate=i.Date.fromYearMonthDay(this.year,this.month),this.calendars=[],this.selected=[],this.months=[]},this.oa=function(){return 2===n.api},this.Jc=function(){this.root.innerHTML=""},this.J=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.Qc=function(e,t){var n=this.J("_"+t);i.Util.addClass(e,n)},this.Rc=function(e,t){var n=this.J("_"+t);i.Util.removeClass(e,n)},this.Kc=function(e,t){var r={cells:[],days:[],weeks:[]},a=this.startDate.addMonths(e),s=t.before,l=t.after,u=a.firstDayOfMonth(),c=u.firstDayOfWeek(o.weekStarts()),d=u.addMonths(1),h=i.DateUtil.daysDiff(c,d),f="Auto"===this.rowsPerMonth?Math.ceil(h/7):6;r.rowCount=f;var p=(new i.Date).getDatePart(),v=7*o.cellWidth()+this.Pc();r.width=v;var g=this.cellHeight*f+this.titleHeight+this.dayHeaderHeight;r.height=g;var m=document.createElement("div");if(m.style.width=v+"px",m.style.height=g+"px","Horizontal"===this.orientation)m.style.position="absolute",m.style.left=v*e+"px",m.style.top="0px",r.top=0,r.left=v*e;else{m.style.position="relative";var y=e>0?n.months[e-1].top+n.months[e-1].height:0;r.top=y,r.left=0}m.className=this.J("_month"),m.style.cursor="default",m.style.MozUserSelect="none",m.style.KhtmlUserSelect="none",m.style.WebkitUserSelect="none",m.month=r,this.root.appendChild(m);var b=this.titleHeight+this.dayHeaderHeight,_=document.createElement("div");_.style.position="absolute",_.style.left="0px",_.style.right="0px",_.style.top="0px",_.style.width=o.cellWidth()+"px",_.style.height=this.titleHeight+"px",_.style.lineHeight=this.titleHeight+"px",_.setAttribute("unselectable","on"),_.className=this.J("_titleleft"),t.left&&(_.style.cursor="pointer",_.innerHTML="<span>&lt;</span>",_.onclick=this.Sc),m.appendChild(_),this.tl=_;var x=document.createElement("div");x.style.position="absolute",x.style.left=o.cellWidth()+"px",x.style.top="0px",x.style.width=5*o.cellWidth()+this.Pc()+"px",x.style.height=this.titleHeight+"px",x.style.lineHeight=this.titleHeight+"px",x.setAttribute("unselectable","on"),x.className=this.J("_title"),x.innerHTML=o.locale().monthNames[a.getMonth()]+" "+a.getYear(),m.appendChild(x),this.ti=x;var w=document.createElement("div");w.style.position="absolute",w.style.left=6*o.cellWidth()+this.Pc()+"px",w.style.right=6*o.cellWidth()+this.Pc()+"px",w.style.top="0px",w.style.width=o.cellWidth()+"px",w.style.height=this.titleHeight+"px",w.style.lineHeight=this.titleHeight+"px",w.setAttribute("unselectable","on"),w.className=this.J("_titleright"),t.right&&(w.style.cursor="pointer",w.innerHTML="<span>&gt;</span>",w.onclick=this.Tc),m.appendChild(w),this.tr=w;var k=this.Pc();if(this.showWeekNumbers)for(var C=0;C<f;C++){var S=c.addDays(7*C),E=null;switch(this.weekNumberAlgorithm){case"Auto":E=1===o.weekStarts()?S.weekNumberISO():S.weekNumber();break;case"US":E=S.weekNumber();break;case"ISO8601":E=S.weekNumberISO();break;default:throw"Unknown weekNumberAlgorithm value."}(R=document.createElement("div")).style.position="absolute",R.style.left="0px",R.style.right="0px",R.style.top=C*this.cellHeight+b+"px",R.style.width=o.cellWidth()+"px",R.style.height=this.cellHeight+"px",R.style.lineHeight=this.cellHeight+"px",R.setAttribute("unselectable","on"),R.className=this.J("_weeknumber"),R.innerHTML="<span>"+E+"</span>",m.appendChild(R),r.weeks.push(R)}for(var T=0;T<7;T++){var R;for(r.cells[T]=[],(R=document.createElement("div")).style.position="absolute",R.style.left=T*o.cellWidth()+k+"px",R.style.right=T*o.cellWidth()+k+"px",R.style.top=this.titleHeight+"px",R.style.width=o.cellWidth()+"px",R.style.height=this.dayHeaderHeight+"px",R.style.lineHeight=this.dayHeaderHeight+"px",R.setAttribute("unselectable","on"),R.className=this.J("_dayheader"),R.innerHTML="<span>"+this.Uc(T)+"</span>",m.appendChild(R),r.days.push(R),C=0;C<f;C++){S=c.addDays(7*C+T);var M=this.Vc(S)&&"none"!==this.Wc(),I=S.firstDayOfMonth()===a,D=S<a,P=S>=a.addMonths(1);if("month"===this.Wc())M=M&&I;else if("day"===this.Wc())M=M&&(I||s&&D||l&&P);else if("week"===this.Wc()){var A=S.firstDayOfMonth()===a;M=M&&(A||s&&D||l&&P)}var N=document.createElement("div");r.cells[T][C]=N;var L=n.Xc(T,C),O=L.x,F=L.y;N.day=S,N.x=T,N.y=C,N.left=O,N.top=F,N.isCurrentMonth=I,N.isNextMonth=P,N.isPrevMonth=D,N.showBefore=s,N.showAfter=l,N.className=this.J(I?"_day":"_dayother"),n.Qc(N,"cell"),S.getTime()===p.getTime()&&I&&this.Qc(N,"today"),0!==S.dayOfWeek()&&6!==S.dayOfWeek()||this.Qc(N,"weekend"),N.style.position="absolute",N.style.left=O+"px",N.style.right=O+"px",N.style.top=F+"px",N.style.width=o.cellWidth()+"px",N.style.height=this.cellHeight+"px",N.style.lineHeight=this.cellHeight+"px";var H=document.createElement("div");H.style.position="absolute",H.className=S.getTime()===p.getTime()&&I?this.J("_todaybox"):this.J("_daybox"),n.Qc(H,"cell_box"),H.style.left="0px",H.style.top="0px",H.style.right="0px",H.style.bottom="0px",N.appendChild(H);var j=null;if(this.cells&&this.cells[S.toStringSortable()]&&(j=this.cells[S.toStringSortable()]),"function"==typeof n.onBeforeCellRender){var z={};z.cell=j||{},z.cell.day=S,z.cell.isCurrentMonth=I,z.cell.isToday=S.getTime()===p.getTime()&&I,z.cell.isWeekend=0===S.dayOfWeek()||6===S.dayOfWeek(),j?(z.cell.html=j.html||S.getDay(),z.cell.cssClass=j.css):(z.cell.html=S.getDay(),z.cell.cssClass=null),n.onBeforeCellRender(z),j=z.cell}if(j&&i.Util.addClass(N,j.cssClass||j.css),I||s&&D||l&&P){var B=document.createElement("div");B.innerHTML=S.getDay(),B.style.position="absolute",B.style.left="0px",B.style.top="0px",B.style.right="0px",B.style.bottom="0px",n.Qc(B,"cell_text"),N.isClickable=!0,j&&j.html&&(B.innerHTML=j.html),N.appendChild(B)}N.setAttribute("unselectable","on"),N.onclick=this.Yc,m.appendChild(N),M&&(n.Zc(m,T,C),this.selected.push(N))}}var U=document.createElement("div");U.style.position="absolute",U.style.left="0px",U.style.top=b-2+"px",U.style.width=7*o.cellWidth()+this.Pc()+"px",U.style.height="1px",U.style.fontSize="1px",U.style.lineHeight="1px",U.className=this.J("_line"),m.appendChild(U),this.months.push(r)},this.Xc=function(e,t){var n=this.titleHeight+this.dayHeaderHeight,i=this.Pc();return{x:e*o.cellWidth()+i,y:t*this.cellHeight+n}},this.Zc=function(e,t,i){var r=e.month.cells[t][i];n.Qc(r,"select")},this.$c=function(e,t,i){var r=e.month.cells[t][i];n.Rc(r,"select")},this.Pc=function(){return this.showWeekNumbers?o.cellWidth():0},this._c=function(){if(this.items)for(var e=0;e<this.showMonths;e++)for(var t=0;t<7;t++)for(var n=0;n<6;n++){var i=this.months[e].cells[t][n];i&&(1===this.items[i.day.toStringSortable()]?(this.Qc(i,"busy"),this.Rc(i,"free")):(this.Rc(i,"busy"),this.Qc(i,"free")))}},this.ad=function(){var e={};e.startDate=n.startDate,e.selectionStart=n.selectionStart,e.selectionEnd=n.selectionEnd.addDays(1),n.state.value=JSON.stringify(e)},this.Wc=function(){return(this.selectMode||"").toLowerCase()},this.bd=function(){var e=this.selectionDay||this.selectionStart;switch(e||(e=i.Date.today()),e=new i.Date(e),this.Wc()){case"day":this.selectionStart=e,this.selectionDay=e,this.selectionEnd=e;break;case"week":this.selectionDay=e,this.selectionStart=e.firstDayOfWeek(o.weekStarts()),this.selectionEnd=this.selectionStart.addDays(6);break;case"month":this.selectionDay=e,this.selectionStart=e.firstDayOfMonth(),this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case"none":this.selectionEnd=e;break;default:throw"Unknown selectMode value."}},this.cd=null,this.select=function(e,t,r){var a=e,o=t&&(t instanceof i.Date||"string"==typeof t)?t:null,s=t&&"object"==typeof t||"boolean"==typeof t?t:r;if(this.za){var l=!0,u=!0;s&&"object"==typeof s?(s.dontFocus&&(l=!1),s.dontNotify&&(u=!1)):"boolean"==typeof s&&(l=!s);var c=this.selectionStart,d=this.selectionEnd;this.selectionStart=new i.Date(a).getDatePart(),this.selectionDay=this.selectionStart;var h=!1;if(l){var f=this.startDate;(this.selectionStart<this.dd()||this.selectionStart>=this.ed())&&(f=this.selectionStart.firstDayOfMonth()),f.toStringSortable()!==this.startDate.toStringSortable()&&(h=!0),this.startDate=f}o&&n.freeHandSelectionEnabled?n.selectionEnd=new i.Date(o):this.bd(),this.Jc(),this.Oc(),this.fd(),this._c(),this.ad(),!u||c.equals(this.selectionStart)&&d.equals(this.selectionEnd)||this.L(),h&&this.gd()}else this.cd={date1:a,date2:o,options:s}},this.update=function(e){if(n.$a(e),this.za){if(n.hd)throw new i.Exception("You are trying to update a DayPilot.Navigator instance that has been disposed.");n.jd();var t={day:n.selectionDay,start:n.selectionStart,end:n.selectionEnd};n.Gb(),t.start===n.selectionStart&&t.end==n.selectionEnd&&t.day===n.selectionDay||n.L()}},this.Gb=function(){this.Jc(),this.Oc(),this.bd(),this.fd(),this.ca(),this._c(),this.ad(),this.visible?this.show():this.hide()},this.jd=function(){n.eb={}},this.bb=null,this.$a=function(e){if(e){var t={events:{preInit:function(){var e=this.data||[];i.isArray(e.list)?n.events.list=e.list:n.events.list=e}}};for(var r in this.bb=t,e)if(t[r]){var a=t[r];a.data=e[r],a.preInit&&a.preInit()}else n[r]=e[r]}},this.cb=function(){var e=this.bb;for(var t in e){var n=e[t];n.postInit&&n.postInit()}},this.R=function(e,t,n){var r={};r.action=e,r.parameters=n,r.data=t,r.header=this.Q();var a="JSON"+JSON.stringify(r);this.backendUrl?i.request(this.backendUrl,this.S,a,this.kd):WebForm_DoCallback(this.uniqueID,a,this.T,null,this.callbackError,!0)},this.kd=function(e){if("function"==typeof n.onAjaxError){var t={};t.request=e,n.onAjaxError(t)}else"function"==typeof n.ajaxError&&n.ajaxError(e)},this.S=function(e){n.T(e.responseText)},this.P=function(e,t,i){var r={};r.action=e,r.parameters=i,r.data=t,r.header=this.Q();var a="JSON"+JSON.stringify(r);__doPostBack(n.uniqueID,a)},this.Q=function(){var e={};return e.v=this.v,e.startDate=this.startDate,e.selectionStart=this.selectionStart,e.showMonths=this.showMonths,e},this.ld=function(e,t){"refresh"===e&&this.gd()},this.Uc=function(e){var t=e+o.weekStarts();return t>6&&(t-=7),o.locale().dayNamesShort[t]},this.Vc=function(e){return null!==this.selectionStart&&null!==this.selectionEnd&&this.selectionStart.getTime()<=e.getTime()&&e.getTime()<=this.selectionEnd.getTime()},this.md=function(e){for(var t=0;t<n.months.length;t++){var i=n.months[t];if(!i)return null;if(e.x<i.left||i.width<e.x)return null;if(n.months[t].height,i.top<=e.y&&e.y<i.top+i.height)return t}return null},this.nd=function(e){var t=i.mo3(n.nav.top,e),r=n.md(t);if(null===r)return null;var a=n.months[r],o=this.titleHeight+this.dayHeaderHeight;if(a.top<=t.y&&t.y<a.top+o)return{month:r,x:0,y:0,coords:t,header:!0};for(var s=0;s<a.cells.length;s++)for(var l=0;l<a.cells[s].length;l++){var u=a.cells[s][l],c=u.top+a.top,d=u.left+a.left;if(d<=t.x&&t.x<d+n.cellWidth&&c<=t.y&&t.y<c+n.cellHeight)return{month:r,x:s,y:l,coords:t}}return null},this.od=function(e){if(n.freeHandSelectionEnabled){var t=n.nd(e);t&&!t.header&&(r.start=t),n.months[t.month].cells[t.x][t.y],e.preventDefault()}},this.pd=function(e){if(r.start){var t=n.nd(e);(r.end||t&&i.distance(r.start.coords,t.coords)>3)&&(r.end=t),r.end&&(r.clear(),r.draw())}},this.qd={};var r=this.qd;r.start=null,r.drawCell=function(e){var t=n.months[e.month],i=n.Xc(e.x,e.y),a=t.top+i.y,o=t.left+i.x,s=document.createElement("div");s.style.position="absolute",s.style.left=o+"px",s.style.top=a+"px",s.style.height=n.cellHeight+"px",s.style.width=n.cellWidth+"px",s.style.backgroundColor="#ccc",s.style.opacity=.5,s.style.cursor="default",n.nav.preselection.appendChild(s),r.cells.push(s)},r.clear=function(){if(r.cells){for(var e=0;e<r.cells.length;e++)n.nav.preselection.removeChild(r.cells[e]);r.cells=[]}},r.draw=function(){var e=r.ordered(),t=new a(e.start),i=e.end;if(i){if(i===r.end&&i.header&&i.month>0){i.month-=1;var o=n.months[i.month];i.x=6,i.y=o.rowCount-1}for(r.cells=[];!t.is(i);){r.drawCell(t);var s=new a(t).next();if(!s)return;t.month=s.month,t.x=s.x,t.y=s.y}r.drawCell(t)}},r.ordered=function(){var e=r.start,t=r.end,n={};return!t||new a(e).before(t)?(n.start=e,n.end=t):(n.start=t,n.end=e),n};var a=function e(t,i,r){if(t instanceof e)return t;if("object"==typeof t){var a=t;this.month=a.month,this.x=a.x,this.y=a.y}else this.month=t,this.x=i,this.y=r;this.is=function(e){return this.month===e.month&&this.x===e.x&&this.y===e.y},this.next=function(){var e=this;if(e.x<6)return{month:e.month,x:e.x+1,y:e.y};var t=n.months[e.month];return e.y<t.rowCount-1?{month:e.month,x:0,y:e.y+1}:e.month<n.months.length-1?{month:e.month+1,x:0,y:0}:null},this.visible=function(){var e=this.cell();return!!e.isCurrentMonth||!(!e.isPrevMonth||!e.showBefore)||!(!e.isNextMonth||!e.showAfter)},this.nextVisible=function(){for(var t=this;!t.visible();){var n=t.next();if(!n)return null;t=new e(n)}return t},this.previous=function(){var e=this;if(e.x>0)return{month:e.month,x:e.x-1,y:e.y};if(n.months[e.month],e.y>0)return{month:e.month,x:6,y:e.y-1};if(e.month>0){var t=n.months[e.month-1];return{month:e.month-1,x:6,y:t.rowCount-1}}return null},this.previousVisible=function(){for(var t=this;!t.visible();){var n=t.previous();if(!n)return null;t=new e(n)}return t},this.cell=function(){return n.months[this.month].cells[this.x][this.y]},this.date=function(){return this.cell().day},this.before=function(t){return this.date()<new e(t).date()}};this.Yc=function(e){var t=this.parentNode,i=this.parentNode.month,r=this.x,a=this.y,o=i.cells[r][a].day;if(i.cells[r][a].isClickable){switch(n.clearSelection(),n.selectionDay=o,o=n.selectionDay,n.Wc()){case"none":n.selectionStart=o,n.selectionEnd=o;break;case"day":if(n.autoFocusOnClick){var s=o;if(o<n.dd()||o>=n.ed())return void n.select(o)}var l=i.cells[r][a];n.Zc(t,r,a),n.selected.push(l),n.selectionStart=l.day,n.selectionEnd=l.day;break;case"week":if(n.autoFocusOnClick){s=i.cells[0][a].day;var u=i.cells[6][a].day;if(s.firstDayOfMonth()===u.firstDayOfMonth()&&(s<n.dd()||u>=n.ed()))return void n.select(o)}for(var c=0;c<7;c++)n.Zc(t,c,a),n.selected.push(i.cells[c][a]);n.selectionStart=i.cells[0][a].day,n.selectionEnd=i.cells[6][a].day;break;case"month":if(n.autoFocusOnClick&&(s=o,o<n.dd()||o>=n.ed()))return void n.select(o);for(s=null,u=null,a=0;a<6;a++)for(r=0;r<7;r++)(l=i.cells[r][a])&&l.day.getYear()===o.getYear()&&l.day.getMonth()===o.getMonth()&&(n.Zc(t,r,a),n.selected.push(l),null===s&&(s=l.day),u=l.day);n.selectionStart=s,n.selectionEnd=u;break;default:throw"unknown selectMode"}n.ad(),n.L()}},this.L=function(e){var t=n.selectionStart,r=n.selectionEnd.addDays(1),a=i.DateUtil.daysDiff(t,r),o=n.selectionDay;if(e=e||{},n.oa()){var s={};if(s.start=t,s.end=r,s.day=o,s.days=a,s.mode=e.mode||n.selectMode,s.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(s),s.preventDefault.value))return;switch(n.timeRangeSelectedHandling){case"Bind":"object"==typeof bound&&((l={}).start=t,l.end=r,l.days=a,l.day=o,bound.commandCallBack(n.command,l));break;case"None":break;case"PostBack":n.timeRangeSelectedPostBack(t,r,o)}"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(s)}else switch(n.timeRangeSelectedHandling){case"Bind":var l;"object"==typeof bound&&((l={}).start=t,l.end=r,l.days=a,l.day=o,bound.commandCallBack(n.command,l));break;case"JavaScript":n.onTimeRangeSelected(t,r,o);break;case"None":break;case"PostBack":n.timeRangeSelectedPostBack(t,r,o)}},this.timeRangeSelectedPostBack=function(e,t,n,i){var r={};r.start=e,r.end=t,r.day=i,this.P("TimeRangeSelected",n,r)},this.Tc=function(e){n.rd(n.skipMonths)},this.Sc=function(e){n.rd(-n.skipMonths)},this.rd=function(e){this.startDate=this.startDate.addMonths(e),this.Jc(),this.Oc(),this.fd(),this.ad(),this.gd(),this._c()},this.dd=function(){return n.startDate.firstDayOfMonth()},this.ed=function(){return n.startDate.firstDayOfMonth().addMonths(this.showMonths)},this.visibleStart=function(){return n.startDate.firstDayOfMonth().firstDayOfWeek(o.weekStarts())},this.visibleEnd=function(){return n.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek(o.weekStarts()).addDays(42)},this.gd=function(){var e=this.visibleStart(),t=this.visibleEnd();if(n.oa()){var i={};if(i.start=e,i.end=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onVisibleRangeChange&&(n.onVisibleRangeChange(i),i.preventDefault.value))return;switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null)}"function"==typeof n.onVisibleRangeChanged&&n.onVisibleRangeChanged(i)}else switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"JavaScript":this.onVisibleRangeChanged(e,t)}},this.visibleRangeChangedCallBack=function(e){this.R("Visible",e,{})},this.visibleRangeChangedPostBack=function(e){this.P("Visible",e,{})},this.T=function(e,t){e=JSON.parse(e),n.items=e.Items,n.cells=e.Cells,n.cells?n.update():n._c()},this.fd=function(){for(var e=0;e<this.showMonths;e++){var t=this.sd(e);this.Kc(e,t)}this.root.style.height=this.td()+"px",this.nav.preselection=document.createElement("div"),this.nav.preselection.style.position="absolute",this.nav.preselection.style.left="0px",this.nav.preselection.style.top="0px",this.root.appendChild(this.nav.preselection)},this.td=function(){if("Horizontal"===this.orientation){for(var e=0,t=0;t<this.months.length;t++)(i=this.months[t]).height>e&&(e=i.height);return e}var n=0;for(t=0;t<this.months.length;t++){var i;n+=(i=this.months[t]).height}return n},this.sd=function(e){if(this.internal.showLinks)return this.internal.showLinks;var t={};return t.left=0===e,t.right=0===e,t.before=0===e,t.after=e===this.showMonths-1,"Horizontal"===this.orientation&&(t.right=e===this.showMonths-1),t},this.qa={},this.qa.scope=null,this.qa.notify=function(){n.qa.scope&&n.qa.scope.$apply()},this.internal={},this.internal.loadOptions=n.$a,this.internal.initialized=function(){return n.za},this._={};var o=this._;o.locale=function(){return i.Locale.find(n.locale)},o.weekStarts=function(){if("Auto"===n.weekStarts){var e=o.locale();return e?e.weekStarts:0}return n.weekStarts},o.cellWidth=function(){if(n.eb.cellWidth)return n.eb.cellWidth;var e=n.ud("_cell_dimensions").width;return e||(e=n.cellWidth),n.eb.cellWidth=e,e},this.clearSelection=function(){for(var e=0;e<this.selected.length;e++){var t=this.selected[e];n.$c(t.parentNode,t.x,t.y)}this.selected=[]},this.vd=function(){return!!this.backendUrl&&("undefined"==typeof n.items||!n.items)},this.events={},this.ca=function(){if(i.isArray(this.events.list)){this.items={};for(var e=0;e<this.events.list.length;e++){var t=this.events.list[e];if(!t.hidden){var n=this.wd(t);for(var r in n)this.items[r]=1}}}},this.ud=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.J(e);var i=n.root||document.body;i.appendChild(t);var r=t.offsetHeight,a=t.offsetWidth;i.removeChild(t);var o={};return o.height=r,o.width=a,o},this.wd=function(e){for(var t=new i.Date(e.start),n=new i.Date(e.end),r={},a=t.getDatePart();a.getTime()<=n.getTime();)r[a.toStringSortable()]=1,a=a.addDays(1);return r},this.show=function(){n.visible=!0,n.root.style.display=""},this.hide=function(){n.visible=!1,n.root.style.display="none"},this.db=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Navigator() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Navigator: The placeholder element not found: '"+e+"'."}this.root=this.nav.top},this.init=function(){if(this.db(),!this.root.dp){if(this.bd(),this.Oc(),this.fd(),this.ca(),this._c(),this.Y(),this.xd(),this.Ya(),this.vd()&&this.gd(),this.za=!0,this.cb(),this.cd){var e=this.cd;this.select(e.date1,e.date2,e.options),this.cd=null}return this}},this.xd=function(){n.nav.top.onmousedown=this.od,n.nav.top.onmousemove=this.pd},this.Ya=function(){i.re(document,"mouseup",n.yd)},this.yd=function(e){if(r.start&&r.end){var t=i.mo3(n.nav.top,e);if(t.x===r.start.coords.x&&t.y===r.start.coords.y)return r.start=null,void r.clear();r.clear();var o=r.ordered();o.start=new a(o.start).nextVisible(),o.end=new a(o.end).previousVisible(),n.selectionDay=new a(o.start).date(),n.selectionStart=n.selectionDay,n.selectionEnd=new a(o.end).date(),r.start=null,r.end=null,n.Jc(),n.Oc(),n.fd(),n._c(),n.ad(),n.L({mode:"FreeHand"})}r.start=null,r.end=null},this.dispose=function(){var e=n;e.root&&(e.root.removeAttribute("style"),e.root.removeAttribute("class"),e.root.dp=null,e.root.innerHTML=null,e.root=null,e.hd=!0)},this.Y=function(){this.root.dispose=this.dispose},this.Init=this.init,this.$a(t)},"undefined"!=typeof jQuery&&(jQuery.fn.daypilotNavigator=function(e){var t=null,n=this.each((function(){if(!this.daypilot){var n=new i.Navigator(this.id);for(var r in this.daypilot=n,e)n[r]=e[r];n.Init(),t||(t=n)}}));return 1===this.length?t:n}),function(){var e=i.am();e&&e.directive("daypilotNavigator",["$parse",function(e){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(t,n){return t.replaceWith(this.template.replace("{{id}}",n.id)),function(t,n,r){var a=new i.Navigator(n[0]);a.qa.scope=t,a.init();var o=r.id;o&&(t[o]=a);var s=r.publishAs;for(var l in s&&(0,e(s).assign)(t,a),r)0===l.indexOf("on")&&(i.Util.shouldApply(l)?function(n){a[n]=function(i){var a=e(r[n]);t.$apply((function(){a(t,{args:i})}))}}(l):function(n){a[n]=function(i){e(r[n])(t,{args:i})}}(l));var u=t.$watch,c=r.config||r.daypilotConfig,d=r.events||r.daypilotEvents;u.call(t,c,(function(e,t){for(var n in e)a[n]=e[n];a.update()}),!0),u.call(t,d,(function(e){a.events.list=e,a.ca(),a._c()}),!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()),function(){var t=n(791),r=(n(164),n(157)),a=r({componentDidMount:function(){this.control=new i.Month(this.me.ref,this.props).init()},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(e,t,n){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var e=this.me;return t.createElement("div",{ref:function(t){e.ref=t}})}}),o=r({componentDidMount:function(){this.control=new i.Calendar(this.me.ref,this.props),this.control.init()},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(e,t,n){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var e=this.me;return t.createElement("div",{ref:function(t){e.ref=t}})}}),s=r({componentDidMount:function(){this.control=new i.Navigator(this.me.ref,this.props).init()},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(e,t,n){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var e=this.me;return t.createElement("div",{ref:function(t){e.ref=t}})}});e.exports={DayPilot:i,DayPilotMonth:a,DayPilotCalendar:o,DayPilotNavigator:s}}()},150:function(e,t,n){"use strict";var i=n(725),r={};var a=function(e){};function o(e,t,n,i,r,o,s,l){if(a(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,s,l],d=0;(u=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}var s="mixins";e.exports=function(e,t,n){var a=[],l={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},u={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)h(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=i({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=i({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=p(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=i({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var i=t[n];if(t.hasOwnProperty(n)){if(o(!(n in c),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return o("DEFINE_MANY_MERGED"===(u.hasOwnProperty(n)?u[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=p(e[n],i));e[n]=i}}}(e,t)},autobind:function(){}};function d(e,t){var n=l.hasOwnProperty(t)?l[t]:null;b.hasOwnProperty(t)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function h(e,n){if(n){o("function"!==typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var i=e.prototype,r=i.__reactAutoBindPairs;for(var a in n.hasOwnProperty(s)&&c.mixins(e,n.mixins),n)if(n.hasOwnProperty(a)&&a!==s){var u=n[a],h=i.hasOwnProperty(a);if(d(h,a),c.hasOwnProperty(a))c[a](e,u);else{var f=l.hasOwnProperty(a);if("function"===typeof u&&!f&&!h&&!1!==n.autobind)r.push(a,u),i[a]=u;else if(h){var g=l[a];o(f&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,a),"DEFINE_MANY_MERGED"===g?i[a]=p(i[a],u):"DEFINE_MANY"===g&&(i[a]=v(i[a],u))}else i[a]=u}}}else;}function f(e,t){for(var n in o(e&&t&&"object"===typeof e&&"object"===typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(o(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function p(e,t){return function(){var n=e.apply(this,arguments),i=t.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return f(r,n),f(r,i),r}}function v(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function g(e,t){return t.bind(e)}var m={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},_=function(){};return i(_.prototype,e.prototype,b),function(e){var t=function(e,i,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var i=t[n],r=t[n+1];e[i]=g(e,r)}}(this),this.props=e,this.context=i,this.refs=r,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;o("object"===typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var i in t.prototype=new _,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],a.forEach(h.bind(null,t)),h(t,m),h(t,e),h(t,y),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),o(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),l)t.prototype[i]||(t.prototype[i]=null);return t}}},157:function(e,t,n){"use strict";var i=n(791),r=n(150);if("undefined"===typeof i)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var a=(new i.Component).updater;e.exports=r(i.Component,i.isValidElement,a)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,r){for(var a,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in a=Object(arguments[l]))n.call(a,u)&&(s[u]=a[u]);if(t){o=t(a);for(var c=0;c<o.length;c++)i.call(a,o[c])&&(s[o[c]]=a[o[c]])}}return s}},950:function(e){e.exports=function(){"use strict";function e(e,i,r,a,o){!function e(n,i,r,a,o){for(;a>r;){if(a-r>600){var s=a-r+1,l=i-r+1,u=Math.log(s),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(n,i,Math.max(r,Math.floor(i-l*c/s+d)),Math.min(a,Math.floor(i+(s-l)*c/s+d)),o)}var h=n[i],f=r,p=a;for(t(n,r,i),o(n[a],h)>0&&t(n,r,a);f<p;){for(t(n,f,p),f++,p--;o(n[f],h)<0;)f++;for(;o(n[p],h)>0;)p--}0===o(n[r],h)?t(n,r,p):t(n,++p,a),p<=i&&(r=p+1),i<=p&&(a=p-1)}}(e,i,r||0,a||e.length-1,o||n)}function t(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function n(e,t){return e<t?-1:e>t?1:0}var i=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(e,t,n){if(!n)return t.indexOf(e);for(var i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function a(e,t){o(e,0,e.children.length,t,e)}function o(e,t,n,i,r){r||(r=p(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var a=t;a<n;a++){var o=e.children[a];s(r,e.leaf?i(o):o)}return r}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function f(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,n,i,r,a){for(var o=[n,i];o.length;)if(!((i=o.pop())-(n=o.pop())<=r)){var s=n+Math.ceil((i-n)/r/2)*r;e(t,s,n,i,a),o.push(n,s,s,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(e){var t=this.data,n=[];if(!f(e,t))return n;for(var i=this.toBBox,r=[];t;){for(var a=0;a<t.children.length;a++){var o=t.children[a],s=t.leaf?i(o):o;f(e,s)&&(t.leaf?n.push(o):h(e,s)?this._all(o,n):r.push(o))}t=r.pop()}return n},i.prototype.collides=function(e){var t=this.data;if(!f(e,t))return!1;for(var n=[];t;){for(var i=0;i<t.children.length;i++){var r=t.children[i],a=t.leaf?this.toBBox(r):r;if(f(e,a)){if(t.leaf||h(e,a))return!0;n.push(r)}}t=n.pop()}return!1},i.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},i.prototype.clear=function(){return this.data=p([]),this},i.prototype.remove=function(e,t){if(!e)return this;for(var n,i,a,o=this.data,s=this.toBBox(e),l=[],u=[];o||l.length;){if(o||(o=l.pop(),i=l[l.length-1],n=u.pop(),a=!0),o.leaf){var c=r(e,o.children,t);if(-1!==c)return o.children.splice(c,1),l.push(o),this._condense(l),this}a||o.leaf||!h(o,s)?i?(n++,o=i.children[n],a=!1):o=null:(l.push(o),u.push(n),n=0,i=o,o=o.children[0])}return this},i.prototype.toBBox=function(e){return e},i.prototype.compareMinX=function(e,t){return e.minX-t.minX},i.prototype.compareMinY=function(e,t){return e.minY-t.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(e){return this.data=e,this},i.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},i.prototype._build=function(e,t,n,i){var r,o=n-t+1,s=this._maxEntries;if(o<=s)return a(r=p(e.slice(t,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),(r=p([])).leaf=!1,r.height=i;var l=Math.ceil(o/s),u=l*Math.ceil(Math.sqrt(s));v(e,t,n,u,this.compareMinX);for(var c=t;c<=n;c+=u){var d=Math.min(c+u-1,n);v(e,c,d,l,this.compareMinY);for(var h=c;h<=d;h+=l){var f=Math.min(h+l-1,d);r.children.push(this._build(e,h,f,i-1))}}return a(r,this.toBBox),r},i.prototype._chooseSubtree=function(e,t,n,i){for(;i.push(t),!t.leaf&&i.length-1!==n;){for(var r=1/0,a=1/0,o=void 0,s=0;s<t.children.length;s++){var l=t.children[s],u=c(l),d=(h=e,f=l,(Math.max(f.maxX,h.maxX)-Math.min(f.minX,h.minX))*(Math.max(f.maxY,h.maxY)-Math.min(f.minY,h.minY))-u);d<a?(a=d,r=u<r?u:r,o=l):d===a&&u<r&&(r=u,o=l)}t=o||t.children[0]}var h,f;return t},i.prototype._insert=function(e,t,n){var i=n?e:this.toBBox(e),r=[],a=this._chooseSubtree(i,this.data,t,r);for(a.children.push(e),s(a,i);t>=0&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(i,r,t)},i.prototype._split=function(e,t){var n=e[t],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),s=p(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(e,t,n){for(var i,r,a,s,l,u,d,h=1/0,f=1/0,p=t;p<=n-t;p++){var v=o(e,0,p,this.toBBox),g=o(e,p,n,this.toBBox),m=(r=v,a=g,s=void 0,l=void 0,u=void 0,d=void 0,s=Math.max(r.minX,a.minX),l=Math.max(r.minY,a.minY),u=Math.min(r.maxX,a.maxX),d=Math.min(r.maxY,a.maxY),Math.max(0,u-s)*Math.max(0,d-l)),y=c(v)+c(g);m<h?(h=m,i=p,f=y<f?y:f):m===h&&y<f&&(f=y,i=p)}return i||n-t},i.prototype._chooseSplitAxis=function(e,t,n){var i=e.leaf?this.compareMinX:l,r=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,r)&&e.children.sort(i)},i.prototype._allDistMargin=function(e,t,n,i){e.children.sort(i);for(var r=this.toBBox,a=o(e,0,t,r),l=o(e,n-t,n,r),u=d(a)+d(l),c=t;c<n-t;c++){var h=e.children[c];s(a,e.leaf?r(h):h),u+=d(a)}for(var f=n-t-1;f>=t;f--){var p=e.children[f];s(l,e.leaf?r(p):p),u+=d(l)}return u},i.prototype._adjustParentBBoxes=function(e,t,n){for(var i=n;i>=0;i--)s(t[i],e)},i.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():a(e[t],this.toBBox)},i}()},463:function(e,t,n){"use strict";var i=n(791),r=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(e,t,n,i,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var O,F=Object.assign;function H(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var j=!1;function z(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),a=i.stack.split("\n"),o=r.length-1,s=a.length-1;1<=o&&0<=s&&r[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(r[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||r[o]!==a[s]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?H(e):""}function B(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case S:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Y(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){K(e,t);var n=G(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),i=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ve(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Ce=null;function Se(e){if(e=br(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=xr(t),we(e.stateNode,e.type,t))}}function Ee(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function Te(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Re(e,t){return e(t)}function Me(){}var Ie=!1;function De(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Re(e,t,n)}finally{Ie=!1,(null!==ke||null!==Ce)&&(Me(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var i=xr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Ae=!1}function Le(e,t,n,i,r,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Oe=!1,Fe=null,He=!1,je=null,ze={onError:function(e){Oe=!0,Fe=e}};function Be(e,t,n,i,r,a,o,s,l){Oe=!1,Fe=null,Le.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ue(e)!==e)throw Error(a(188))}function Ye(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Ge(r),e;if(o===i)return Ge(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ze=r.unstable_scheduleCallback,qe=r.unstable_cancelCallback,Je=r.unstable_shouldYield,Xe=r.unstable_requestPaint,Ke=r.unstable_now,Qe=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~r;0!==s?i=dt(s):0!==(a&=o)&&(i=dt(a))}else 0!==(o=n&~r)?i=dt(o):0!==a&&(i=dt(a));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-ot(t)),i|=e[n],t&=~r;return i}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ot(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,kt,Ct,St,Et=!1,Tt=[],Rt=null,Mt=null,It=null,Dt=new Map,Pt=new Map,At=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ot(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&wt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ft(e){var t=yr(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ht(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&wt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);_e=i,n.target.dispatchEvent(i),_e=null,t.shift()}return!0}function jt(e,t,n){Ht(e)&&n.delete(t)}function zt(){Et=!1,null!==Rt&&Ht(Rt)&&(Rt=null),null!==Mt&&Ht(Mt)&&(Mt=null),null!==It&&Ht(It)&&(It=null),Dt.forEach(jt),Pt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var i=Tt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Rt&&Bt(Rt,e),null!==Mt&&Bt(Mt,e),null!==It&&Bt(It,e),Dt.forEach(t),Pt.forEach(t),n=0;n<At.length;n++)(i=At[n]).blockedOn===e&&(i.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Ft(n),null===n.blockedOn&&At.shift()}var Wt=_.ReactCurrentBatchConfig,Gt=!0;function Yt(e,t,n,i){var r=bt,a=Wt.transition;Wt.transition=null;try{bt=1,Zt(e,t,n,i)}finally{bt=r,Wt.transition=a}}function Vt(e,t,n,i){var r=bt,a=Wt.transition;Wt.transition=null;try{bt=4,Zt(e,t,n,i)}finally{bt=r,Wt.transition=a}}function Zt(e,t,n,i){if(Gt){var r=Jt(e,t,n,i);if(null===r)Gi(e,t,i,qt,n),Lt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Rt=Ot(Rt,e,t,n,i,r),!0;case"dragenter":return Mt=Ot(Mt,e,t,n,i,r),!0;case"mouseover":return It=Ot(It,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Dt.set(a,Ot(Dt.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Pt.set(a,Ot(Pt.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Lt(e,i),4&t&&-1<Nt.indexOf(e)){for(;null!==r;){var a=br(r);if(null!==a&&xt(a),null===(a=Jt(e,t,n,i))&&Gi(e,t,i,qt,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else Gi(e,t,i,null,n)}}var qt=null;function Jt(e,t,n,i){if(qt=null,null!==(e=yr(e=xe(i))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Kt=null,Qt=null,$t=null;function en(){if($t)return $t;var e,t,n=Qt,i=n.length,r="value"in Kt?Kt.value:Kt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,i,r,a){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=F({},un,{view:0,detail:0}),hn=an(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),vn=an(F({},fn,{dataTransfer:0})),gn=an(F({},dn,{relatedTarget:0})),mn=an(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),_n=an(F({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return Cn}var En=F({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Rn=an(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=an(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),In=an(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Dn),An=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var On=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Nn||Ln&&8<Ln&&11>=Ln),Hn=String.fromCharCode(32),jn=!1;function zn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Yn(e,t,n,i){Ee(i),0<(t=Vi(t,"onChange")).length&&(n=new cn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Vn=null,Zn=null;function qn(e){Hi(e,0)}function Jn(e){if(Z(_r(e)))return e}function Xn(e,t){if("change"===e)return t}var Kn=!1;if(c){var Qn;if(c){var $n="oninput"in document;if(!$n){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),$n="function"===typeof ei.oninput}Qn=$n}else Qn=!1;Kn=Qn&&(!document.documentMode||9<document.documentMode)}function ti(){Vn&&(Vn.detachEvent("onpropertychange",ni),Zn=Vn=null)}function ni(e){if("value"===e.propertyName&&Jn(Zn)){var t=[];Yn(t,Zn,e,xe(e)),De(qn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Zn=n,(Vn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Zn)}function ai(e,t){if("click"===e)return Jn(t)}function oi(e,t){if("input"===e||"change"===e)return Jn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ci(e,t){var n,i=ui(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ui(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=void 0===i.end?a:Math.min(i.end,r),!e.extend&&a>i&&(r=i,i=a,a=r),r=ci(n,a);var o=ci(n,i);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vi=c&&"documentMode"in document&&11>=document.documentMode,gi=null,mi=null,yi=null,bi=!1;function _i(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==gi||gi!==q(i)||("selectionStart"in(i=gi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Vi(mi,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},ki={},Ci={};function Si(e){if(ki[e])return ki[e];if(!wi[e])return e;var t,n=wi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ci)return ki[e]=n[t];return e}c&&(Ci=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Ei=Si("animationend"),Ti=Si("animationiteration"),Ri=Si("animationstart"),Mi=Si("transitionend"),Ii=new Map,Di="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(e,t){Ii.set(e,t),l(t,[e])}for(var Ai=0;Ai<Di.length;Ai++){var Ni=Di[Ai];Pi(Ni.toLowerCase(),"on"+(Ni[0].toUpperCase()+Ni.slice(1)))}Pi(Ei,"onAnimationEnd"),Pi(Ti,"onAnimationIteration"),Pi(Ri,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Mi,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function Fi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,s,l,u){if(Be.apply(this,arguments),Oe){if(!Oe)throw Error(a(198));var c=Fe;Oe=!1,Fe=null,He||(He=!0,je=c)}}(i,t,void 0,e),e.currentTarget=null}function Hi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&r.isPropagationStopped())break e;Fi(r,s,u),a=l}else for(o=0;o<i.length;o++){if(l=(s=i[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&r.isPropagationStopped())break e;Fi(r,s,u),a=l}}}if(He)throw e=je,He=!1,je=null,e}function ji(e,t){var n=t[vr];void 0===n&&(n=t[vr]=new Set);var i=e+"__bubble";n.has(i)||(Wi(t,e,2,!1),n.add(i))}function zi(e,t,n){var i=0;t&&(i|=4),Wi(n,e,i,t)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[Bi]){e[Bi]=!0,o.forEach((function(t){"selectionchange"!==t&&(Oi.has(t)||zi(t,!1,e),zi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bi]||(t[Bi]=!0,zi("selectionchange",!1,t))}}function Wi(e,t,n,i){switch(Xt(t)){case 1:var r=Yt;break;case 4:r=Vt;break;default:r=Zt}n=r.bind(null,t,n,e),r=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Gi(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==s;){if(null===(o=yr(s)))return;if(5===(l=o.tag)||6===l){i=a=o;continue e}s=s.parentNode}}i=i.return}De((function(){var i=a,r=xe(n),o=[];e:{var s=Ii.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Ei:case Ti:case Ri:l=mn;break;case Mi:l=In;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=i;null!==p;){var v=(f=p).stateNode;if(5===f.tag&&null!==v&&(f=v,null!==h&&(null!=(v=Pe(p,h))&&c.push(Yi(p,v,f)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,r),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(u=n.relatedTarget||n.fromElement)||!yr(u)&&!u[pr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?yr(u):null)&&(u!==(d=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:_r(l),f=null==u?s:_r(u),(s=new c(v,p+"leave",l,n,r)).target=d,s.relatedTarget=f,v=null,yr(r)===i&&((c=new c(h,p+"enter",u,n,r)).target=f,c.relatedTarget=d,v=c),d=v,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Zi(f))p++;for(f=0,v=h;v;v=Zi(v))f++;for(;0<p-f;)c=Zi(c),p--;for(;0<f-p;)h=Zi(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Zi(c),h=Zi(h)}c=null}else c=null;null!==l&&qi(o,s,l,c,!1),null!==u&&null!==d&&qi(o,d,u,c,!0)}if("select"===(l=(s=i?_r(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Gn(s))if(Kn)g=oi;else{g=ri;var m=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ai);switch(g&&(g=g(e,i))?Yn(o,g,n,r):(m&&m(e,s,i),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=i?_r(i):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(gi=m,mi=i,yi=null);break;case"focusout":yi=mi=gi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,_i(o,n,r);break;case"selectionchange":if(vi)break;case"keydown":case"keyup":_i(o,n,r)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Qt="value"in(Kt=r)?Kt.value:Kt.textContent,Un=!0)),0<(m=Vi(i,b)).length&&(b=new _n(b,e,null,n,r),o.push({event:b,listeners:m}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Hn);case"textInput":return(e=t.data)===Hn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Nn&&zn(e,t)?(e=en(),$t=Qt=Kt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Vi(i,"onBeforeInput")).length&&(r=new _n("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}Hi(o,t)}))}function Yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Pe(e,n))&&i.unshift(Yi(e,a,r)),null!=(a=Pe(e,t))&&i.push(Yi(e,a,r))),e=e.return}return i}function Zi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qi(e,t,n,i,r){for(var a=t._reactName,o=[];null!==n&&n!==i;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==u&&(s=u,r?null!=(l=Pe(n,a))&&o.unshift(Yi(n,l,s)):r||null!=(l=Pe(n,a))&&o.push(Yi(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Ji=/\r\n?/g,Xi=/\u0000|\uFFFD/g;function Ki(e){return("string"===typeof e?e:""+e).replace(Ji,"\n").replace(Xi,"")}function Qi(e,t,n){if(t=Ki(t),Ki(e)!==t&&n)throw Error(a(425))}function $i(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ar="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ar?function(e){return ar.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Ut(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Ut(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,fr="__reactProps$"+dr,pr="__reactContainer$"+dr,vr="__reactEvents$"+dr,gr="__reactListeners$"+dr,mr="__reactHandles$"+dr;function yr(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cr(e);null!==e;){if(n=e[hr])return n;e=cr(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[hr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _r(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xr(e){return e[fr]||null}var wr=[],kr=-1;function Cr(e){return{current:e}}function Sr(e){0>kr||(e.current=wr[kr],wr[kr]=null,kr--)}function Er(e,t){kr++,wr[kr]=e.current,e.current=t}var Tr={},Rr=Cr(Tr),Mr=Cr(!1),Ir=Tr;function Dr(e,t){var n=e.type.contextTypes;if(!n)return Tr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ar(){Sr(Mr),Sr(Rr)}function Nr(e,t,n){if(Rr.current!==Tr)throw Error(a(168));Er(Rr,t),Er(Mr,n)}function Lr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(a(108,W(e)||"Unknown",r));return F({},n,i)}function Or(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,Ir=Rr.current,Er(Rr,e),Er(Mr,Mr.current),!0}function Fr(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=Lr(e,t,Ir),i.__reactInternalMemoizedMergedChildContext=e,Sr(Mr),Sr(Rr),Er(Rr,e)):Sr(Mr),Er(Mr,n)}var Hr=null,jr=!1,zr=!1;function Br(e){null===Hr?Hr=[e]:Hr.push(e)}function Ur(){if(!zr&&null!==Hr){zr=!0;var e=0,t=bt;try{var n=Hr;for(bt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Hr=null,jr=!1}catch(r){throw null!==Hr&&(Hr=Hr.slice(e+1)),Ze($e,Ur),r}finally{bt=t,zr=!1}}return null}var Wr=[],Gr=0,Yr=null,Vr=0,Zr=[],qr=0,Jr=null,Xr=1,Kr="";function Qr(e,t){Wr[Gr++]=Vr,Wr[Gr++]=Yr,Yr=e,Vr=t}function $r(e,t,n){Zr[qr++]=Xr,Zr[qr++]=Kr,Zr[qr++]=Jr,Jr=e;var i=Xr;e=Kr;var r=32-ot(i)-1;i&=~(1<<r),n+=1;var a=32-ot(t)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Xr=1<<32-ot(t)+r|n<<r|i,Kr=a+e}else Xr=1<<a|n<<r|i,Kr=e}function ea(e){null!==e.return&&(Qr(e,1),$r(e,1,0))}function ta(e){for(;e===Yr;)Yr=Wr[--Gr],Wr[Gr]=null,Vr=Wr[--Gr],Wr[Gr]=null;for(;e===Jr;)Jr=Zr[--qr],Zr[qr]=null,Kr=Zr[--qr],Zr[qr]=null,Xr=Zr[--qr],Zr[qr]=null}var na=null,ia=null,ra=!1,aa=null;function oa(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ia=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jr?{id:Xr,overflow:Kr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ia=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ra){var t=ia;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ur(n.nextSibling);var i=na;t&&sa(e,t)?oa(i,n):(e.flags=-4097&e.flags|2,ra=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ra=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ra)return ca(e),ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ur(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=na?ur(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ia;e;)e=ur(e.nextSibling)}function fa(){ia=na=null,ra=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=_.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Cr(null),ya=null,ba=null,_a=null;function xa(){_a=ba=ya=null}function wa(e){var t=ma.current;Sr(ma),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ya=e,_a=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ra(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Ta(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ma(e,i)}function Ma(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Ml)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Ma(e,n)}return null===(r=i.interleaved)?(t.next=t,Ta(i)):(t.next=r.next,r.next=t),i.interleaved=t,Ma(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Oa(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,i){var r=e.updateQueue;Ia=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=r.baseState;for(o=0,c=u=l=null,s=a;;){var h=s.lane,f=s.eventTime;if((i&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,f=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Ia=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,o|=h;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(h=s).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===c&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=d}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var ja=(new i.Component).refs;function za(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tu(),r=nu(e),a=Aa(i,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,r))&&(iu(t,e,r,i),La(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tu(),r=nu(e),a=Aa(i,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,r))&&(iu(t,e,r,i),La(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),i=nu(e),r=Aa(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Na(e,r,i))&&(iu(t,e,i,n),La(t,e,i))}};function Ua(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,a))}function Wa(e,t,n){var i=!1,r=Tr,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(r=Pr(t)?Ir:Rr.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?Dr(e,r):Tr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ya(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=ja,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=Sa(a):(a=Pr(t)?Ir:Rr.current,r.context=Dr(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Ba.enqueueReplaceState(r,r.state,null),Fa(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===ja&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Za(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Nu(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Hu(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){var a=n.type;return a===k?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&qa(a)===t.type)?((i=r(t,n.props)).ref=Va(e,t,n),i.return=e,i):((i=Lu(n.type,n.key,n.props,null,e.mode,i)).ref=Va(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ju(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,a){return null===t||7!==t.tag?((t=Ou(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Hu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=Va(e,null,t),n.return=e,n;case w:return(t=ju(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ou(t,e.mode,n,null)).return=e,t;Za(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?u(e,t,n,i):null;case w:return n.key===r?c(e,t,n,i):null;case P:return f(e,t,(r=n._init)(n._payload),i)}if(te(n)||L(n))return null!==r?null:d(e,t,n,i,null);Za(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case P:return p(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||L(i))return d(t,e=e.get(n)||null,i,r,null);Za(t,i)}return null}function v(r,a,s,l){for(var u=null,c=null,d=a,v=a=0,g=null;null!==d&&v<s.length;v++){d.index>v?(g=d,d=null):g=d.sibling;var m=f(r,d,s[v],l);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(r,d),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m,d=g}if(v===s.length)return n(r,d),ra&&Qr(r,v),u;if(null===d){for(;v<s.length;v++)null!==(d=h(r,s[v],l))&&(a=o(d,a,v),null===c?u=d:c.sibling=d,c=d);return ra&&Qr(r,v),u}for(d=i(r,d);v<s.length;v++)null!==(g=p(d,r,v,s[v],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?v:g.key),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(r,e)})),ra&&Qr(r,v),u}function g(r,s,l,u){var c=L(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,v=s,g=s=0,m=null,y=l.next();null!==v&&!y.done;g++,y=l.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=f(r,v,y.value,u);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(r,v),s=o(b,s,g),null===d?c=b:d.sibling=b,d=b,v=m}if(y.done)return n(r,v),ra&&Qr(r,g),c;if(null===v){for(;!y.done;g++,y=l.next())null!==(y=h(r,y.value,u))&&(s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return ra&&Qr(r,g),c}for(v=i(r,v);!y.done;g++,y=l.next())null!==(y=p(v,r,g,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(r,e)})),ra&&Qr(r,g),c}return function e(i,a,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===k){if(7===c.tag){n(i,c.sibling),(a=r(c,o.props.children)).return=i,i=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&qa(u)===c.type){n(i,c.sibling),(a=r(c,o.props)).ref=Va(i,c,o),a.return=i,i=a;break e}n(i,c);break}t(i,c),c=c.sibling}o.type===k?((a=Ou(o.props.children,i.mode,l,o.key)).return=i,i=a):((l=Lu(o.type,o.key,o.props,null,i.mode,l)).ref=Va(i,a,o),l.return=i,i=l)}return s(i);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(i,a.sibling),(a=r(a,o.children||[])).return=i,i=a;break e}n(i,a);break}t(i,a),a=a.sibling}(a=ju(o,i.mode,l)).return=i,i=a}return s(i);case P:return e(i,a,(c=o._init)(o._payload),l)}if(te(o))return v(i,a,o,l);if(L(o))return g(i,a,o,l);Za(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(i,a.sibling),(a=r(a,o)).return=i,i=a):(n(i,a),(a=Hu(o,i.mode,l)).return=i,i=a),s(i)):n(i,a)}}var Xa=Ja(!0),Ka=Ja(!1),Qa={},$a=Cr(Qa),eo=Cr(Qa),to=Cr(Qa);function no(e){if(e===Qa)throw Error(a(174));return e}function io(e,t){switch(Er(to,t),Er(eo,e),Er($a,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr($a),Er($a,t)}function ro(){Sr($a),Sr(eo),Sr(to)}function ao(e){no(to.current);var t=no($a.current),n=le(t,e.type);t!==n&&(Er(eo,e),Er($a,n))}function oo(e){eo.current===e&&(Sr($a),Sr(eo))}var so=Cr(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var ho=_.ReactCurrentDispatcher,fo=_.ReactCurrentBatchConfig,po=0,vo=null,go=null,mo=null,yo=!1,bo=!1,_o=0,xo=0;function wo(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function Co(e,t,n,i,r,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:ls,e=n(i,r),bo){o=0;do{if(bo=!1,_o=0,25<=o)throw Error(a(301));o+=1,mo=go=null,t.updateQueue=null,ho.current=us,e=n(i,r)}while(bo)}if(ho.current=os,t=null!==go&&null!==go.next,po=0,mo=go=vo=null,yo=!1,t)throw Error(a(300));return e}function So(){var e=0!==_o;return _o=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===go){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Ro(e,t){return"function"===typeof t?t(e):t}function Mo(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=go,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((po&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=i):u=u.next=h,vo.lanes|=d,Fl|=d}c=c.next}while(null!==c&&c!==o);null===u?s=i:u.next=l,si(i,t.memoizedState)||(_s=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,vo.lanes|=o,Fl|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);si(o,t.memoizedState)||(_s=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Do(){}function Po(e,t){var n=vo,i=To(),r=t(),o=!si(i.memoizedState,r);if(o&&(i.memoizedState=r,_s=!0),i=i.queue,Go(Lo.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,jo(9,No.bind(null,n,i,r,t),void 0,null),null===Il)throw Error(a(349));0!==(30&po)||Ao(n,t,r)}return r}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,i){t.value=n,t.getSnapshot=i,Oo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Oo(t)&&Fo(e)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function Fo(e){var t=Ma(e,1);null!==t&&iu(t,e,1,-1)}function Ho(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function zo(){return To().memoizedState}function Bo(e,t,n,i){var r=Eo();vo.flags|=e,r.memoizedState=jo(1|t,n,void 0,void 0===i?null:i)}function Uo(e,t,n,i){var r=To();i=void 0===i?null:i;var a=void 0;if(null!==go){var o=go.memoizedState;if(a=o.destroy,null!==i&&ko(i,o.deps))return void(r.memoizedState=jo(t,n,a,i))}vo.flags|=e,r.memoizedState=jo(1|t,n,a,i)}function Wo(e,t){return Bo(8390656,8,e,t)}function Go(e,t){return Uo(2048,8,e,t)}function Yo(e,t){return Uo(4,2,e,t)}function Vo(e,t){return Uo(4,4,e,t)}function Zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,Zo.bind(null,t,e),n)}function Jo(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ko(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=To();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ko(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(si(n,t)||(n=vt(),vo.lanes|=n,Fl|=n,e.baseState=!0),t)}function $o(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var i=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=n,fo.transition=i}}function es(){return To().memoizedState}function ts(e,t,n){var i=nu(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},is(e))rs(t,n);else if(null!==(n=Ra(e,t,n,i))){iu(n,e,i,tu()),as(n,t,i)}}function ns(e,t,n){var i=nu(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(is(e))rs(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,o)){var l=t.interleaved;return null===l?(r.next=r,Ta(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(u){}null!==(n=Ra(e,t,r,i))&&(iu(n,e,i,r=tu()),as(n,t,i))}}function is(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function rs(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Sa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Eo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=ts.bind(null,vo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Ho,useDebugValue:Jo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Ho(!1),t=e[0];return e=$o.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=vo,r=Eo();if(ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Il)throw Error(a(349));0!==(30&po)||Ao(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Wo(Lo.bind(null,i,o,e),[e]),i.flags|=2048,jo(9,No.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Il.identifierPrefix;if(ra){var n=Kr;t=":"+t+"R"+(n=(Xr&~(1<<32-ot(Xr)-1)).toString(32)+n),0<(n=_o++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Go,useImperativeHandle:qo,useInsertionEffect:Yo,useLayoutEffect:Vo,useMemo:Ko,useReducer:Mo,useRef:zo,useState:function(){return Mo(Ro)},useDebugValue:Jo,useDeferredValue:function(e){return Qo(To(),go.memoizedState,e)},useTransition:function(){return[Mo(Ro)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Go,useImperativeHandle:qo,useInsertionEffect:Yo,useLayoutEffect:Vo,useMemo:Ko,useReducer:Io,useRef:zo,useState:function(){return Io(Ro)},useDebugValue:Jo,useDeferredValue:function(e){var t=To();return null===go?t.memoizedState=e:Qo(t,go.memoizedState,e)},useTransition:function(){return[Io(Ro)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",i=t;do{n+=B(i),i=i.return}while(i);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Aa(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Yl||(Yl=!0,Vl=i),hs(0,t)},n}function vs(e,t,n){(n=Aa(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof i&&(null===Zl?Zl=new Set([this]):Zl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new fs;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Aa(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var bs=_.ReactCurrentOwner,_s=!1;function xs(e,t,n,i){t.child=null===e?Ka(t,null,n,i):Xa(t,e.child,n,i)}function ws(e,t,n,i,r){n=n.render;var a=t.ref;return Ca(t,r),i=Co(e,t,n,i,a,r),n=So(),null===e||_s?(ra&&n&&ea(t),t.flags|=1,xs(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ys(e,t,r))}function ks(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||Au(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,i,r))}if(a=e.child,0===(e.lanes&r)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&e.ref===t.ref)return Ys(e,t,r)}return t.flags|=1,(e=Nu(a,i)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(li(a,i)&&e.ref===t.ref){if(_s=!1,t.pendingProps=i=a,0===(e.lanes&r))return t.lanes=e.lanes,Ys(e,t,r);0!==(131072&e.flags)&&(_s=!0)}}return Ts(e,t,n,i,r)}function Ss(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(Nl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Er(Nl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:n,Er(Nl,Al),Al|=i}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,Er(Nl,Al),Al|=i;return xs(e,t,r,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,i,r){var a=Pr(n)?Ir:Rr.current;return a=Dr(t,a),Ca(t,r),n=Co(e,t,n,i,a,r),i=So(),null===e||_s?(ra&&i&&ea(t),t.flags|=1,xs(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ys(e,t,r))}function Rs(e,t,n,i,r){if(Pr(n)){var a=!0;Or(t)}else a=!1;if(Ca(t,r),null===t.stateNode)Gs(e,t),Wa(t,n,i),Ya(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Sa(u):u=Dr(t,u=Pr(n)?Ir:Rr.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==i||l!==u)&&Ga(t,o,i,u),Ia=!1;var h=t.memoizedState;o.state=h,Fa(t,i,o,r),l=t.memoizedState,s!==i||h!==l||Mr.current||Ia?("function"===typeof c&&(za(t,n,c,i),l=t.memoizedState),(s=Ia||Ua(t,n,s,i,h,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=u,i=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Pa(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ga(t.type,s),o.props=u,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Sa(l):l=Dr(t,l=Pr(n)?Ir:Rr.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&Ga(t,o,i,l),Ia=!1,h=t.memoizedState,o.state=h,Fa(t,i,o,r);var p=t.memoizedState;s!==d||h!==p||Mr.current||Ia?("function"===typeof f&&(za(t,n,f,i),p=t.memoizedState),(u=Ia||Ua(t,n,u,i,h,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Ms(e,t,n,i,a,r)}function Ms(e,t,n,i,r,a){Es(e,t);var o=0!==(128&t.flags);if(!i&&!o)return r&&Fr(t,n,!1),Ys(e,t,a);i=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):xs(e,t,s,a),t.memoizedState=i.state,r&&Fr(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Nr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nr(0,t.context,!1),io(e,t.containerInfo)}function Ds(e,t,n,i,r){return fa(),pa(r),t.flags|=256,xs(e,t,n,i),t.child}var Ps,As,Ns,Ls,Os={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hs(e,t,n){var i,r=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Er(so,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fu(l,r,0,null),e=Ou(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Os,e):js(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,r,o,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,i=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=Fu({mode:"visible",children:i.children},r,0,null),(o=Ou(o,r,s,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Os,o);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,zs(e,t,s,i=ds(o=Error(a(419)),i,void 0))}if(l=0!==(s&e.childLanes),_s||l){if(null!==(i=Il)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|s))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Ma(e,r),iu(i,e,r,-1))}return gu(),zs(e,t,s,i=ds(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ru.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,ia=ur(r.nextSibling),na=t,ra=!0,aa=null,null!==e&&(Zr[qr++]=Xr,Zr[qr++]=Kr,Zr[qr++]=Jr,Xr=e.id,Kr=e.overflow,Jr=t),t=js(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,o,n);if(s){s=r.fallback,l=t.mode,i=(o=e.child).sibling;var u={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=u,t.deletions=null):(r=Nu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==i?s=Nu(i,s):(s=Ou(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Os,r}return e=(s=e.child).sibling,r=Nu(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function js(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,i){return null!==i&&pa(i),Xa(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),ka(e.return,t,n)}function Us(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Ws(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(xs(e,t,i.children,n),0!==(2&(i=so.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Er(so,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Us(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===lo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Us(t,!0,n,null,a);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ys(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Nu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Zs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function qs(e,t,n){var i=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(t),null;case 1:case 17:return Pr(t.type)&&Ar(),Zs(t),null;case 3:return i=t.stateNode,ro(),Sr(Mr),Sr(Rr),co(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(su(aa),aa=null))),As(e,t),Zs(t),null;case 5:oo(t);var r=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(a(166));return Zs(t),null}if(e=no($a.current),da(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[hr]=t,i[fr]=o,e=0!==(1&t.mode),n){case"dialog":ji("cancel",i),ji("close",i);break;case"iframe":case"object":case"embed":ji("load",i);break;case"video":case"audio":for(r=0;r<Li.length;r++)ji(Li[r],i);break;case"source":ji("error",i);break;case"img":case"image":case"link":ji("error",i),ji("load",i);break;case"details":ji("toggle",i);break;case"input":X(i,o),ji("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},ji("invalid",i);break;case"textarea":re(i,o),ji("invalid",i)}for(var l in ye(n,o),r=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?i.textContent!==u&&(!0!==o.suppressHydrationWarning&&Qi(i.textContent,u,e),r=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Qi(i.textContent,u,e),r=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&ji("scroll",i)}switch(n){case"input":V(i),$(i,o,!0);break;case"textarea":V(i),oe(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=$i)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[hr]=t,e[fr]=i,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,i),n){case"dialog":ji("cancel",e),ji("close",e),r=i;break;case"iframe":case"object":case"embed":ji("load",e),r=i;break;case"video":case"audio":for(r=0;r<Li.length;r++)ji(Li[r],e);r=i;break;case"source":ji("error",e),r=i;break;case"img":case"image":case"link":ji("error",e),ji("load",e),r=i;break;case"details":ji("toggle",e),r=i;break;case"input":X(e,i),r=J(e,i),ji("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=F({},i,{value:void 0}),ji("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),ji("invalid",e)}for(o in ye(n,r),u=r)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&ji("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":V(e),$(e,i,!1);break;case"textarea":V(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+G(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?ne(e,!!i.multiple,o,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Zs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),da(t)){if(i=t.stateNode,n=t.memoizedProps,i[hr]=t,(o=i.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Qi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qi(i.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hr]=t,t.stateNode=i}return Zs(t),null;case 13:if(Sr(so),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ra&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,o=!1;else if(o=da(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hr]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Zs(t),o=!1}else null!==aa&&(su(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ll&&(Ll=3):gu())),null!==t.updateQueue&&(t.flags|=4),Zs(t),null);case 4:return ro(),As(e,t),null===e&&Ui(t.stateNode.containerInfo),Zs(t),null;case 10:return wa(t.type._context),Zs(t),null;case 19:if(Sr(so),null===(o=t.memoizedState))return Zs(t),null;if(i=0!==(128&t.flags),null===(l=o.rendering))if(i)Vs(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Vs(o,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Er(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ke()>Wl&&(t.flags|=128,i=!0,Vs(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=lo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ra)return Zs(t),null}else 2*Ke()-o.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,i=!0,Vs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ke(),t.sibling=null,n=so.current,Er(so,i?1&n|2:1&n),t):(Zs(t),null);case 22:case 23:return hu(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Zs(t),6&t.subtreeFlags&&(t.flags|=8192)):Zs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Js(e,t){switch(ta(t),t.tag){case 1:return Pr(t.type)&&Ar(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ro(),Sr(Mr),Sr(Rr),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Sr(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(so),null;case 4:return ro(),null;case 10:return wa(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},Ns=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":r=J(e,r),i=J(e,i),o=[];break;case"select":r=F({},r,{value:void 0}),i=F({},i,{value:void 0}),o=[];break;case"textarea":r=ie(e,r),i=ie(e,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=$i)}for(c in ye(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var u=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&ji("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,i){n!==i&&(t.flags|=4)};var Xs=!1,Ks=!1,Qs="function"===typeof WeakSet?WeakSet:Set,$s=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Su(e,t,i)}else n.current=null}function tl(e,t,n){try{n()}catch(i){Su(e,t,i)}}var nl=!1;function il(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&tl(t,n,a)}r=r.next}while(r!==i)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[fr],delete t[vr],delete t[gr],delete t[mr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$i));else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Ks||el(n,t);case 6:var i=dl,r=hl;dl=null,fl(e,t,n),hl=r,null!==(dl=i)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Ut(e)):lr(dl,n.stateNode));break;case 4:i=dl,r=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=i,hl=r;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var a=r,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tl(n,t,o),r=r.next}while(r!==i)}fl(e,t,n);break;case 1:if(!Ks&&(el(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){Su(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ks=(i=Ks)||null!==n.memoizedState,fl(e,t,n),Ks=i):fl(e,t,n);break;default:fl(e,t,n)}}function vl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var i=Mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(a(160));pl(o,s,r),dl=null,hl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){Su(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&i){try{il(3,e,e.return),rl(3,e)}catch(g){Su(e,e.return,g)}try{il(5,e,e.return)}catch(g){Su(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&i&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&i&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(g){Su(e,e.return,g)}}if(4&i&&null!=(r=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&K(r,o),be(l,s);var c=be(l,o);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];"style"===d?ge(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):b(r,d,h,c)}switch(l){case"input":Q(r,o);break;case"textarea":ae(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(r,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(r,!!o.multiple,o.defaultValue,!0):ne(r,!!o.multiple,o.multiple?[]:"",!1))}r[fr]=o}catch(g){Su(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&i){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(g){Su(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Su(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Ul=Ke())),4&i&&vl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(c=Ks)||d,gl(t,e),Ks=c):gl(t,e),yl(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for($s=e,d=e.child;null!==d;){for(h=$s=d;null!==$s;){switch(p=(f=$s).child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:el(f,f.return);var v=f.stateNode;if("function"===typeof v.componentWillUnmount){i=f,n=f.return;try{t=i,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Su(i,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,$s=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,c?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ve("display",s))}catch(g){Su(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Su(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&i&&vl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var i=n;break e}n=n.return}throw Error(a(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(he(r,""),i.flags&=-33),cl(e,ll(e),r);break;case 3:case 4:var o=i.stateNode.containerInfo;ul(e,ll(e),o);break;default:throw Error(a(161))}}catch(s){Su(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){$s=e,_l(e,t,n)}function _l(e,t,n){for(var i=0!==(1&e.mode);null!==$s;){var r=$s,a=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Xs;if(!o){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Xs;var u=Ks;if(Xs=o,(Ks=l)&&!u)for($s=r;null!==$s;)l=(o=$s).child,22===o.tag&&null!==o.memoizedState?kl(r):null!==l?(l.return=o,$s=l):kl(r);for(;null!==a;)$s=a,_l(a,t,n),a=a.sibling;$s=r,Xs=s,Ks=u}xl(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,$s=a):xl(e)}}function xl(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||rl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ks)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ha(t,o,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(a(163))}Ks||512&t.flags&&al(t)}catch(f){Su(t,t.return,f)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function wl(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function kl(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Su(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Su(t,r,l)}}var a=t.return;try{al(t)}catch(l){Su(t,a,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Su(t,o,l)}}}catch(l){Su(t,t.return,l)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Cl,Sl=Math.ceil,El=_.ReactCurrentDispatcher,Tl=_.ReactCurrentOwner,Rl=_.ReactCurrentBatchConfig,Ml=0,Il=null,Dl=null,Pl=0,Al=0,Nl=Cr(0),Ll=0,Ol=null,Fl=0,Hl=0,jl=0,zl=null,Bl=null,Ul=0,Wl=1/0,Gl=null,Yl=!1,Vl=null,Zl=null,ql=!1,Jl=null,Xl=0,Kl=0,Ql=null,$l=-1,eu=0;function tu(){return 0!==(6&Ml)?Ke():-1!==$l?$l:$l=Ke()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Ml)&&0!==Pl?Pl&-Pl:null!==va.transition?(0===eu&&(eu=vt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function iu(e,t,n,i){if(50<Kl)throw Kl=0,Ql=null,Error(a(185));mt(e,n,i),0!==(2&Ml)&&e===Il||(e===Il&&(0===(2&Ml)&&(Hl|=n),4===Ll&&lu(e,Pl)),ru(e,i),1===n&&0===Ml&&0===(1&t.mode)&&(Wl=Ke()+500,jr&&Ur()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=r[o];-1===l?0!==(s&n)&&0===(s&i)||(r[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var i=ht(e,e===Il?Pl:0);if(0===i)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){jr=!0,Br(e)}(uu.bind(null,e)):Br(uu.bind(null,e)),or((function(){0===(6&Ml)&&Ur()})),n=null;else{switch(_t(i)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Iu(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if($l=-1,eu=0,0!==(6&Ml))throw Error(a(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var i=ht(e,e===Il?Pl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=mu(e,i);else{t=i;var r=Ml;Ml|=2;var o=vu();for(Il===e&&Pl===t||(Gl=null,Wl=Ke()+500,fu(e,t));;)try{bu();break}catch(l){pu(e,l)}xa(),El.current=o,Ml=r,null!==Dl?t=0:(Il=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(i=r,t=ou(e,r))),1===t)throw n=Ol,fu(e,0),lu(e,i),ru(e,Ke()),n;if(6===t)lu(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!si(a(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=mu(e,i))&&(0!==(o=pt(e))&&(i=o,t=ou(e,o))),1===t))throw n=Ol,fu(e,0),lu(e,i),ru(e,Ke()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:case 5:wu(e,Bl,Gl);break;case 3:if(lu(e,i),(130023424&i)===i&&10<(t=Ul+500-Ke())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){tu(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(wu.bind(null,e,Bl,Gl),t);break}wu(e,Bl,Gl);break;case 4:if(lu(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-ot(i);o=1<<s,(s=t[s])>r&&(r=s),i&=~o}if(i=r,10<(i=(120>(i=Ke()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Sl(i/1960))-i)){e.timeoutHandle=ir(wu.bind(null,e,Bl,Gl),i);break}wu(e,Bl,Gl);break;default:throw Error(a(329))}}}return ru(e,Ke()),e.callbackNode===n?au.bind(null,e):null}function ou(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Bl,Bl=n,null!==t&&su(t)),e}function su(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lu(e,t){for(t&=~jl,t&=~Hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),i=1<<n;e[n]=-1,t&=~i}}function uu(e){if(0!==(6&Ml))throw Error(a(327));ku();var t=ht(e,0);if(0===(1&t))return ru(e,Ke()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var i=pt(e);0!==i&&(t=i,n=ou(e,i))}if(1===n)throw n=Ol,fu(e,0),lu(e,t),ru(e,Ke()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,Bl,Gl),ru(e,Ke()),null}function cu(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(Wl=Ke()+500,jr&&Ur())}}function du(e){null!==Jl&&0===Jl.tag&&0===(6&Ml)&&ku();var t=Ml;Ml|=1;var n=Rl.transition,i=bt;try{if(Rl.transition=null,bt=1,e)return e()}finally{bt=i,Rl.transition=n,0===(6&(Ml=t))&&Ur()}}function hu(){Al=Nl.current,Sr(Nl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Dl)for(n=Dl.return;null!==n;){var i=n;switch(ta(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ar();break;case 3:ro(),Sr(Mr),Sr(Rr),co();break;case 5:oo(i);break;case 4:ro();break;case 13:case 19:Sr(so);break;case 10:wa(i.type._context);break;case 22:case 23:hu()}n=n.return}if(Il=e,Dl=e=Nu(e.current,null),Pl=Al=t,Ll=0,Ol=null,jl=Hl=Fl=0,Bl=zl=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(i=(n=Ea[t]).interleaved)){n.interleaved=null;var r=i.next,a=n.pending;if(null!==a){var o=a.next;a.next=r,i.next=o}n.pending=i}Ea=null}return e}function pu(e,t){for(;;){var n=Dl;try{if(xa(),ho.current=os,yo){for(var i=vo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}yo=!1}if(po=0,mo=go=vo=null,bo=!1,_o=0,Tl.current=null,null===n||null===n.return){Ll=1,Ol=t,Dl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&gs(o,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(u),t.updateQueue=g}else v.add(u);break e}if(0===(1&t)){gs(o,c,t),gu();break e}u=Error(a(426))}else if(ra&&1&l.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ys(m,s,l,0,t),pa(cs(u,l));break e}}o=u=cs(u,l),4!==Ll&&(Ll=2),null===zl?zl=[o]:zl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Oa(o,ps(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Zl||!Zl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Oa(o,vs(o,l,t));break e}}o=o.return}while(null!==o)}xu(n)}catch(_){t=_,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function vu(){var e=El.current;return El.current=os,null===e?os:e}function gu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Il||0===(268435455&Fl)&&0===(268435455&Hl)||lu(Il,Pl)}function mu(e,t){var n=Ml;Ml|=2;var i=vu();for(Il===e&&Pl===t||(Gl=null,fu(e,t));;)try{yu();break}catch(r){pu(e,r)}if(xa(),Ml=n,El.current=i,null!==Dl)throw Error(a(261));return Il=null,Pl=0,Ll}function yu(){for(;null!==Dl;)_u(Dl)}function bu(){for(;null!==Dl&&!Je();)_u(Dl)}function _u(e){var t=Cl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?xu(e):Dl=t,Tl.current=null}function xu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Al)))return void(Dl=n)}else{if(null!==(n=Js(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Ll=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wu(e,t,n){var i=bt,r=Rl.transition;try{Rl.transition=null,bt=1,function(e,t,n,i){do{ku()}while(null!==Jl);if(0!==(6&Ml))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ot(n),a=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~a}}(e,o),e===Il&&(Dl=Il=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Iu(tt,(function(){return ku(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Rl.transition,Rl.transition=null;var s=bt;bt=1;var l=Ml;Ml|=4,Tl.current=null,function(e,t){if(er=Gt,fi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==r&&3!==h.nodeType||(l=s+r),h!==o||0!==i&&3!==h.nodeType||(u=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===r&&(l=s),f===o&&++d===i&&(u=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Gt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ga(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(a(163))}}catch(x){Su(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=nl,nl=!1}(e,n),ml(n,e),pi(tr),Gt=!!er,tr=er=null,e.current=n,bl(n,e,r),Xe(),Ml=l,bt=s,Rl.transition=o}else e.current=n;if(ql&&(ql=!1,Jl=e,Xl=r),o=e.pendingLanes,0===o&&(Zl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ke()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Yl)throw Yl=!1,e=Vl,Vl=null,e;0!==(1&Xl)&&0!==e.tag&&ku(),o=e.pendingLanes,0!==(1&o)?e===Ql?Kl++:(Kl=0,Ql=e):Kl=0,Ur()}(e,t,n,i)}finally{Rl.transition=r,bt=i}return null}function ku(){if(null!==Jl){var e=_t(Xl),t=Rl.transition,n=bt;try{if(Rl.transition=null,bt=16>e?16:e,null===Jl)var i=!1;else{if(e=Jl,Jl=null,Xl=0,0!==(6&Ml))throw Error(a(331));var r=Ml;for(Ml|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for($s=c;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:il(8,d,o)}var h=d.child;if(null!==h)h.return=d,$s=h;else for(;null!==$s;){var f=(d=$s).sibling,p=d.return;if(ol(d),d===c){$s=null;break}if(null!==f){f.return=p,$s=f;break}$s=p}}}var v=o.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$s=y;break e}$s=o.return}}var b=e.current;for($s=b;null!==$s;){var _=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,$s=_;else e:for(s=b;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Su(l,l.return,w)}if(l===s){$s=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,$s=x;break e}$s=l.return}}if(Ml=r,Ur(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(w){}i=!0}return i}finally{bt=n,Rl.transition=t}}return!1}function Cu(e,t,n){e=Na(e,t=ps(0,t=cs(n,t),1),1),t=tu(),null!==e&&(mt(e,1,t),ru(e,t))}function Su(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Zl||!Zl.has(i))){t=Na(t,e=vs(t,e=cs(n,e),1),1),e=tu(),null!==t&&(mt(t,1,e),ru(t,e));break}}t=t.return}}function Eu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Ke()-Ul?fu(e,0):jl|=n),ru(e,t)}function Tu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Ma(e,t))&&(mt(e,t,n),ru(e,n))}function Ru(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Mu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}null!==i&&i.delete(t),Tu(e,n)}function Iu(e,t){return Ze(e,t)}function Du(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,i){return new Du(e,t,n,i)}function Au(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nu(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,i,r,o){var s=2;if(i=e,"function"===typeof e)Au(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Ou(n.children,r,o,t);case C:s=8,r|=8;break;case S:return(e=Pu(12,n,t,2|r)).elementType=S,e.lanes=o,e;case M:return(e=Pu(13,n,t,r)).elementType=M,e.lanes=o,e;case I:return(e=Pu(19,n,t,r)).elementType=I,e.lanes=o,e;case A:return Fu(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case R:s=11;break e;case D:s=14;break e;case P:s=16,i=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pu(s,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function Ou(e,t,n,i){return(e=Pu(7,e,i,t)).lanes=n,e}function Fu(e,t,n,i){return(e=Pu(22,e,i,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Hu(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function ju(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,i,r,a,o,s,l){return e=new zu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Uu(e){if(!e)return Tr;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pr(n))return Lr(e,n,t)}return t}function Wu(e,t,n,i,r,a,o,s,l){return(e=Bu(n,i,!0,e,0,a,0,s,l)).context=Uu(null),n=e.current,(a=Aa(i=tu(),r=nu(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,r),e.current.lanes=r,mt(e,r,i),ru(e,i),e}function Gu(e,t,n,i){var r=t.current,a=tu(),o=nu(r);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Aa(a,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Na(r,t,o))&&(iu(e,r,o,a),La(e,r,o)),o}function Yu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zu(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mr.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Is(t),fa();break;case 5:ao(t);break;case 1:Pr(t.type)&&Or(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Er(ma,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Er(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Hs(e,t,n):(Er(so,1&so.current),null!==(e=Ys(e,t,n))?e.sibling:null);Er(so,1&so.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Ws(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Er(so,so.current),i)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Ys(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,ra&&0!==(1048576&t.flags)&&$r(t,Vr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Gs(e,t),e=t.pendingProps;var r=Dr(t,Rr.current);Ca(t,n),r=Co(null,t,i,e,r,n);var o=So();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(i)?(o=!0,Or(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Da(t),r.updater=Ba,t.stateNode=r,r._reactInternals=t,Ya(t,i,e,n),t=Ms(null,t,i,!0,o,n)):(t.tag=0,ra&&o&&ea(t),xs(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Au(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===R)return 11;if(e===D)return 14}return 2}(i),e=ga(i,e),r){case 0:t=Ts(null,t,i,e,n);break e;case 1:t=Rs(null,t,i,e,n);break e;case 11:t=ws(null,t,i,e,n);break e;case 14:t=ks(null,t,i,ga(i.type,e),n);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ts(e,t,i,r=t.elementType===i?r:ga(i,r),n);case 1:return i=t.type,r=t.pendingProps,Rs(e,t,i,r=t.elementType===i?r:ga(i,r),n);case 3:e:{if(Is(t),null===e)throw Error(a(387));i=t.pendingProps,r=(o=t.memoizedState).element,Pa(e,t),Fa(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ds(e,t,i,n,r=cs(Error(a(423)),t));break e}if(i!==r){t=Ds(e,t,i,n,r=cs(Error(a(424)),t));break e}for(ia=ur(t.stateNode.containerInfo.firstChild),na=t,ra=!0,aa=null,n=Ka(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),i===r){t=Ys(e,t,n);break e}xs(e,t,i,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==o&&nr(i,o)&&(t.flags|=32),Es(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Hs(e,t,n);case 4:return io(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Xa(t,null,i,n):xs(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,ws(e,t,i,r=t.elementType===i?r:ga(i,r),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,s=r.value,Er(ma,i._currentValue),i._currentValue=s,null!==o)if(si(o.value,s)){if(o.children===r.children&&!Mr.current){t=Ys(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===o.tag){(u=Aa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),ka(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ka(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Ca(t,n),i=i(r=Sa(r)),t.flags|=1,xs(e,t,i,n),t.child;case 14:return r=ga(i=t.type,t.pendingProps),ks(e,t,i,r=ga(i.type,r),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ga(i,r),Gs(e,t),t.tag=1,Pr(i)?(e=!0,Or(t)):e=!1,Ca(t,n),Wa(t,i,r),Ya(t,i,r,n),Ms(null,t,i,!0,e,n);case 19:return Ws(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ju(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $u(){}function ec(e,t,n,i,r){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof r){var s=r;r=function(){var e=Yu(o);s.call(e)}}Gu(t,o,e,r)}else o=function(e,t,n,i,r){if(r){if("function"===typeof i){var a=i;i=function(){var e=Yu(o);a.call(e)}}var o=Wu(t,i,e,0,null,!1,0,"",$u);return e._reactRootContainer=o,e[pr]=o.current,Ui(8===e.nodeType?e.parentNode:e),du(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=Yu(l);s.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",$u);return e._reactRootContainer=l,e[pr]=l.current,Ui(8===e.nodeType?e.parentNode:e),du((function(){Gu(t,l,n,i)})),l}(n,t,e,r,i);return Yu(o)}Xu.prototype.render=Ju.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gu(e,t,null,null)},Xu.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Gu(null,e,null,null)})),t[pr]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Ke()),0===(6&Ml)&&(Wl=Ke()+500,Ur()))}break;case 13:du((function(){var t=Ma(e,1);if(null!==t){var n=tu();iu(t,e,1,n)}})),Zu(e,1)}},wt=function(e){if(13===e.tag){var t=Ma(e,134217728);if(null!==t)iu(t,e,134217728,tu());Zu(e,134217728)}},kt=function(e){if(13===e.tag){var t=nu(e),n=Ma(e,t);if(null!==n)iu(n,e,t,tu());Zu(e,t)}},Ct=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=xr(i);if(!r)throw Error(a(90));Z(i),Q(i,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Re=cu,Me=du;var tc={usingClientEntryPoint:!1,Events:[br,_r,xr,Ee,Te,cu]},nc={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ic={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{rt=rc.inject(ic),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ku(t))throw Error(a(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ku(e))throw Error(a(299));var n=!1,i="",r=qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,i,r),e[pr]=t.current,Ui(8===e.nodeType?e.parentNode:e),new Ju(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ku(e))throw Error(a(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",s=qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wu(t,null,e,1,null!=n?n:null,r,0,o,s),e[pr]=t.current,Ui(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Xu(t)},t.render=function(e,t,n){if(!Qu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(a(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pr]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Qu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var i=n(164);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},707:function(e,t,n){var i=n(61).default;!function(e,t){"use strict";function n(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(r,a){var o=e.apply(t,i);function s(e){n(o,r,a,s,l,"next",e)}function l(e){n(o,r,a,s,l,"throw",e)}s(void 0)}))}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var l={init:"init"},u=function(e){var t=e.value;return void 0===t?"":t},c=function(){return t.createElement(t.Fragment,null,"\xa0")},d={Cell:u,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=t.style,i=t.className;return e=a({},e,{},o(t,["style","className"])),n&&(e.style=e.style?a({},e.style||{},{},n||{}):n),i&&(e.className=e.className?e.className+" "+i:i),""===e.className&&delete e.className,e}),{})}var f=function(e,t){return void 0===t&&(t={}),function(n){return void 0===n&&(n={}),[].concat(e,[n]).reduce((function(e,i){return function e(t,n,i){return"function"==typeof n?e({},n(t,i)):Array.isArray(n)?h.apply(void 0,[t].concat(n)):h(t,n)}(e,i,a({},t,{userProps:n}))}),{})}},p=function(e,t,n,i){return void 0===n&&(n={}),e.reduce((function(e,t){return t(e,n)}),t)},v=function(e,t,n){return void 0===n&&(n={}),e.forEach((function(e){e(t,n)}))};function g(e,t,n,i){e.findIndex((function(e){return e.pluginName===n})),t.forEach((function(t){e.findIndex((function(e){return e.pluginName===t}))}))}function m(e,t){return"function"==typeof e?e(t):e}function y(e){var n=t.useRef();return n.current=e,t.useCallback((function(){return n.current}),[])}var b="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function _(e,n){var i=t.useRef(!1);b((function(){i.current&&e(),i.current=!0}),n)}function x(e,t,n){return void 0===n&&(n={}),function(i,r){void 0===r&&(r={});var o="string"==typeof i?t[i]:i;if(void 0===o)throw console.info(t),new Error("Renderer Error \u261d\ufe0f");return w(o,a({},e,{column:t},n,{},r))}}function w(e,n){return function(e){return"function"==typeof e&&(t=Object.getPrototypeOf(e)).prototype&&t.prototype.isReactComponent;var t}(i=e)||"function"==typeof i||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(i)?t.createElement(e,n):e;var i}function k(e,t,n){return void 0===n&&(n=0),e.map((function(e){return S(e=a({},e,{parent:t,depth:n})),e.columns&&(e.columns=k(e.columns,e,n+1)),e}))}function C(e){return D(e,"columns")}function S(e){var t=e.id,n=e.accessor,i=e.Header;if("string"==typeof n){t=t||n;var r=n.split(".");n=function(e){return function(e,t,n){if(!t)return e;var i,r="function"==typeof t?t:JSON.stringify(t),a=R.get(r)||function(){var e=function(e){return function e(t,n){if(void 0===n&&(n=[]),Array.isArray(t))for(var i=0;i<t.length;i+=1)e(t[i],n);else n.push(t);return n}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(F,".").replace(H,"").split(".")}(t);return R.set(r,e),e}();try{i=a.reduce((function(e,t){return e[t]}),e)}catch(e){}return void 0!==i?i:n}(e,r)}}if(!t&&"string"==typeof i&&i&&(t=i),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:n}),e}function E(e,t){if(!t)throw new Error;return Object.assign(e,a({Header:c,Footer:c},d,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function T(e,t,n){void 0===n&&(n=function(){return{}});for(var i=[],r=e,o=0,s=function(){return o++},l=function(){var e={headers:[]},o=[],l=r.some((function(e){return e.parent}));r.forEach((function(i){var r,u=[].concat(o).reverse()[0];l&&(r=i.parent?a({},i.parent,{originalId:i.parent.id,id:i.parent.id+"_"+s(),headers:[i]},n(i)):E(a({originalId:i.id+"_placeholder",id:i.id+"_placeholder_"+s(),placeholderOf:i,headers:[i]},n(i)),t),u&&u.originalId===r.originalId?u.headers.push(i):o.push(r)),e.headers.push(i)})),i.push(e),r=o};r.length;)l();return i.reverse()}var R=new Map;function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0;i<t.length;i+=1)if(void 0!==t[i])return t[i]}function I(e){if("function"==typeof e)return e}function D(e,t){var n=[];return function e(i){i.forEach((function(i){i[t]?e(i[t]):n.push(i)}))}(e),n}function P(e,t){var n=t.manualExpandedKey,i=t.expanded,r=t.expandSubRows,a=void 0===r||r,o=[];return e.forEach((function(e){return function e(t,r){void 0===r&&(r=!0),t.isExpanded=t.original&&t.original[n]||i[t.id],t.canExpand=t.subRows&&!!t.subRows.length,r&&o.push(t),t.subRows&&t.subRows.length&&t.isExpanded&&t.subRows.forEach((function(t){return e(t,a)}))}(e)})),o}function A(e,t,n){return I(e)||t[e]||n[e]||n.text}function N(e,t,n){return e?e(t,n):void 0===t}function L(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var O=null,F=/\[/g,H=/\]/g,j=function(e){return a({role:"table"},e)},z=function(e){return a({role:"rowgroup"},e)},B=function(e,t){var n=t.column;return a({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},e)},U=function(e,t){var n=t.column;return a({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},e)},W=function(e,t){return a({key:"headerGroup_"+t.index,role:"row"},e)},G=function(e,t){return a({key:"footerGroup_"+t.index},e)},Y=function(e,t){return a({key:"row_"+t.row.id,role:"row"},e)},V=function(e,t){var n=t.cell;return a({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},e)};function Z(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[j],getTableBodyProps:[z],getHeaderGroupProps:[W],getFooterGroupProps:[G],getHeaderProps:[B],getFooterProps:[U],getRowProps:[Y],getCellProps:[V],useFinalInstance:[]}}l.resetHiddenColumns="resetHiddenColumns",l.toggleHideColumn="toggleHideColumn",l.setHiddenColumns="setHiddenColumns",l.toggleHideAllColumns="toggleHideAllColumns";var q=function(e){e.getToggleHiddenProps=[J],e.getToggleHideAllColumnsProps=[X],e.stateReducers.push(K),e.useInstanceBeforeDimensions.push(Q),e.headerGroupsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.hiddenColumns])})),e.useInstance.push($)};q.pluginName="useColumnVisibility";var J=function(e,t){var n=t.column;return[e,{onChange:function(e){n.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},X=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function K(e,t,n,i){if(t.type===l.init)return a({hiddenColumns:[]},e);if(t.type===l.resetHiddenColumns)return a({},e,{hiddenColumns:i.initialState.hiddenColumns||[]});if(t.type===l.toggleHideColumn){var r=(void 0!==t.value?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter((function(e){return e!==t.columnId}));return a({},e,{hiddenColumns:r})}return t.type===l.setHiddenColumns?a({},e,{hiddenColumns:m(t.value,e.hiddenColumns)}):t.type===l.toggleHideAllColumns?a({},e,{hiddenColumns:(void 0!==t.value?t.value:!e.hiddenColumns.length)?i.allColumns.map((function(e){return e.id})):[]}):void 0}function Q(e){var n=e.headers,i=e.state.hiddenColumns;t.useRef(!1).current;var r=0;n.forEach((function(e){return r+=function e(t,n){t.isVisible=n&&!i.includes(t.id);var r=0;return t.headers&&t.headers.length?t.headers.forEach((function(n){return r+=e(n,t.isVisible)})):r=t.isVisible?1:0,t.totalVisibleHeaderCount=r,r}(e,!0)}))}function $(e){var n=e.columns,i=e.flatHeaders,r=e.dispatch,a=e.allColumns,o=e.getHooks,s=e.state.hiddenColumns,u=e.autoResetHiddenColumns,c=void 0===u||u,d=y(e),h=a.length===s.length,p=t.useCallback((function(e,t){return r({type:l.toggleHideColumn,columnId:e,value:t})}),[r]),v=t.useCallback((function(e){return r({type:l.setHiddenColumns,value:e})}),[r]),g=t.useCallback((function(e){return r({type:l.toggleHideAllColumns,value:e})}),[r]),m=f(o().getToggleHideAllColumnsProps,{instance:d()});i.forEach((function(e){e.toggleHidden=function(t){r({type:l.toggleHideColumn,columnId:e.id,value:t})},e.getToggleHiddenProps=f(o().getToggleHiddenProps,{instance:d(),column:e})}));var b=y(c);_((function(){b()&&r({type:l.resetHiddenColumns})}),[r,n]),Object.assign(e,{allColumnsHidden:h,toggleHideColumn:p,setHiddenColumns:v,toggleHideAllColumns:g,getToggleHideAllColumnsProps:m})}var ee={},te={},ne=function(e,t,n){return e},ie=function(e,t){return e.subRows||[]},re=function(e,t,n){return""+(n?[n.id,t].join("."):t)},ae=function(e){return e};function oe(e){var t=e.initialState,n=void 0===t?ee:t,i=e.defaultColumn,r=void 0===i?te:i,s=e.getSubRows,l=void 0===s?ie:s,u=e.getRowId,c=void 0===u?re:u,d=e.stateReducer,h=void 0===d?ne:d,f=e.useControlledState,p=void 0===f?ae:f;return a({},o(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:r,getSubRows:l,getRowId:c,stateReducer:h,useControlledState:p})}function se(e,t){void 0===t&&(t=0);var n=0,i=0,r=0,a=0;return e.forEach((function(e){var o=e.headers;if(e.totalLeft=t,o&&o.length){var s=se(o,t),l=s[0],u=s[1],c=s[2],d=s[3];e.totalMinWidth=l,e.totalWidth=u,e.totalMaxWidth=c,e.totalFlexWidth=d}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth,e.totalFlexWidth=e.canResize?e.totalWidth:0;e.isVisible&&(t+=e.totalWidth,n+=e.totalMinWidth,i+=e.totalWidth,r+=e.totalMaxWidth,a+=e.totalFlexWidth)})),[n,i,r,a]}function le(e){var t=e.data,n=e.rows,i=e.flatRows,r=e.rowsById,a=e.column,o=e.getRowId,s=e.getSubRows,l=e.accessValueHooks,u=e.getInstance;t.forEach((function(e,c){return function e(n,c,d,h,f){void 0===d&&(d=0);var v=n,g=o(n,c,h),m=r[g];if(m)m.subRows&&m.originalSubRows.forEach((function(t,n){return e(t,n,d+1,m)}));else if((m={id:g,original:v,index:c,depth:d,cells:[{}]}).cells.map=L,m.cells.filter=L,m.cells.forEach=L,m.cells[0].getCellProps=L,m.values={},f.push(m),i.push(m),r[g]=m,m.originalSubRows=s(n,c),m.originalSubRows){var y=[];m.originalSubRows.forEach((function(t,n){return e(t,n,d+1,m,y)})),m.subRows=y}a.accessor&&(m.values[a.id]=a.accessor(n,c,m,f,t)),m.values[a.id]=p(l,m.values[a.id],{row:m,column:a,instance:u()})}(e,c,0,void 0,n)}))}l.resetExpanded="resetExpanded",l.toggleRowExpanded="toggleRowExpanded",l.toggleAllRowsExpanded="toggleAllRowsExpanded";var ue=function(e){e.getToggleAllRowsExpandedProps=[ce],e.getToggleRowExpandedProps=[de],e.stateReducers.push(he),e.useInstance.push(fe),e.prepareRow.push(pe)};ue.pluginName="useExpanded";var ce=function(e,t){var n=t.instance;return[e,{onClick:function(e){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},de=function(e,t){var n=t.row;return[e,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function he(e,t,n,i){if(t.type===l.init)return a({expanded:{}},e);if(t.type===l.resetExpanded)return a({},e,{expanded:i.initialState.expanded||{}});if(t.type===l.toggleAllRowsExpanded){var r=t.value,u=i.rowsById,c=Object.keys(u).length===Object.keys(e.expanded).length;if(void 0!==r?r:!c){var d={};return Object.keys(u).forEach((function(e){d[e]=!0})),a({},e,{expanded:d})}return a({},e,{expanded:{}})}if(t.type===l.toggleRowExpanded){var h,f=t.id,p=t.value,v=e.expanded[f],g=void 0!==p?p:!v;if(!v&&g)return a({},e,{expanded:a({},e.expanded,(h={},h[f]=!0,h))});if(v&&!g){var m=e.expanded;return m[f],a({},e,{expanded:o(m,[f].map(s))})}return e}}function fe(e){var n=e.data,i=e.rows,r=e.rowsById,a=e.manualExpandedKey,o=void 0===a?"expanded":a,s=e.paginateExpandedRows,u=void 0===s||s,c=e.expandSubRows,d=void 0===c||c,h=e.autoResetExpanded,p=void 0===h||h,v=e.getHooks,m=e.plugins,b=e.state.expanded,x=e.dispatch;g(m,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var w=y(p),k=Boolean(Object.keys(r).length&&Object.keys(b).length);k&&Object.keys(r).some((function(e){return!b[e]}))&&(k=!1),_((function(){w()&&x({type:l.resetExpanded})}),[x,n]);var C=t.useCallback((function(e,t){x({type:l.toggleRowExpanded,id:e,value:t})}),[x]),S=t.useCallback((function(e){return x({type:l.toggleAllRowsExpanded,value:e})}),[x]),E=t.useMemo((function(){return u?P(i,{manualExpandedKey:o,expanded:b,expandSubRows:d}):i}),[u,i,o,b,d]),T=t.useMemo((function(){return function(e){var t=0;return Object.keys(e).forEach((function(e){var n=e.split(".");t=Math.max(t,n.length)})),t}(b)}),[b]),R=y(e),M=f(v().getToggleAllRowsExpandedProps,{instance:R()});Object.assign(e,{preExpandedRows:i,expandedRows:E,rows:E,expandedDepth:T,isAllRowsExpanded:k,toggleRowExpanded:C,toggleAllRowsExpanded:S,getToggleAllRowsExpandedProps:M})}function pe(e,t){var n=t.instance.getHooks,i=t.instance;e.toggleRowExpanded=function(t){return i.toggleRowExpanded(e.id,t)},e.getToggleRowExpandedProps=f(n().getToggleRowExpandedProps,{instance:i,row:e})}var ve=function(e,t,n){return e.filter((function(e){return t.some((function(t){var i=e.values[t];return String(i).toLowerCase().includes(String(n).toLowerCase())}))}))};ve.autoRemove=function(e){return!e};var ge=function(e,t,n){return e.filter((function(e){return t.some((function(t){var i=e.values[t];return void 0===i||String(i).toLowerCase()===String(n).toLowerCase()}))}))};ge.autoRemove=function(e){return!e};var me=function(e,t,n){return e.filter((function(e){return t.some((function(t){var i=e.values[t];return void 0===i||String(i)===String(n)}))}))};me.autoRemove=function(e){return!e};var ye=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t].includes(n)}))}))};ye.autoRemove=function(e){return!e||!e.length};var be=function(e,t,n){return e.filter((function(e){return t.some((function(t){var i=e.values[t];return i&&i.length&&n.every((function(e){return i.includes(e)}))}))}))};be.autoRemove=function(e){return!e||!e.length};var _e=function(e,t,n){return e.filter((function(e){return t.some((function(t){var i=e.values[t];return i&&i.length&&n.some((function(e){return i.includes(e)}))}))}))};_e.autoRemove=function(e){return!e||!e.length};var xe=function(e,t,n){return e.filter((function(e){return t.some((function(t){var i=e.values[t];return n.includes(i)}))}))};xe.autoRemove=function(e){return!e||!e.length};var we=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]===n}))}))};we.autoRemove=function(e){return void 0===e};var ke=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]==n}))}))};ke.autoRemove=function(e){return null==e};var Ce=function(e,t,n){var i=n||[],r=i[0],a=i[1];if((r="number"==typeof r?r:-1/0)>(a="number"==typeof a?a:1/0)){var o=r;r=a,a=o}return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n>=r&&n<=a}))}))};Ce.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};var Se=Object.freeze({__proto__:null,text:ve,exactText:ge,exactTextCase:me,includes:ye,includesAll:be,includesSome:_e,includesValue:xe,exact:we,equals:ke,between:Ce});l.resetFilters="resetFilters",l.setFilter="setFilter",l.setAllFilters="setAllFilters";var Ee=function(e){e.stateReducers.push(Te),e.useInstance.push(Re)};function Te(e,t,n,i){if(t.type===l.init)return a({filters:[]},e);if(t.type===l.resetFilters)return a({},e,{filters:i.initialState.filters||[]});if(t.type===l.setFilter){var r=t.columnId,o=t.filterValue,s=i.allColumns,u=i.filterTypes,c=s.find((function(e){return e.id===r}));if(!c)throw new Error("React-Table: Could not find a column with id: "+r);var d=A(c.filter,u||{},Se),h=e.filters.find((function(e){return e.id===r})),f=m(o,h&&h.value);return N(d.autoRemove,f,c)?a({},e,{filters:e.filters.filter((function(e){return e.id!==r}))}):a({},e,h?{filters:e.filters.map((function(e){return e.id===r?{id:r,value:f}:e}))}:{filters:[].concat(e.filters,[{id:r,value:f}])})}if(t.type===l.setAllFilters){var p=t.filters,v=i.allColumns,g=i.filterTypes;return a({},e,{filters:m(p,e.filters).filter((function(e){var t=v.find((function(t){return t.id===e.id}));return!N(A(t.filter,g||{},Se).autoRemove,e.value,t)}))})}}function Re(e){var n=e.data,i=e.rows,r=e.flatRows,a=e.rowsById,o=e.allColumns,s=e.filterTypes,u=e.manualFilters,c=e.defaultCanFilter,d=void 0!==c&&c,h=e.disableFilters,f=e.state.filters,p=e.dispatch,v=e.autoResetFilters,g=void 0===v||v,m=t.useCallback((function(e,t){p({type:l.setFilter,columnId:e,filterValue:t})}),[p]),b=t.useCallback((function(e){p({type:l.setAllFilters,filters:e})}),[p]);o.forEach((function(e){var t=e.id,n=e.accessor,i=e.defaultCanFilter,r=e.disableFilters;e.canFilter=n?M(!0!==r&&void 0,!0!==h&&void 0,!0):M(i,d,!1),e.setFilter=function(t){return m(e.id,t)};var a=f.find((function(e){return e.id===t}));e.filterValue=a&&a.value}));var x=t.useMemo((function(){if(u||!f.length)return[i,r,a];var e=[],t={};return[function n(i,r){void 0===r&&(r=0);var a=i;return(a=f.reduce((function(e,t){var n=t.id,i=t.value,a=o.find((function(e){return e.id===n}));if(!a)return e;0===r&&(a.preFilteredRows=e);var l=A(a.filter,s||{},Se);return l?(a.filteredRows=l(e,[n],i),a.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+a.id+"."),e)}),i)).forEach((function(i){e.push(i),t[i.id]=i,i.subRows&&(i.subRows=i.subRows&&i.subRows.length>0?n(i.subRows,r+1):i.subRows)})),a}(i),e,t]}),[u,f,i,r,a,o,s]),w=x[0],k=x[1],C=x[2];t.useMemo((function(){o.filter((function(e){return!f.find((function(t){return t.id===e.id}))})).forEach((function(e){e.preFilteredRows=w,e.filteredRows=w}))}),[w,f,o]);var S=y(g);_((function(){S()&&p({type:l.resetFilters})}),[p,u?null:n]),Object.assign(e,{preFilteredRows:i,preFilteredFlatRows:r,preFilteredRowsById:a,filteredRows:w,filteredFlatRows:k,filteredRowsById:C,rows:w,flatRows:k,rowsById:C,setFilter:m,setAllFilters:b})}Ee.pluginName="useFilters",l.resetGlobalFilter="resetGlobalFilter",l.setGlobalFilter="setGlobalFilter";var Me=function(e){e.stateReducers.push(Ie),e.useInstance.push(De)};function Ie(e,t,n,i){if(t.type===l.resetGlobalFilter)return a({},e,{globalFilter:i.initialState.globalFilter||void 0});if(t.type===l.setGlobalFilter){var r=t.filterValue,s=i.userFilterTypes,u=A(i.globalFilter,s||{},Se),c=m(r,e.globalFilter);return N(u.autoRemove,c)?(e.globalFilter,o(e,["globalFilter"])):a({},e,{globalFilter:c})}}function De(e){var n=e.data,i=e.rows,r=e.flatRows,a=e.rowsById,o=e.allColumns,s=e.filterTypes,u=e.globalFilter,c=e.manualGlobalFilter,d=e.state.globalFilter,h=e.dispatch,f=e.autoResetGlobalFilter,p=void 0===f||f,v=e.disableGlobalFilter,g=t.useCallback((function(e){h({type:l.setGlobalFilter,filterValue:e})}),[h]),m=t.useMemo((function(){if(c||void 0===d)return[i,r,a];var e=[],t={},n=A(u,s||{},Se);if(!n)return console.warn("Could not find a valid 'globalFilter' option."),i;o.forEach((function(e){var t=e.disableGlobalFilter;e.canFilter=M(!0!==t&&void 0,!0!==v&&void 0,!0)}));var l=o.filter((function(e){return!0===e.canFilter}));return[function i(r){return(r=n(r,l.map((function(e){return e.id})),d)).forEach((function(n){e.push(n),t[n.id]=n,n.subRows=n.subRows&&n.subRows.length?i(n.subRows):n.subRows})),r}(i),e,t]}),[c,d,u,s,o,i,r,a,v]),b=m[0],x=m[1],w=m[2],k=y(p);_((function(){k()&&h({type:l.resetGlobalFilter})}),[h,c?null:n]),Object.assign(e,{preGlobalFilteredRows:i,preGlobalFilteredFlatRows:r,preGlobalFilteredRowsById:a,globalFilteredRows:b,globalFilteredFlatRows:x,globalFilteredRowsById:w,rows:b,flatRows:x,rowsById:w,setGlobalFilter:g,disableGlobalFilter:v})}function Pe(e,t){return t.reduce((function(e,t){return e+("number"==typeof t?t:0)}),0)}Me.pluginName="useGlobalFilter";var Ae=Object.freeze({__proto__:null,sum:Pe,min:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e))})),t},max:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.max(t,e))})),t},minMax:function(e){var t=e[0]||0,n=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e),n=Math.max(n,e))})),t+".."+n},average:function(e){return Pe(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),n=[].concat(e).sort((function(e,t){return e-t}));return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),Ne=[],Le={};l.resetGroupBy="resetGroupBy",l.setGroupBy="setGroupBy",l.toggleGroupBy="toggleGroupBy";var Oe=function(e){e.getGroupByToggleProps=[Fe],e.stateReducers.push(He),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.groupBy])})),e.visibleColumns.push(je),e.useInstance.push(Be),e.prepareRow.push(Ue)};Oe.pluginName="useGroupBy";var Fe=function(e,t){var n=t.header;return[e,{onClick:n.canGroupBy?function(e){e.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function He(e,t,n,i){if(t.type===l.init)return a({groupBy:[]},e);if(t.type===l.resetGroupBy)return a({},e,{groupBy:i.initialState.groupBy||[]});if(t.type===l.setGroupBy)return a({},e,{groupBy:t.value});if(t.type===l.toggleGroupBy){var r=t.columnId,o=t.value,s=void 0!==o?o:!e.groupBy.includes(r);return a({},e,s?{groupBy:[].concat(e.groupBy,[r])}:{groupBy:e.groupBy.filter((function(e){return e!==r}))})}}function je(e,t){var n=t.instance.state.groupBy,i=n.map((function(t){return e.find((function(e){return e.id===t}))})).filter(Boolean),r=e.filter((function(e){return!n.includes(e.id)}));return(e=[].concat(i,r)).forEach((function(e){e.isGrouped=n.includes(e.id),e.groupedIndex=n.indexOf(e.id)})),e}var ze={};function Be(e){var n=e.data,i=e.rows,r=e.flatRows,o=e.rowsById,s=e.allColumns,u=e.flatHeaders,c=e.groupByFn,d=void 0===c?We:c,h=e.manualGroupBy,p=e.aggregations,v=void 0===p?ze:p,m=e.plugins,b=e.state.groupBy,x=e.dispatch,w=e.autoResetGroupBy,k=void 0===w||w,C=e.disableGroupBy,S=e.defaultCanGroupBy,E=e.getHooks;g(m,["useColumnOrder","useFilters"],"useGroupBy");var T=y(e);s.forEach((function(t){var n=t.accessor,i=t.defaultGroupBy,r=t.disableGroupBy;t.canGroupBy=n?M(t.canGroupBy,!0!==r&&void 0,!0!==C&&void 0,!0):M(t.canGroupBy,i,S,!1),t.canGroupBy&&(t.toggleGroupBy=function(){return e.toggleGroupBy(t.id)}),t.Aggregated=t.Aggregated||t.Cell}));var R=t.useCallback((function(e,t){x({type:l.toggleGroupBy,columnId:e,value:t})}),[x]),I=t.useCallback((function(e){x({type:l.setGroupBy,value:e})}),[x]);u.forEach((function(e){e.getGroupByToggleProps=f(E().getGroupByToggleProps,{instance:T(),header:e})}));var P=t.useMemo((function(){if(h||!b.length)return[i,r,o,Ne,Le,r,o];var e=b.filter((function(e){return s.find((function(t){return t.id===e}))})),t=[],n={},l=[],u={},c=[],f={},p=function i(r,o,h){if(void 0===o&&(o=0),o===e.length)return r.map((function(e){return a({},e,{depth:o})}));var p=e[o],g=d(r,p);return Object.entries(g).map((function(r,a){var d=r[0],g=r[1],m=p+":"+d,y=i(g,o+1,m=h?h+">"+m:m),b=o?D(g,"leafRows"):g,_=function(t,n,i){var r={};return s.forEach((function(a){if(e.includes(a.id))r[a.id]=n[0]?n[0].values[a.id]:null;else{var o="function"==typeof a.aggregate?a.aggregate:v[a.aggregate]||Ae[a.aggregate];if(o){var s=n.map((function(e){return e.values[a.id]})),l=t.map((function(e){var t=e.values[a.id];if(!i&&a.aggregateValue){var n="function"==typeof a.aggregateValue?a.aggregateValue:v[a.aggregateValue]||Ae[a.aggregateValue];if(!n)throw console.info({column:a}),new Error("React Table: Invalid column.aggregateValue option for column listed above");t=n(t,e,a)}return t}));r[a.id]=o(l,s)}else{if(a.aggregate)throw console.info({column:a}),new Error("React Table: Invalid column.aggregate option for column listed above");r[a.id]=null}}})),r}(b,g,o),x={id:m,isGrouped:!0,groupByID:p,groupByVal:d,values:_,subRows:y,leafRows:b,depth:o,index:a};return y.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(l.push(e),u[e.id]=e):(c.push(e),f[e.id]=e)})),x}))}(i);return p.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(l.push(e),u[e.id]=e):(c.push(e),f[e.id]=e)})),[p,t,n,l,u,c,f]}),[h,b,i,r,o,s,v,d]),A=P[0],N=P[1],L=P[2],O=P[3],F=P[4],H=P[5],j=P[6],z=y(k);_((function(){z()&&x({type:l.resetGroupBy})}),[x,h?null:n]),Object.assign(e,{preGroupedRows:i,preGroupedFlatRow:r,preGroupedRowsById:o,groupedRows:A,groupedFlatRows:N,groupedRowsById:L,onlyGroupedFlatRows:O,onlyGroupedRowsById:F,nonGroupedFlatRows:H,nonGroupedRowsById:j,rows:A,flatRows:N,rowsById:L,toggleGroupBy:R,setGroupBy:I})}function Ue(e){e.allCells.forEach((function(t){var n;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&(null==(n=e.subRows)?void 0:n.length)}))}function We(e,t){return e.reduce((function(e,n,i){var r=""+n.values[t];return e[r]=Array.isArray(e[r])?e[r]:[],e[r].push(n),e}),{})}var Ge=/([0-9]+)/gm;function Ye(e,t){return e===t?0:e>t?1:-1}function Ve(e,t,n){return[e.values[n],t.values[n]]}function Ze(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}var qe=Object.freeze({__proto__:null,alphanumeric:function(e,t,n){var i=Ve(e,t,n),r=i[0],a=i[1];for(r=Ze(r),a=Ze(a),r=r.split(Ge).filter(Boolean),a=a.split(Ge).filter(Boolean);r.length&&a.length;){var o=r.shift(),s=a.shift(),l=parseInt(o,10),u=parseInt(s,10),c=[l,u].sort();if(isNaN(c[0])){if(o>s)return 1;if(s>o)return-1}else{if(isNaN(c[1]))return isNaN(l)?-1:1;if(l>u)return 1;if(u>l)return-1}}return r.length-a.length},datetime:function(e,t,n){var i=Ve(e,t,n),r=i[0],a=i[1];return Ye(r=r.getTime(),a=a.getTime())},basic:function(e,t,n){var i=Ve(e,t,n);return Ye(i[0],i[1])},string:function(e,t,n){var i=Ve(e,t,n),r=i[0],a=i[1];for(r=r.split("").filter(Boolean),a=a.split("").filter(Boolean);r.length&&a.length;){var o=r.shift(),s=a.shift(),l=o.toLowerCase(),u=s.toLowerCase();if(l>u)return 1;if(u>l)return-1;if(o>s)return 1;if(s>o)return-1}return r.length-a.length},number:function(e,t,n){var i=Ve(e,t,n),r=i[0],a=i[1],o=/[^0-9.]/gi;return Ye(r=Number(String(r).replace(o,"")),a=Number(String(a).replace(o,"")))}});l.resetSortBy="resetSortBy",l.setSortBy="setSortBy",l.toggleSortBy="toggleSortBy",l.clearSortBy="clearSortBy",d.sortType="alphanumeric",d.sortDescFirst=!1;var Je=function(e){e.getSortByToggleProps=[Xe],e.stateReducers.push(Ke),e.useInstance.push(Qe)};Je.pluginName="useSortBy";var Xe=function(e,t){var n=t.instance,i=t.column,r=n.isMultiSortEvent,a=void 0===r?function(e){return e.shiftKey}:r;return[e,{onClick:i.canSort?function(e){e.persist(),i.toggleSortBy(void 0,!n.disableMultiSort&&a(e))}:void 0,style:{cursor:i.canSort?"pointer":void 0},title:i.canSort?"Toggle SortBy":void 0}]};function Ke(e,t,n,i){if(t.type===l.init)return a({sortBy:[]},e);if(t.type===l.resetSortBy)return a({},e,{sortBy:i.initialState.sortBy||[]});if(t.type===l.clearSortBy)return a({},e,{sortBy:e.sortBy.filter((function(e){return e.id!==t.columnId}))});if(t.type===l.setSortBy)return a({},e,{sortBy:t.sortBy});if(t.type===l.toggleSortBy){var r,o=t.columnId,s=t.desc,u=t.multi,c=i.allColumns,d=i.disableMultiSort,h=i.disableSortRemove,f=i.disableMultiRemove,p=i.maxMultiSortColCount,v=void 0===p?Number.MAX_SAFE_INTEGER:p,g=e.sortBy,m=c.find((function(e){return e.id===o})).sortDescFirst,y=g.find((function(e){return e.id===o})),b=g.findIndex((function(e){return e.id===o})),_=null!=s,x=[];return"toggle"!==(r=!d&&u?y?"toggle":"add":b!==g.length-1||1!==g.length?"replace":y?"toggle":"replace")||h||_||u&&f||!(y&&y.desc&&!m||!y.desc&&m)||(r="remove"),"replace"===r?x=[{id:o,desc:_?s:m}]:"add"===r?(x=[].concat(g,[{id:o,desc:_?s:m}])).splice(0,x.length-v):"toggle"===r?x=g.map((function(e){return e.id===o?a({},e,{desc:_?s:!y.desc}):e})):"remove"===r&&(x=g.filter((function(e){return e.id!==o}))),a({},e,{sortBy:x})}}function Qe(e){var n=e.data,i=e.rows,r=e.flatRows,a=e.allColumns,o=e.orderByFn,s=void 0===o?$e:o,u=e.sortTypes,c=e.manualSortBy,d=e.defaultCanSort,h=e.disableSortBy,p=e.flatHeaders,v=e.state.sortBy,m=e.dispatch,b=e.plugins,x=e.getHooks,w=e.autoResetSortBy,k=void 0===w||w;g(b,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var C=t.useCallback((function(e){m({type:l.setSortBy,sortBy:e})}),[m]),S=t.useCallback((function(e,t,n){m({type:l.toggleSortBy,columnId:e,desc:t,multi:n})}),[m]),E=y(e);p.forEach((function(e){var t=e.accessor,n=e.canSort,i=e.disableSortBy,r=e.id,a=t?M(!0!==i&&void 0,!0!==h&&void 0,!0):M(d,n,!1);e.canSort=a,e.canSort&&(e.toggleSortBy=function(t,n){return S(e.id,t,n)},e.clearSortBy=function(){m({type:l.clearSortBy,columnId:e.id})}),e.getSortByToggleProps=f(x().getSortByToggleProps,{instance:E(),column:e});var o=v.find((function(e){return e.id===r}));e.isSorted=!!o,e.sortedIndex=v.findIndex((function(e){return e.id===r})),e.isSortedDesc=e.isSorted?o.desc:void 0}));var T=t.useMemo((function(){if(c||!v.length)return[i,r];var e=[],t=v.filter((function(e){return a.find((function(t){return t.id===e.id}))}));return[function n(i){var r=s(i,t.map((function(e){var t=a.find((function(t){return t.id===e.id}));if(!t)throw new Error("React-Table: Could not find a column with id: "+e.id+" while sorting");var n=t.sortType,i=I(n)||(u||{})[n]||qe[n];if(!i)throw new Error("React-Table: Could not find a valid sortType of '"+n+"' for column '"+e.id+"'.");return function(t,n){return i(t,n,e.id,e.desc)}})),t.map((function(e){var t=a.find((function(t){return t.id===e.id}));return t&&t.sortInverted?e.desc:!e.desc})));return r.forEach((function(t){e.push(t),t.subRows&&0!==t.subRows.length&&(t.subRows=n(t.subRows))})),r}(i),e]}),[c,v,i,r,a,s,u]),R=T[0],D=T[1],P=y(k);_((function(){P()&&m({type:l.resetSortBy})}),[c?null:n]),Object.assign(e,{preSortedRows:i,preSortedFlatRows:r,sortedRows:R,sortedFlatRows:D,rows:R,flatRows:D,setSortBy:C,toggleSortBy:S})}function $e(e,t,n){return[].concat(e).sort((function(e,i){for(var r=0;r<t.length;r+=1){var a=t[r],o=!1===n[r]||"desc"===n[r],s=a(e,i);if(0!==s)return o?-s:s}return n[0]?e.index-i.index:i.index-e.index}))}l.resetPage="resetPage",l.gotoPage="gotoPage",l.setPageSize="setPageSize";var et=function(e){e.stateReducers.push(tt),e.useInstance.push(nt)};function tt(e,t,n,i){if(t.type===l.init)return a({pageSize:10,pageIndex:0},e);if(t.type===l.resetPage)return a({},e,{pageIndex:i.initialState.pageIndex||0});if(t.type===l.gotoPage){var r=i.pageCount,o=i.page,s=m(t.pageIndex,e.pageIndex),u=!1;return s>e.pageIndex?u=-1===r?o.length>=e.pageSize:s<r:s<e.pageIndex&&(u=s>-1),u?a({},e,{pageIndex:s}):e}if(t.type===l.setPageSize){var c=t.pageSize,d=e.pageSize*e.pageIndex;return a({},e,{pageIndex:Math.floor(d/c),pageSize:c})}}function nt(e){var n=e.rows,i=e.autoResetPage,r=void 0===i||i,a=e.manualExpandedKey,o=void 0===a?"expanded":a,s=e.plugins,u=e.pageCount,c=e.paginateExpandedRows,d=void 0===c||c,h=e.expandSubRows,f=void 0===h||h,p=e.state,v=p.pageSize,m=p.pageIndex,b=p.expanded,x=p.globalFilter,w=p.filters,k=p.groupBy,C=p.sortBy,S=e.dispatch,E=e.data,T=e.manualPagination;g(s,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var R=y(r);_((function(){R()&&S({type:l.resetPage})}),[S,T?null:E,x,w,k,C]);var M=T?u:Math.ceil(n.length/v),I=t.useMemo((function(){return M>0?[].concat(new Array(M)).fill(null).map((function(e,t){return t})):[]}),[M]),D=t.useMemo((function(){var e;if(T)e=n;else{var t=v*m,i=t+v;e=n.slice(t,i)}return d?e:P(e,{manualExpandedKey:o,expanded:b,expandSubRows:f})}),[f,b,o,T,m,v,d,n]),A=m>0,N=-1===M?D.length>=v:m<M-1,L=t.useCallback((function(e){S({type:l.gotoPage,pageIndex:e})}),[S]),O=t.useCallback((function(){return L((function(e){return e-1}))}),[L]),F=t.useCallback((function(){return L((function(e){return e+1}))}),[L]),H=t.useCallback((function(e){S({type:l.setPageSize,pageSize:e})}),[S]);Object.assign(e,{pageOptions:I,pageCount:M,page:D,canPreviousPage:A,canNextPage:N,gotoPage:L,previousPage:O,nextPage:F,setPageSize:H})}et.pluginName="usePagination",l.resetPivot="resetPivot",l.togglePivot="togglePivot";var it=function(e){e.getPivotToggleProps=[at],e.stateReducers.push(ot),e.useInstanceAfterData.push(st),e.allColumns.push(lt),e.accessValue.push(ut),e.materializedColumns.push(ct),e.materializedColumnsDeps.push(dt),e.visibleColumns.push(ht),e.visibleColumnsDeps.push(ft),e.useInstance.push(pt),e.prepareRow.push(vt)};it.pluginName="usePivotColumns";var rt=[],at=function(e,t){var n=t.header;return[e,{onClick:n.canPivot?function(e){e.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function ot(e,t,n,i){if(t.type===l.init)return a({pivotColumns:rt},e);if(t.type===l.resetPivot)return a({},e,{pivotColumns:i.initialState.pivotColumns||rt});if(t.type===l.togglePivot){var r=t.columnId,o=t.value,s=void 0!==o?o:!e.pivotColumns.includes(r);return a({},e,s?{pivotColumns:[].concat(e.pivotColumns,[r])}:{pivotColumns:e.pivotColumns.filter((function(e){return e!==r}))})}}function st(e){e.allColumns.forEach((function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)}))}function lt(e,t){var n=t.instance;return e.forEach((function(e){e.isPivotSource=n.state.pivotColumns.includes(e.id),e.uniqueValues=new Set})),e}function ut(e,t){var n=t.column;return n.uniqueValues&&void 0!==e&&n.uniqueValues.add(e),e}function ct(e,t){var n=t.instance,i=n.allColumns,r=n.state;if(!r.pivotColumns.length||!r.groupBy||!r.groupBy.length)return e;var o=r.pivotColumns.map((function(e){return i.find((function(t){return t.id===e}))})).filter(Boolean),s=i.filter((function(e){return!e.isPivotSource&&!r.groupBy.includes(e.id)&&!r.pivotColumns.includes(e.id)})),l=C(function e(t,n,i){void 0===t&&(t=0),void 0===i&&(i=[]);var r=o[t];return r?Array.from(r.uniqueValues).sort().map((function(o){var s=a({},r,{Header:r.PivotHeader||"string"==typeof r.header?r.Header+": "+o:o,isPivotGroup:!0,parent:n,depth:t,id:n?n.id+"."+r.id+"."+o:r.id+"."+o,pivotValue:o});return s.columns=e(t+1,s,[].concat(i,[function(e){return e.values[r.id]===o}])),s})):s.map((function(e){return a({},e,{canPivot:!1,isPivoted:!0,parent:n,depth:t,id:""+(n?n.id+"."+e.id:e.id),accessor:function(t,n,r){if(i.every((function(e){return e(r)})))return r.values[e.id]}})}))}());return[].concat(e,l)}function dt(e,t){var n=t.instance.state,i=n.pivotColumns,r=n.groupBy;return[].concat(e,[i,r])}function ht(e,t){var n=t.instance.state;return e=e.filter((function(e){return!e.isPivotSource})),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(e=e.filter((function(e){return e.isGrouped||e.isPivoted}))),e}function ft(e,t){var n=t.instance;return[].concat(e,[n.state.pivotColumns,n.state.groupBy])}function pt(e){var t=e.columns,n=e.allColumns,i=e.flatHeaders,r=e.getHooks,a=e.plugins,o=e.dispatch,s=e.autoResetPivot,u=void 0===s||s,c=e.manaulPivot,d=e.disablePivot,h=e.defaultCanPivot;g(a,["useGroupBy"],"usePivotColumns");var p=y(e);n.forEach((function(t){var n=t.accessor,i=t.defaultPivot,r=t.disablePivot;t.canPivot=n?M(t.canPivot,!0!==r&&void 0,!0!==d&&void 0,!0):M(t.canPivot,i,h,!1),t.canPivot&&(t.togglePivot=function(){return e.togglePivot(t.id)}),t.Aggregated=t.Aggregated||t.Cell})),i.forEach((function(e){e.getPivotToggleProps=f(r().getPivotToggleProps,{instance:p(),header:e})}));var v=y(u);_((function(){v()&&o({type:l.resetPivot})}),[o,c?null:t]),Object.assign(e,{togglePivot:function(e,t){o({type:l.togglePivot,columnId:e,value:t})}})}function vt(e){e.allCells.forEach((function(e){e.isPivoted=e.column.isPivoted}))}l.resetSelectedRows="resetSelectedRows",l.toggleAllRowsSelected="toggleAllRowsSelected",l.toggleRowSelected="toggleRowSelected",l.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var gt=function(e){e.getToggleRowSelectedProps=[mt],e.getToggleAllRowsSelectedProps=[yt],e.getToggleAllPageRowsSelectedProps=[bt],e.stateReducers.push(_t),e.useInstance.push(xt),e.prepareRow.push(wt)};gt.pluginName="useRowSelect";var mt=function(e,t){var n=t.instance,i=t.row,r=n.manualRowSelectedKey,a=void 0===r?"isSelected":r;return[e,{onChange:function(e){i.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!i.original||!i.original[a])||i.isSelected,title:"Toggle Row Selected",indeterminate:i.isSomeSelected}]},yt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},bt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(e){var t=e.id;return n.state.selectedRowIds[t]})))}]};function _t(e,t,n,i){if(t.type===l.init)return a({selectedRowIds:{}},e);if(t.type===l.resetSelectedRows)return a({},e,{selectedRowIds:i.initialState.selectedRowIds||{}});if(t.type===l.toggleAllRowsSelected){var r=t.value,o=i.isAllRowsSelected,s=i.rowsById,u=i.nonGroupedRowsById,c=void 0===u?s:u,d=void 0!==r?r:!o,h=Object.assign({},e.selectedRowIds);return d?Object.keys(c).forEach((function(e){h[e]=!0})):Object.keys(c).forEach((function(e){delete h[e]})),a({},e,{selectedRowIds:h})}if(t.type===l.toggleRowSelected){var f=t.id,p=t.value,v=i.rowsById,g=i.selectSubRows,m=void 0===g||g,y=i.getSubRows,b=e.selectedRowIds[f],_=void 0!==p?p:!b;if(b===_)return e;var x=a({},e.selectedRowIds);return function e(t){var n=v[t];if(n&&(n.isGrouped||(_?x[t]=!0:delete x[t]),m&&y(n)))return y(n).forEach((function(t){return e(t.id)}))}(f),a({},e,{selectedRowIds:x})}if(t.type===l.toggleAllPageRowsSelected){var w=t.value,k=i.page,C=i.rowsById,S=i.selectSubRows,E=void 0===S||S,T=i.isAllPageRowsSelected,R=i.getSubRows,M=void 0!==w?w:!T,I=a({},e.selectedRowIds);return k.forEach((function(e){return function e(t){var n=C[t];if(n.isGrouped||(M?I[t]=!0:delete I[t]),E&&R(n))return R(n).forEach((function(t){return e(t.id)}))}(e.id)})),a({},e,{selectedRowIds:I})}return e}function xt(e){var n=e.data,i=e.rows,r=e.getHooks,a=e.plugins,o=e.rowsById,s=e.nonGroupedRowsById,u=void 0===s?o:s,c=e.autoResetSelectedRows,d=void 0===c||c,h=e.state.selectedRowIds,p=e.selectSubRows,v=void 0===p||p,m=e.dispatch,b=e.page,x=e.getSubRows;g(a,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var w=t.useMemo((function(){var e=[];return i.forEach((function(t){var n=v?function e(t,n,i){if(n[t.id])return!0;var r=i(t);if(r&&r.length){var a=!0,o=!1;return r.forEach((function(t){o&&!a||(e(t,n,i)?o=!0:a=!1)})),!!a||!!o&&null}return!1}(t,h,x):!!h[t.id];t.isSelected=!!n,t.isSomeSelected=null===n,n&&e.push(t)})),e}),[i,v,h,x]),k=Boolean(Object.keys(u).length&&Object.keys(h).length),C=k;k&&Object.keys(u).some((function(e){return!h[e]}))&&(k=!1),k||b&&b.length&&b.some((function(e){var t=e.id;return!h[t]}))&&(C=!1);var S=y(d);_((function(){S()&&m({type:l.resetSelectedRows})}),[m,n]);var E=t.useCallback((function(e){return m({type:l.toggleAllRowsSelected,value:e})}),[m]),T=t.useCallback((function(e){return m({type:l.toggleAllPageRowsSelected,value:e})}),[m]),R=t.useCallback((function(e,t){return m({type:l.toggleRowSelected,id:e,value:t})}),[m]),M=y(e),I=f(r().getToggleAllRowsSelectedProps,{instance:M()}),D=f(r().getToggleAllPageRowsSelectedProps,{instance:M()});Object.assign(e,{selectedFlatRows:w,isAllRowsSelected:k,isAllPageRowsSelected:C,toggleRowSelected:R,toggleAllRowsSelected:E,getToggleAllRowsSelectedProps:I,getToggleAllPageRowsSelectedProps:D,toggleAllPageRowsSelected:T})}function wt(e,t){var n=t.instance;e.toggleRowSelected=function(t){return n.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=f(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}var kt=function(e){return{}},Ct=function(e){return{}};l.setRowState="setRowState",l.setCellState="setCellState",l.resetRowState="resetRowState";var St=function(e){e.stateReducers.push(Et),e.useInstance.push(Tt),e.prepareRow.push(Rt)};function Et(e,t,n,i){var r=i.initialRowStateAccessor,o=void 0===r?kt:r,s=i.initialCellStateAccessor,u=void 0===s?Ct:s,c=i.rowsById;if(t.type===l.init)return a({rowState:{}},e);if(t.type===l.resetRowState)return a({},e,{rowState:i.initialState.rowState||{}});if(t.type===l.setRowState){var d,h=t.rowId,f=t.value,p=void 0!==e.rowState[h]?e.rowState[h]:o(c[h]);return a({},e,{rowState:a({},e.rowState,(d={},d[h]=m(f,p),d))})}if(t.type===l.setCellState){var v,g,y,b,_,x=t.rowId,w=t.columnId,k=t.value,C=void 0!==e.rowState[x]?e.rowState[x]:o(c[x]),S=void 0!==(null==C||null==(v=C.cellState)?void 0:v[w])?C.cellState[w]:u(null==(g=c[x])||null==(y=g.cells)?void 0:y.find((function(e){return e.column.id===w})));return a({},e,{rowState:a({},e.rowState,(_={},_[x]=a({},C,{cellState:a({},C.cellState||{},(b={},b[w]=m(k,S),b))}),_))})}}function Tt(e){var n=e.autoResetRowState,i=void 0===n||n,r=e.data,a=e.dispatch,o=t.useCallback((function(e,t){return a({type:l.setRowState,rowId:e,value:t})}),[a]),s=t.useCallback((function(e,t,n){return a({type:l.setCellState,rowId:e,columnId:t,value:n})}),[a]),u=y(i);_((function(){u()&&a({type:l.resetRowState})}),[r]),Object.assign(e,{setRowState:o,setCellState:s})}function Rt(e,t){var n=t.instance,i=n.initialRowStateAccessor,r=void 0===i?kt:i,a=n.initialCellStateAccessor,o=void 0===a?Ct:a,s=n.state.rowState;e&&(e.state=void 0!==s[e.id]?s[e.id]:r(e),e.setState=function(t){return n.setRowState(e.id,t)},e.cells.forEach((function(t){e.state.cellState||(e.state.cellState={}),t.state=void 0!==e.state.cellState[t.column.id]?e.state.cellState[t.column.id]:o(t),t.setState=function(i){return n.setCellState(e.id,t.column.id,i)}})))}St.pluginName="useRowState",l.resetColumnOrder="resetColumnOrder",l.setColumnOrder="setColumnOrder";var Mt=function(e){e.stateReducers.push(It),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.columnOrder])})),e.visibleColumns.push(Dt),e.useInstance.push(Pt)};function It(e,t,n,i){return t.type===l.init?a({columnOrder:[]},e):t.type===l.resetColumnOrder?a({},e,{columnOrder:i.initialState.columnOrder||[]}):t.type===l.setColumnOrder?a({},e,{columnOrder:m(t.columnOrder,e.columnOrder)}):void 0}function Dt(e,t){var n=t.instance.state.columnOrder;if(!n||!n.length)return e;for(var i=[].concat(n),r=[].concat(e),a=[],o=function(){var e=i.shift(),t=r.findIndex((function(t){return t.id===e}));t>-1&&a.push(r.splice(t,1)[0])};r.length&&i.length;)o();return[].concat(a,r)}function Pt(e){var n=e.dispatch;e.setColumnOrder=t.useCallback((function(e){return n({type:l.setColumnOrder,columnOrder:e})}),[n])}Mt.pluginName="useColumnOrder",d.canResize=!0,l.columnStartResizing="columnStartResizing",l.columnResizing="columnResizing",l.columnDoneResizing="columnDoneResizing",l.resetResize="resetResize";var At=function(e){e.getResizerProps=[Nt],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(Lt),e.useInstance.push(Ft),e.useInstanceBeforeDimensions.push(Ot)},Nt=function(e,t){var n=t.instance,i=t.header,r=n.dispatch,a=function(e,t){var n=!1;if("touchstart"===e.type){if(e.touches&&e.touches.length>1)return;n=!0}var i,a,o=function(e){var t=[];return function e(n){n.columns&&n.columns.length&&n.columns.map(e),t.push(n)}(e),t}(t).map((function(e){return[e.id,e.totalWidth]})),s=n?Math.round(e.touches[0].clientX):e.clientX,u=function(){window.cancelAnimationFrame(i),i=null,r({type:l.columnDoneResizing})},c=function(){window.cancelAnimationFrame(i),i=null,r({type:l.columnResizing,clientX:a})},d=function(e){a=e,i||(i=window.requestAnimationFrame(c))},h={mouse:{moveEvent:"mousemove",moveHandler:function(e){return d(e.clientX)},upEvent:"mouseup",upHandler:function(e){document.removeEventListener("mousemove",h.mouse.moveHandler),document.removeEventListener("mouseup",h.mouse.upHandler),u()}},touch:{moveEvent:"touchmove",moveHandler:function(e){return e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(e){document.removeEventListener(h.touch.moveEvent,h.touch.moveHandler),document.removeEventListener(h.touch.upEvent,h.touch.moveHandler),u()}}},f=n?h.touch:h.mouse,p=!!function(){if("boolean"==typeof O)return O;var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return O=e}()&&{passive:!1};document.addEventListener(f.moveEvent,f.moveHandler,p),document.addEventListener(f.upEvent,f.upHandler,p),r({type:l.columnStartResizing,columnId:t.id,columnWidth:t.totalWidth,headerIdWidths:o,clientX:s})};return[e,{onMouseDown:function(e){return e.persist()||a(e,i)},onTouchStart:function(e){return e.persist()||a(e,i)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function Lt(e,t){if(t.type===l.init)return a({columnResizing:{columnWidths:{}}},e);if(t.type===l.resetResize)return a({},e,{columnResizing:{columnWidths:{}}});if(t.type===l.columnStartResizing){var n=t.clientX,i=t.columnId,r=t.columnWidth,o=t.headerIdWidths;return a({},e,{columnResizing:a({},e.columnResizing,{startX:n,headerIdWidths:o,columnWidth:r,isResizingColumn:i})})}if(t.type===l.columnResizing){var s=t.clientX,u=e.columnResizing,c=u.startX,d=u.columnWidth,h=u.headerIdWidths,f=(s-c)/d,p={};return(void 0===h?[]:h).forEach((function(e){var t=e[0],n=e[1];p[t]=Math.max(n+n*f,0)})),a({},e,{columnResizing:a({},e.columnResizing,{columnWidths:a({},e.columnResizing.columnWidths,{},p)})})}return t.type===l.columnDoneResizing?a({},e,{columnResizing:a({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}At.pluginName="useResizeColumns";var Ot=function(e){var t=e.flatHeaders,n=e.disableResizing,i=e.getHooks,r=e.state.columnResizing,a=y(e);t.forEach((function(e){var t=M(!0!==e.disableResizing&&void 0,!0!==n&&void 0,!0);e.canResize=t,e.width=r.columnWidths[e.id]||e.originalWidth||e.width,e.isResizing=r.isResizingColumn===e.id,t&&(e.getResizerProps=f(i().getResizerProps,{instance:a(),header:e}))}))};function Ft(e){var n=e.plugins,i=e.dispatch,r=e.autoResetResize,a=void 0===r||r,o=e.columns;g(n,["useAbsoluteLayout"],"useResizeColumns");var s=y(a);_((function(){s()&&i({type:l.resetResize})}),[o]);var u=t.useCallback((function(){return i({type:l.resetResize})}),[i]);Object.assign(e,{resetResizing:u})}var Ht={position:"absolute",top:0},jt=function(e){e.getTableBodyProps.push(zt),e.getRowProps.push(zt),e.getHeaderGroupProps.push(zt),e.getFooterGroupProps.push(zt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:a({},Ht,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:a({},Ht,{left:n.column.totalLeft+"px",width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:a({},Ht,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]}))};jt.pluginName="useAbsoluteLayout";var zt=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},Bt={display:"inline-block",boxSizing:"border-box"},Ut=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},Wt=function(e){e.getRowProps.push(Ut),e.getHeaderGroupProps.push(Ut),e.getFooterGroupProps.push(Ut),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:a({},Bt,{width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:a({},Bt,{width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:a({},Bt,{width:n.totalWidth+"px"})}]}))};function Gt(e){e.getTableProps.push(Yt),e.getRowProps.push(Vt),e.getHeaderGroupProps.push(Vt),e.getFooterGroupProps.push(Vt),e.getHeaderProps.push(Zt),e.getCellProps.push(qt),e.getFooterProps.push(Jt)}Wt.pluginName="useBlockLayout",Gt.pluginName="useFlexLayout";var Yt=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Vt=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Zt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},qt=function(e,t){var n=t.cell;return[e,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},Jt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Xt(e){e.stateReducers.push(en),e.getTableProps.push(Kt),e.getHeaderProps.push(Qt),e.getRowProps.push($t)}l.columnStartResizing="columnStartResizing",l.columnResizing="columnResizing",l.columnDoneResizing="columnDoneResizing",l.resetResize="resetResize",Xt.pluginName="useGridLayout";var Kt=function(e,t){var n=t.instance;return[e,{style:{display:"grid",gridTemplateColumns:n.visibleColumns.map((function(e){var t;return n.state.gridLayout.columnWidths[e.id]?n.state.gridLayout.columnWidths[e.id]+"px":(null==(t=n.state.columnResizing)?void 0:t.isResizingColumn)?n.state.gridLayout.startWidths[e.id]+"px":"number"==typeof e.width?e.width+"px":e.width})).join(" ")}}]},Qt=function(e,t){var n=t.column;return[e,{id:"header-cell-"+n.id,style:{position:"sticky",gridColumn:"span "+n.totalVisibleHeaderCount}}]},$t=function(e,t){var n=t.row;return n.isExpanded?[e,{style:{gridColumn:"1 / "+(n.cells.length+1)}}]:[e,{}]};function en(e,t,n,i){if(t.type===l.init)return a({gridLayout:{columnWidths:{}}},e);if(t.type===l.resetResize)return a({},e,{gridLayout:{columnWidths:{}}});if(t.type===l.columnStartResizing){var r=t.columnId,o=t.headerIdWidths,s=tn(r);if(void 0!==s){var u=i.visibleColumns.reduce((function(e,t){var n;return a({},e,((n={})[t.id]=tn(t.id),n))}),{}),c=i.visibleColumns.reduce((function(e,t){var n;return a({},e,((n={})[t.id]=t.minWidth,n))}),{}),d=i.visibleColumns.reduce((function(e,t){var n;return a({},e,((n={})[t.id]=t.maxWidth,n))}),{}),h=o.map((function(e){var t=e[0];return[t,tn(t)]}));return a({},e,{gridLayout:a({},e.gridLayout,{startWidths:u,minWidths:c,maxWidths:d,headerIdGridWidths:h,columnWidth:s})})}return e}if(t.type===l.columnResizing){var f=t.clientX,p=e.columnResizing.startX,v=e.gridLayout,g=v.columnWidth,m=v.minWidths,y=v.maxWidths,b=v.headerIdGridWidths,_=(f-p)/g,x={};return(void 0===b?[]:b).forEach((function(e){var t=e[0],n=e[1];x[t]=Math.min(Math.max(m[t],n+n*_),y[t])})),a({},e,{gridLayout:a({},e.gridLayout,{columnWidths:a({},e.gridLayout.columnWidths,{},x)})})}return t.type===l.columnDoneResizing?a({},e,{gridLayout:a({},e.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function tn(e){var t,n=null==(t=document.getElementById("header-cell-"+e))?void 0:t.offsetWidth;if(void 0!==n)return n}e._UNSTABLE_usePivotColumns=it,e.actions=l,e.defaultColumn=d,e.defaultGroupByFn=We,e.defaultOrderByFn=$e,e.defaultRenderer=u,e.emptyRenderer=c,e.ensurePluginOrder=g,e.flexRender=w,e.functionalUpdate=m,e.loopHooks=v,e.makePropGetter=f,e.makeRenderer=x,e.reduceHooks=p,e.safeUseLayoutEffect=b,e.useAbsoluteLayout=jt,e.useAsyncDebounce=function(e,n){void 0===n&&(n=0);var a=t.useRef({}),o=y(e),s=y(n);return t.useCallback(function(){var e=r(i().mark((function e(){var t,n,l,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=u.length,n=new Array(t),l=0;l<t;l++)n[l]=u[l];return a.current.promise||(a.current.promise=new Promise((function(e,t){a.current.resolve=e,a.current.reject=t}))),a.current.timeout&&clearTimeout(a.current.timeout),a.current.timeout=setTimeout(r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete a.current.timeout,e.prev=1,e.t0=a.current,e.next=5,o().apply(void 0,n);case 5:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),a.current.reject(e.t2);case 12:return e.prev=12,delete a.current.promise,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),s()),e.abrupt("return",a.current.promise);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[o,s])},e.useBlockLayout=Wt,e.useColumnOrder=Mt,e.useExpanded=ue,e.useFilters=Ee,e.useFlexLayout=Gt,e.useGetLatest=y,e.useGlobalFilter=Me,e.useGridLayout=Xt,e.useGroupBy=Oe,e.useMountedLayoutEffect=_,e.usePagination=et,e.useResizeColumns=At,e.useRowSelect=gt,e.useRowState=St,e.useSortBy=Je,e.useTable=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e=oe(e),i=[q].concat(i);var o=y(t.useRef({}).current);Object.assign(o(),a({},e,{plugins:i,hooks:Z()})),i.filter(Boolean).forEach((function(e){e(o().hooks)}));var s=y(o().hooks);o().getHooks=s,delete o().hooks,Object.assign(o(),p(s().useOptions,oe(e)));var u=o(),c=u.data,d=u.columns,h=u.initialState,g=u.defaultColumn,m=u.getSubRows,b=u.getRowId,_=u.stateReducer,w=u.useControlledState,R=y(_),M=t.useCallback((function(e,t){if(!t.type)throw console.info({action:t}),new Error("Unknown Action \ud83d\udc46");return[].concat(s().stateReducers,Array.isArray(R())?R():[R()]).reduce((function(n,i){return i(n,t,e,o())||n}),e)}),[s,R,o]),I=t.useReducer(M,void 0,(function(){return M(h,{type:l.init})})),D=I[0],P=I[1],A=p([].concat(s().useControlledState,[w]),D,{instance:o()});Object.assign(o(),{state:A,dispatch:P});var N=t.useMemo((function(){return k(p(s().columns,d,{instance:o()}))}),[s,o,d].concat(p(s().columnsDeps,[],{instance:o()})));o().columns=N;var L=t.useMemo((function(){return p(s().allColumns,C(N),{instance:o()}).map(S)}),[N,s,o].concat(p(s().allColumnsDeps,[],{instance:o()})));o().allColumns=L;var O=t.useMemo((function(){for(var e=[],t=[],n={},i=[].concat(L);i.length;){var r=i.shift();le({data:c,rows:e,flatRows:t,rowsById:n,column:r,getRowId:b,getSubRows:m,accessValueHooks:s().accessValue,getInstance:o})}return[e,t,n]}),[L,c,b,m,s,o]),F=O[0],H=O[1],j=O[2];Object.assign(o(),{rows:F,initialRows:[].concat(F),flatRows:H,rowsById:j}),v(s().useInstanceAfterData,o());var z=t.useMemo((function(){return p(s().visibleColumns,L,{instance:o()}).map((function(e){return E(e,g)}))}),[s,L,o,g].concat(p(s().visibleColumnsDeps,[],{instance:o()})));L=t.useMemo((function(){var e=[].concat(z);return L.forEach((function(t){e.find((function(e){return e.id===t.id}))||e.push(t)})),e}),[L,z]),o().allColumns=L;var B=t.useMemo((function(){return p(s().headerGroups,T(z,g),o())}),[s,z,g,o].concat(p(s().headerGroupsDeps,[],{instance:o()})));o().headerGroups=B;var U=t.useMemo((function(){return B.length?B[0].headers:[]}),[B]);o().headers=U,o().flatHeaders=B.reduce((function(e,t){return[].concat(e,t.headers)}),[]),v(s().useInstanceBeforeDimensions,o());var W=z.filter((function(e){return e.isVisible})).map((function(e){return e.id})).sort().join("_");z=t.useMemo((function(){return z.filter((function(e){return e.isVisible}))}),[z,W]),o().visibleColumns=z;var G=se(U),Y=G[0],V=G[1],J=G[2];return o().totalColumnsMinWidth=Y,o().totalColumnsWidth=V,o().totalColumnsMaxWidth=J,v(s().useInstance,o()),[].concat(o().flatHeaders,o().allColumns).forEach((function(e){e.render=x(o(),e),e.getHeaderProps=f(s().getHeaderProps,{instance:o(),column:e}),e.getFooterProps=f(s().getFooterProps,{instance:o(),column:e})})),o().headerGroups=t.useMemo((function(){return B.filter((function(e,t){return e.headers=e.headers.filter((function(e){return e.headers?function e(t){return t.filter((function(t){return t.headers?e(t.headers):t.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=f(s().getHeaderGroupProps,{instance:o(),headerGroup:e,index:t}),e.getFooterGroupProps=f(s().getFooterGroupProps,{instance:o(),headerGroup:e,index:t}),!0)}))}),[B,o,s]),o().footerGroups=[].concat(o().headerGroups).reverse(),o().prepareRow=t.useCallback((function(e){e.getRowProps=f(s().getRowProps,{instance:o(),row:e}),e.allCells=L.map((function(t){var n=e.values[t.id],i={column:t,row:e,value:n};return i.getCellProps=f(s().getCellProps,{instance:o(),cell:i}),i.render=x(o(),t,{row:e,cell:i,value:n}),i})),e.cells=z.map((function(t){return e.allCells.find((function(e){return e.column.id===t.id}))})),v(s().prepareRow,e,{instance:o()})}),[s,o,L,z]),o().getTableProps=f(s().getTableProps,{instance:o()}),o().getTableBodyProps=f(s().getTableBodyProps,{instance:o()}),v(s().useFinalInstance,o()),o()},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(791))},358:function(e,t,n){e.exports=n(707)},374:function(e,t,n){"use strict";var i=n(791),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var i,a={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:r,type:e,key:u,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},117:function(e,t){"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var _=b.prototype=new y;_.constructor=b,v(_,m.prototype),_.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,i){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!C.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,r,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=e),e=""===a?"."+R(l,0):a,x(o)?(r="",null!=e&&(r=e.replace(T,"$&/")+"/"),M(o,t,r,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",x(e))for(var u=0;u<e.length;u++){var c=a+R(s=e[u],u);l+=M(s,t,r,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=M(s=s.value,t,r,c=a+R(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var i=[],r=0;return M(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},A={transition:null},N={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:A,ReactCurrentOwner:k};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=r,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!C.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var s=2*(i+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<r&&0>a(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[s]=n,i=s);else{if(!(u<r&&0>a(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function x(e){if(g=!1,_(e),!v)if(null!==i(u))v=!0,A(w);else{var t=i(c);null!==t&&N(x,t.startTime-e)}}function w(e,n){v=!1,g&&(g=!1,y(E),E=-1),p=!0;var a=f;try{for(_(n),h=i(u);null!==h&&(!(h.expirationTime>n)||e&&!M());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===i(u)&&r(u),_(n)}else r(u);h=i(u)}if(null!==h)var l=!0;else{var d=i(c);null!==d&&N(x,d.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,S=null,E=-1,T=5,R=-1;function M(){return!(t.unstable_now()-R<T)}function I(){if(null!==S){var e=t.unstable_now();R=e;var n=!0;try{n=S(!0,e)}finally{n?k():(C=!1,S=null)}}else C=!1}if("function"===typeof b)k=function(){b(I)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=I,k=function(){P.postMessage(null)}}else k=function(){m(I,0)};function A(e){S=e,C||(C=!0,k())}function N(e,n){E=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,A(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,r,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===i(u)&&e===i(c)&&(g?(y(E),E=-1):g=!0,N(x,a-o))):(e.sortIndex=s,n(u,e),v||p||(v=!0,A(w))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},61:function(e,t,n){var i=n(698).default;function r(){"use strict";e.exports=r=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(t){h=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var r=t&&t.prototype instanceof _?t:_,a=Object.create(r.prototype),o=new A(i||[]);return s(a,"_invoke",{value:M(e,n,o)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var v="suspendedStart",g="suspendedYield",m="executing",y="completed",b={};function _(){}function x(){}function w(){}var k={};h(k,u,(function(){return this}));var C=Object.getPrototypeOf,S=C&&C(C(N([])));S&&S!==a&&o.call(S,u)&&(k=S);var E=w.prototype=_.prototype=Object.create(k);function T(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function n(r,a,s,l){var u=p(e[r],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==i(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var r;s(this,"_invoke",{value:function(e,i){function a(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(a,a):a()}})}function M(e,n,i){var r=v;return function(a,o){if(r===m)throw new Error("Generator is already running");if(r===y){if("throw"===a)throw o;return{value:t,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=I(s,i);if(l){if(l===b)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===v)throw r=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=m;var u=p(e,n,i);if("normal"===u.type){if(r=i.done?y:g,u.arg===b)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=y,i.method="throw",i.arg=u.arg)}}}function I(e,n){var i=n.method,r=e.iterator[i];if(r===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),b;var a=p(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function N(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return x.prototype=w,s(E,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:x,configurable:!0}),x.displayName=h(w,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,h(e,d,"GeneratorFunction")),e.prototype=Object.create(E),e},n.awrap=function(e){return{__await:e}},T(R.prototype),h(R.prototype,c,(function(){return this})),n.AsyncIterator=R,n.async=function(e,t,i,r,a){void 0===a&&(a=Promise);var o=new R(f(e,t,i,r),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(E),h(E,d,"Generator"),h(E,u,(function(){return this})),h(E,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=N,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:N(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),b}},n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}!function(){"use strict";var e=n(791),t=n(250);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=n(184),s=function(t){var n=t.show,i=(t.hide,t.defaultCollapsed),r=t.children,s=a((0,e.useState)(i),2),l=s[0],u=s[1];return(0,o.jsx)("div",{className:"container",onClick:function(){return u(!l)},children:(0,o.jsxs)("div",{className:"collapsible-header-vertical ".concat(l?"collapsed":""),children:[l&&(0,o.jsx)("div",{className:"toggle-text",children:n}),!l&&(0,o.jsx)("div",{className:"header-content",children:r})]})})};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(){u=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function h(e,t,n,i){var a=t&&t.prototype instanceof b?t:b,o=Object.create(a.prototype),s=new P(i||[]);return r(o,"_invoke",{value:R(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function b(){}function _(){}function x(){}var w={};d(w,o,(function(){return this}));var k=Object.getPrototypeOf,C=k&&k(k(A([])));C&&C!==n&&i.call(C,o)&&(w=C);var S=x.prototype=b.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,a,o,s){var u=f(e[r],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==l(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function R(t,n,i){var r=p;return function(a,o){if(r===g)throw new Error("Generator is already running");if(r===m){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=M(s,i);if(l){if(l===y)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===p)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=g;var u=f(t,n,i);if("normal"===u.type){if(r=i.done?m:v,u.arg===y)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=m,i.method="throw",i.arg=u.arg)}}}function M(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,M(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),y;var a=f(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(l(t)+" is not iterable")}return _.prototype=x,r(S,"constructor",{value:x,configurable:!0}),r(x,"constructor",{value:_,configurable:!0}),_.displayName=d(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),d(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new T(h(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(S),d(S,c,"Generator"),d(S,o,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;D(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:A(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function c(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){c(a,i,r,o,s,"next",e)}function s(e){c(a,i,r,o,s,"throw",e)}o(void 0)}))}}function h(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function f(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=n(358),y=function(t){var n=t.columns,i=t.data,r=t.onSelectedRowsChange,s=a((0,e.useState)([]),2),l=(s[0],s[1]),u=(0,m.useTable)({columns:n,data:i},m.useFilters,m.useSortBy,m.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("input",v({type:"checkbox"},t()))})},Cell:function(e){var t=e.row;return(0,o.jsx)("input",v({type:"checkbox"},t.getToggleRowSelectedProps()))}}].concat(g(e))}))})),c=u.getTableProps,d=u.getTableBodyProps,h=u.headerGroups,f=u.rows,p=u.prepareRow,y=u.state.selectedRowIds;return e.useEffect((function(){var e=[];f.forEach((function(t){y[t.id]&&e.push(t.original)})),l(e)}),[y,f]),e.useEffect((function(){var e=[];f.forEach((function(t){y[t.id]&&e.push(t.original)})),l(e),r&&r(e)}),[y,f]),(0,o.jsx)("div",{className:"tableContainer",children:(0,o.jsxs)("table",v(v({},c()),{},{style:{border:"solid 1px blue"},children:[(0,o.jsx)("thead",{children:h.map((function(e){return(0,o.jsx)("tr",v(v({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,o.jsxs)("th",v(v({},e.getHeaderProps(e.getSortByToggleProps())),{},{style:{borderBottom:"solid 2px red",background:"aliceblue",color:"black",fontWeight:"bold"},children:[e.render("Header"),(0,o.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""}),(0,o.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]}))}))}))}))}),(0,o.jsx)("tbody",v(v({},d()),{},{children:f.map((function(e){return p(e),(0,o.jsx)("tr",v(v({},e.getRowProps()),{},{children:e.cells.map((function(e){return(0,o.jsx)("td",v(v({},e.getCellProps()),{},{style:{padding:"10px",border:"solid 1px gray"},children:e.render("Cell")}))}))}))}))}))]}))})};var b=function(t){var n=t.options,i=t.placeholder,r=t.onChange,s=a((0,e.useState)(!1),2),l=s[0],u=s[1],c=a((0,e.useState)(null),2),d=c[0],h=c[1];return(0,o.jsxs)("div",{className:"dropdown-container",children:[(0,o.jsxs)("div",{className:"dropdown-header",onClick:function(){u(!l)},children:[d||i,(0,o.jsx)("span",{children:l?"\u25b2":"\u25bc"})]}),l&&(0,o.jsx)("ul",{className:"dropdown-list",children:n.map((function(e,t){return(0,o.jsx)("li",{onClick:function(){return function(e){h(e),u(!1),r&&r(e)}(e)},className:"dropdown-list-item",children:e},t)}))}),(0,o.jsx)("style",{jsx:!0,children:"\n        .dropdown-container {\n          position: relative;\n          width: 150px;\n          font-family: Arial, sans-serif;\n        }\n        .dropdown-header {\n          padding: 10px;\n          background: #f7f7f7;\n          border: 1px solid #ccc;\n          cursor: pointer;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        .dropdown-list {\n          border: 1px solid #ccc;\n          max-height: 150px;\n          overflow-y: auto;\n          position: absolute;\n          width: 100%;\n          z-index: 1000;\n          background: #fff;\n        }\n        .dropdown-list-item {\n          padding: 10px;\n          cursor: pointer;\n          transition: background-color 0.2s;\n        }\n        .dropdown-list-item:hover {\n          background-color: #f0f0f0;\n        }\n      "})]})},_=function(t){var n=t.selectedThreatData,i=t.selectedWeek,r=t.userTimes,s=t.onSaveData,l=a((0,e.useState)([]),2),u=l[0],c=l[1],d=a((0,e.useState)({}),2),h=d[0],p=d[1];(0,e.useEffect)((function(){c(n)}),[n]);var y=(0,e.useMemo)((function(){return[{Header:"Title",accessor:"Title"},{Header:"Serial Number",accessor:"location"},{Header:"System Type",accessor:"systemType"}].concat(g(i.map((function(e){return{Header:"".concat(e.date),accessor:"".concat(e.day),Cell:function(t){t.row;var n=e.day;return(0,o.jsx)(b,{options:["NONE","All"].concat(g(r.map((function(e){return"".concat(e.start," - ").concat(e.end)})))),placeholder:"Time Selector",onChange:function(e){console.log(e),function(e,t){p((function(n){return v(v({},n),{},f({},e,t))}))}(n,e)},value:h[n]})}}}))))}),[i,r]),_=(0,m.useTable)({columns:y,data:u}),x=_.getTableProps,w=_.getTableBodyProps,k=_.headerGroups,C=_.rows,S=_.prepareRow;return(0,e.useEffect)((function(){var e={};i.forEach((function(t){var n=t.day;e[n]="NONE"})),p(e)}),[i]),(0,o.jsxs)("div",{className:"tableContainer",children:[(0,o.jsxs)("table",v(v({},x()),{},{style:{border:"solid 1px blue"},children:[(0,o.jsx)("thead",{children:k.map((function(e){return(0,o.jsx)("tr",v(v({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,o.jsx)("th",v(v({},e.getHeaderProps()),{},{style:{borderBottom:"solid 2px red",background:"aliceblue",color:"black",fontWeight:"bold"},children:e.render("Header")}))}))}))}))}),(0,o.jsx)("tbody",v(v({},w()),{},{children:C.map((function(e){return S(e),(0,o.jsx)("tr",v(v({},e.getRowProps()),{},{children:e.cells.map((function(e){return(0,o.jsx)("td",v(v({},e.getCellProps()),{},{style:{padding:"10px",border:"solid 1px gray"},children:e.render("Cell")}))}))}))}))}))]})),(0,o.jsx)("button",{onClick:function(){return function(e){var t=u.map((function(t){var n={};return e.forEach((function(e,r){i.some((function(t){return t.day===e.accessor}))?n[e.Header]=h[e.accessor]||null:n[e.Header]=t[e.accessor]})),n}));s(t)}(y)},children:"Save as JSON"})]})};function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,h(i.key),i)}}function k(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(){return E="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},E.apply(this,arguments)}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function R(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function I(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function D(e){var t=M();return function(){var n,i=S(e);if(t){var r=S(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return I(this,n)}}var P=function(){function e(t){x(this,e),this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return k(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),e}(),A="propertychange",N=function(){function e(){x(this,e),this.disposed=!1}return k(e,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.disposeInternal())}},{key:"disposeInternal",value:function(){}}]),e}();function L(e,t){return e>t?1:e<t?-1:0}function O(e,t,n){if(e[0]<=t)return 0;var i=e.length;if(t<=e[i-1])return i-1;if("function"===typeof n){for(var r=1;r<i;++r){var a=e[r];if(a===t)return r;if(a<t)return n(t,e[r-1],a)>0?r-1:r}return i-1}if(n>0){for(var o=1;o<i;++o)if(e[o]<t)return o-1;return i-1}if(n<0){for(var s=1;s<i;++s)if(e[s]<=t)return s;return i-1}for(var l=1;l<i;++l){if(e[l]==t)return l;if(e[l]<t)return e[l-1]-t<t-e[l]?l-1:l}return i-1}function F(e,t,n){for(;t<n;){var i=e[t];e[t]=e[n],e[n]=i,++t,--n}}function H(e,t){for(var n=Array.isArray(t)?t:[t],i=n.length,r=0;r<i;r++)e[e.length]=n[r]}function j(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function z(){return!0}function B(){return!1}function U(){}function W(e){for(var t in e)delete e[t]}function G(e){var t;for(t in e)return!1;return!t}var Y=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),(i=t.call(this)).eventTarget_=e,i.pendingRemovals_=null,i.dispatching_=null,i.listeners_=null,i}return k(n,[{key:"addEventListener",value:function(e,t){if(e&&t){var n=this.listeners_||(this.listeners_={}),i=n[e]||(n[e]=[]);i.includes(t)||i.push(t)}}},{key:"dispatchEvent",value:function(e){var t="string"===typeof e,n=t?e:e.type,i=this.listeners_&&this.listeners_[n];if(i){var r=t?new P(e):e;r.target||(r.target=this.eventTarget_||this);var a,o=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});n in o||(o[n]=0,s[n]=0),++o[n];for(var l=0,u=i.length;l<u;++l)if(!1===(a="handleEvent"in i[l]?i[l].handleEvent(r):i[l].call(this,r))||r.propagationStopped){a=!1;break}if(0===--o[n]){var c=s[n];for(delete s[n];c--;)this.removeEventListener(n,U);delete o[n]}return a}}},{key:"disposeInternal",value:function(){this.listeners_&&W(this.listeners_)}},{key:"getListeners",value:function(e){return this.listeners_&&this.listeners_[e]||void 0}},{key:"hasListener",value:function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}},{key:"removeEventListener",value:function(e,t){var n=this.listeners_&&this.listeners_[e];if(n){var i=n.indexOf(t);-1!==i&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[i]=U,++this.pendingRemovals_[e]):(n.splice(i,1),0===n.length&&delete this.listeners_[e]))}}}]),n}(N),V=Y,Z="change",q="error",J="contextmenu",X="click",K="dblclick",Q="keydown",$="keypress",ee="load",te="touchmove",ne="wheel";function ie(e,t,n,i,r){if(i&&i!==e&&(n=n.bind(i)),r){var a=n;n=function(){e.removeEventListener(t,n),a.apply(this,arguments)}}var o={target:e,type:t,listener:n};return e.addEventListener(t,n),o}function re(e,t,n,i){return ie(e,t,n,i,!0)}function ae(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),W(e))}var oe=function(e){R(n,e);var t=D(n);function n(){var e;return x(this,n),(e=t.call(this)).on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return k(n,[{key:"changed",value:function(){++this.revision_,this.dispatchEvent(Z)}},{key:"getRevision",value:function(){return this.revision_}},{key:"onInternal",value:function(e,t){if(Array.isArray(e)){for(var n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=ie(this,e[r],t);return i}return ie(this,e,t)}},{key:"onceInternal",value:function(e,t){var n;if(Array.isArray(e)){var i=e.length;n=new Array(i);for(var r=0;r<i;++r)n[r]=re(this,e[r],t)}else n=re(this,e,t);return t.ol_key=n,n}},{key:"unInternal",value:function(e,t){var n=t.ol_key;if(n)!function(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)ae(e[t]);else ae(e)}(n);else if(Array.isArray(e))for(var i=0,r=e.length;i<r;++i)this.removeEventListener(e[i],t);else this.removeEventListener(e,t)}}]),n}(V);oe.prototype.on,oe.prototype.once,oe.prototype.un;var se=oe;function le(){throw new Error("Unimplemented abstract method.")}var ue=0;function ce(e){return e.ol_uid||(e.ol_uid=String(++ue))}var de=function(e){R(n,e);var t=D(n);function n(e,i,r){var a;return x(this,n),(a=t.call(this,e)).key=i,a.oldValue=r,a}return k(n)}(P),he=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),(i=t.call(this)).on,i.once,i.un,ce(C(i)),i.values_=null,void 0!==e&&i.setProperties(e),i}return k(n,[{key:"get",value:function(e){var t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}},{key:"getKeys",value:function(){return this.values_&&Object.keys(this.values_)||[]}},{key:"getProperties",value:function(){return this.values_&&Object.assign({},this.values_)||{}}},{key:"getPropertiesInternal",value:function(){return this.values_}},{key:"hasProperties",value:function(){return!!this.values_}},{key:"notify",value:function(e,t){var n;n="change:".concat(e),this.hasListener(n)&&this.dispatchEvent(new de(n,e,t)),n=A,this.hasListener(n)&&this.dispatchEvent(new de(n,e,t))}},{key:"addChangeListener",value:function(e,t){this.addEventListener("change:".concat(e),t)}},{key:"removeChangeListener",value:function(e,t){this.removeEventListener("change:".concat(e),t)}},{key:"set",value:function(e,t,n){var i=this.values_||(this.values_={});if(n)i[e]=t;else{var r=i[e];i[e]=t,r!==t&&this.notify(e,r)}}},{key:"setProperties",value:function(e,t){for(var n in e)this.set(n,e[n],t)}},{key:"applyProperties",value:function(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}},{key:"unset",value:function(e,t){if(this.values_&&e in this.values_){var n=this.values_[e];delete this.values_[e],G(this.values_)&&(this.values_=null),t||this.notify(e,n)}}}]),n}(se),fe="add",pe="remove",ve="length",ge=function(e){R(n,e);var t=D(n);function n(e,i,r){var a;return x(this,n),(a=t.call(this,e)).element=i,a.index=r,a}return k(n)}(P),me=function(e){R(n,e);var t=D(n);function n(e,i){var r;if(x(this,n),(r=t.call(this)).on,r.once,r.un,i=i||{},r.unique_=!!i.unique,r.array_=e||[],r.unique_)for(var a=0,o=r.array_.length;a<o;++a)r.assertUnique_(r.array_[a],a);return r.updateLength_(),r}return k(n,[{key:"clear",value:function(){for(;this.getLength()>0;)this.pop()}},{key:"extend",value:function(e){for(var t=0,n=e.length;t<n;++t)this.push(e[t]);return this}},{key:"forEach",value:function(e){for(var t=this.array_,n=0,i=t.length;n<i;++n)e(t[n],n,t)}},{key:"getArray",value:function(){return this.array_}},{key:"item",value:function(e){return this.array_[e]}},{key:"getLength",value:function(){return this.get(ve)}},{key:"insertAt",value:function(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new ge(fe,t,e))}},{key:"pop",value:function(){return this.removeAt(this.getLength()-1)}},{key:"push",value:function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()}},{key:"remove",value:function(e){for(var t=this.array_,n=0,i=t.length;n<i;++n)if(t[n]===e)return this.removeAt(n)}},{key:"removeAt",value:function(e){if(!(e<0||e>=this.getLength())){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new ge(pe,t,e)),t}}},{key:"setAt",value:function(e,t){if(e>=this.getLength())this.insertAt(e,t);else{if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);var n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new ge(pe,n,e)),this.dispatchEvent(new ge(fe,t,e))}}},{key:"updateLength_",value:function(){this.set(ve,this.array_.length)}},{key:"assertUnique_",value:function(e,t){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===e&&n!==t)throw new Error("Duplicate item added to a unique collection")}}]),n}(he),ye="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"",be=ye.includes("firefox"),_e=(ye.includes("safari")&&!ye.includes("chrom")&&(ye.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ye)),ye.includes("webkit")&&!ye.includes("edge")),xe=ye.includes("macintosh"),we="undefined"!==typeof devicePixelRatio?devicePixelRatio:1,ke="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,Ce="undefined"!==typeof Image&&Image.prototype.decode,Se=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(n){}return e}();function Ee(e,t){if(!e)throw new Error(t)}var Te;new Array(6);function Re(e,t,n,i,r,a,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=a,e[5]=o,e}function Me(e,t){var n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function Ie(e,t,n,i,r,a,o,s){var l=Math.sin(a),u=Math.cos(a);return e[0]=i*u,e[1]=r*l,e[2]=-i*l,e[3]=r*u,e[4]=o*i*u-s*i*l+t,e[5]=o*r*l+s*r*u+n,e}function De(e,t){var n,i=(n=t)[0]*n[3]-n[1]*n[2];Ee(0!==i,"Transformation matrix cannot be inverted");var r=t[0],a=t[1],o=t[2],s=t[3],l=t[4],u=t[5];return e[0]=s/i,e[1]=-a/i,e[2]=-o/i,e[3]=r/i,e[4]=(o*u-s*l)/i,e[5]=-(r*u-a*l)/i,e}function Pe(e){var t="matrix("+e.join(", ")+")";if(ke)return t;var n=Te||(Te=document.createElement("div"));return n.style.transform=t,n.style.transform}var Ae={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Ne(e){for(var t=Ue(),n=0,i=e.length;n<i;++n)Ve(t,e[n]);return t}function Le(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function Oe(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function Fe(e,t,n){var i,r;return(i=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0)*i+(r=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0)*r}function He(e,t){return ze(e,t[0],t[1])}function je(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function ze(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function Be(e,t){var n=e[0],i=e[1],r=e[2],a=e[3],o=t[0],s=t[1],l=Ae.UNKNOWN;return o<n?l|=Ae.LEFT:o>r&&(l|=Ae.RIGHT),s<i?l|=Ae.BELOW:s>a&&(l|=Ae.ABOVE),l===Ae.UNKNOWN&&(l=Ae.INTERSECTING),l}function Ue(){return[1/0,1/0,-1/0,-1/0]}function We(e,t,n,i,r){return r?(r[0]=e,r[1]=t,r[2]=n,r[3]=i,r):[e,t,n,i]}function Ge(e){return We(1/0,1/0,-1/0,-1/0,e)}function Ye(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function Ve(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Ze(e,t,n,i,r){for(;n<i;n+=r)qe(e,t[n],t[n+1]);return e}function qe(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function Je(e,t){var n;return(n=t(Ke(e)))||(n=t(Qe(e)))||(n=t(ot(e)))?n:(n=t(at(e)))||!1}function Xe(e){var t=0;return ut(e)||(t=st(e)*it(e)),t}function Ke(e){return[e[0],e[1]]}function Qe(e){return[e[2],e[1]]}function $e(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function et(e,t){var n;if("bottom-left"===t)n=Ke(e);else if("bottom-right"===t)n=Qe(e);else if("top-left"===t)n=at(e);else{if("top-right"!==t)throw new Error("Invalid corner");n=ot(e)}return n}function tt(e,t,n,i,r){var o=a(nt(e,t,n,i),8),s=o[0],l=o[1],u=o[2],c=o[3],d=o[4],h=o[5],f=o[6],p=o[7];return We(Math.min(s,u,d,f),Math.min(l,c,h,p),Math.max(s,u,d,f),Math.max(l,c,h,p),r)}function nt(e,t,n,i){var r=t*i[0]/2,a=t*i[1]/2,o=Math.cos(n),s=Math.sin(n),l=r*o,u=r*s,c=a*o,d=a*s,h=e[0],f=e[1];return[h-l+d,f-u-c,h-l-d,f-u+c,h+l-d,f+u+c,h+l+d,f+u-c,h-l+d,f-u-c]}function it(e){return e[3]-e[1]}function rt(e,t,n){var i=n||[1/0,1/0,-1/0,-1/0];return lt(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):Ge(i),i}function at(e){return[e[0],e[3]]}function ot(e){return[e[2],e[3]]}function st(e){return e[2]-e[0]}function lt(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function ut(e){return e[2]<e[0]||e[3]<e[1]}function ct(e,t,n,i){if(ut(e))return Ge(n);var r=[];if(i>1)for(var a=e[2]-e[0],o=e[3]-e[1],s=0;s<i;++s)r.push(e[0]+a*s/i,e[1],e[2],e[1]+o*s/i,e[2]-a*s/i,e[3],e[0],e[3]-o*s/i);else r=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(r,r,2);for(var l=[],u=[],c=0,d=r.length;c<d;c+=2)l.push(r[c]),u.push(r[c+1]);return function(e,t,n){return We(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),n)}(l,u,n)}function dt(e,t){var n=t.getExtent(),i=$e(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){var r=st(n),a=Math.floor((i[0]-n[0])/r)*r;e[0]-=a,e[2]-=a}return e}function ht(e,t,n){return Math.min(Math.max(e,t),n)}function ft(e,t,n,i,r,a){var o=r-n,s=a-i;if(0!==o||0!==s){var l=((e-n)*o+(t-i)*s)/(o*o+s*s);l>1?(n=r,i=a):l>0&&(n+=o*l,i+=s*l)}return pt(e,t,n,i)}function pt(e,t,n,i){var r=n-e,a=i-t;return r*r+a*a}function vt(e){return e*Math.PI/180}function gt(e,t){var n=e%t;return n*t<0?n+t:n}function mt(e,t,n){return e+n*(t-e)}function yt(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function bt(e,t){return Math.floor(yt(e,t))}function _t(e,t){return Math.ceil(yt(e,t))}var xt=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,wt=/^([a-z]*)$|^hsla?\(.*\)$/i;function kt(e){return"string"===typeof e?e:Rt(e)}function Ct(e){var t=document.createElement("div");if(t.style.color=e,""!==t.style.color){document.body.appendChild(t);var n=getComputedStyle(t).color;return document.body.removeChild(t),n}return""}var St=function(){var e={},t=0;return function(n){var i;if(e.hasOwnProperty(n))i=e[n];else{if(t>=1024){var r=0;for(var a in e)0===(3&r++)&&(delete e[a],--t)}i=function(e){var t,n,i,r,a;wt.exec(e)&&(e=Ct(e));if(xt.exec(e)){var o,s=e.length-1;o=s<=4?1:2;var l=4===s||8===s;t=parseInt(e.substr(1+0*o,o),16),n=parseInt(e.substr(1+1*o,o),16),i=parseInt(e.substr(1+2*o,o),16),r=l?parseInt(e.substr(1+3*o,o),16):255,1==o&&(t=(t<<4)+t,n=(n<<4)+n,i=(i<<4)+i,l&&(r=(r<<4)+r)),a=[t,n,i,r/255]}else if(e.startsWith("rgba("))Tt(a=e.slice(5,-1).split(",").map(Number));else{if(!e.startsWith("rgb("))throw new Error("Invalid color");(a=e.slice(4,-1).split(",").map(Number)).push(1),Tt(a)}return a}(n),e[n]=i,++t}return i}}();function Et(e){return Array.isArray(e)?e:St(e)}function Tt(e){return e[0]=ht(e[0]+.5|0,0,255),e[1]=ht(e[1]+.5|0,0,255),e[2]=ht(e[2]+.5|0,0,255),e[3]=ht(e[3],0,1),e}function Rt(e){var t=e[0];t!=(0|t)&&(t=t+.5|0);var n=e[1];n!=(0|n)&&(n=n+.5|0);var i=e[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+t+","+n+","+i+","+(void 0===e[3]?1:Math.round(100*e[3])/100)+")"}var Mt=function(){function e(){x(this,e),this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return k(e,[{key:"clear",value:function(){this.cache_={},this.cacheSize_=0}},{key:"canExpireCache",value:function(){return this.cacheSize_>this.maxCacheSize_}},{key:"expire",value:function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var n=this.cache_[t];0!==(3&e++)||n.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}}},{key:"get",value:function(e,t,n){var i=It(e,t,n);return i in this.cache_?this.cache_[i]:null}},{key:"set",value:function(e,t,n,i){var r=It(e,t,n);this.cache_[r]=i,++this.cacheSize_}},{key:"setSize",value:function(e){this.maxCacheSize_=e,this.expire()}}]),e}();function It(e,t,n){return t+":"+e+":"+(n?kt(n):"null")}var Dt=new Mt,Pt="opacity",At="visible",Nt="extent",Lt="zIndex",Ot="maxResolution",Ft="minResolution",Ht="maxZoom",jt="minZoom",zt="source",Bt="map",Ut=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),(i=t.call(this)).on,i.once,i.un,i.background_=e.background;var r=Object.assign({},e);return"object"===typeof e.properties&&(delete r.properties,Object.assign(r,e.properties)),r[Pt]=void 0!==e.opacity?e.opacity:1,Ee("number"===typeof r[Pt],"Layer opacity must be a number"),r[At]=void 0===e.visible||e.visible,r[Lt]=e.zIndex,r[Ot]=void 0!==e.maxResolution?e.maxResolution:1/0,r[Ft]=void 0!==e.minResolution?e.minResolution:0,r[jt]=void 0!==e.minZoom?e.minZoom:-1/0,r[Ht]=void 0!==e.maxZoom?e.maxZoom:1/0,i.className_=void 0!==r.className?r.className:"ol-layer",delete r.className,i.setProperties(r),i.state_=null,i}return k(n,[{key:"getBackground",value:function(){return this.background_}},{key:"getClassName",value:function(){return this.className_}},{key:"getLayerState",value:function(e){var t=this.state_||{layer:this,managed:void 0===e||e},n=this.getZIndex();return t.opacity=ht(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==n||t.managed?n:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}},{key:"getLayersArray",value:function(e){return le()}},{key:"getLayerStatesArray",value:function(e){return le()}},{key:"getExtent",value:function(){return this.get(Nt)}},{key:"getMaxResolution",value:function(){return this.get(Ot)}},{key:"getMinResolution",value:function(){return this.get(Ft)}},{key:"getMinZoom",value:function(){return this.get(jt)}},{key:"getMaxZoom",value:function(){return this.get(Ht)}},{key:"getOpacity",value:function(){return this.get(Pt)}},{key:"getSourceState",value:function(){return le()}},{key:"getVisible",value:function(){return this.get(At)}},{key:"getZIndex",value:function(){return this.get(Lt)}},{key:"setBackground",value:function(e){this.background_=e,this.changed()}},{key:"setExtent",value:function(e){this.set(Nt,e)}},{key:"setMaxResolution",value:function(e){this.set(Ot,e)}},{key:"setMinResolution",value:function(e){this.set(Ft,e)}},{key:"setMaxZoom",value:function(e){this.set(Ht,e)}},{key:"setMinZoom",value:function(e){this.set(jt,e)}},{key:"setOpacity",value:function(e){Ee("number"===typeof e,"Layer opacity must be a number"),this.set(Pt,e)}},{key:"setVisible",value:function(e){this.set(At,e)}},{key:"setZIndex",value:function(e){this.set(Lt,e)}},{key:"disposeInternal",value:function(){this.state_&&(this.state_.layer=null,this.state_=null),E(S(n.prototype),"disposeInternal",this).call(this)}}]),n}(he),Wt="prerender",Gt="postrender",Yt="precompose",Vt="postcompose",Zt="rendercomplete",qt=0,Jt=1,Xt={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Kt=42,Qt=256;var $t={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},en=function(){function e(t){x(this,e),this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return k(e,[{key:"canWrapX",value:function(){return this.canWrapX_}},{key:"getCode",value:function(){return this.code_}},{key:"getExtent",value:function(){return this.extent_}},{key:"getUnits",value:function(){return this.units_}},{key:"getMetersPerUnit",value:function(){return this.metersPerUnit_||$t[this.units_]}},{key:"getWorldExtent",value:function(){return this.worldExtent_}},{key:"getAxisOrientation",value:function(){return this.axisOrientation_}},{key:"isGlobal",value:function(){return this.global_}},{key:"setGlobal",value:function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}},{key:"getDefaultTileGrid",value:function(){return this.defaultTileGrid_}},{key:"setDefaultTileGrid",value:function(e){this.defaultTileGrid_=e}},{key:"setExtent",value:function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}},{key:"setWorldExtent",value:function(e){this.worldExtent_=e}},{key:"setGetPointResolution",value:function(e){this.getPointResolutionFunc_=e}},{key:"getPointResolutionFunc",value:function(){return this.getPointResolutionFunc_}}]),e}(),tn=6378137,nn=Math.PI*tn,rn=[-nn,-nn,nn,nn],an=[-180,-85,180,85],on=tn*Math.log(Math.tan(Math.PI/2)),sn=function(e){R(n,e);var t=D(n);function n(e){return x(this,n),t.call(this,{code:e,units:"m",extent:rn,global:!0,worldExtent:an,getPointResolution:function(e,t){return e/Math.cosh(t[1]/tn)}})}return k(n)}(en),ln=[new sn("EPSG:3857"),new sn("EPSG:102100"),new sn("EPSG:102113"),new sn("EPSG:900913"),new sn("http://www.opengis.net/def/crs/EPSG/0/3857"),new sn("http://www.opengis.net/gml/srs/epsg.xml#3857")];function un(e,t,n){var i=e.length;n=n>1?n:2,void 0===t&&(t=n>2?e.slice():new Array(i));for(var r=0;r<i;r+=n){t[r]=nn*e[r]/180;var a=tn*Math.log(Math.tan(Math.PI*(+e[r+1]+90)/360));a>on?a=on:a<-on&&(a=-on),t[r+1]=a}return t}function cn(e,t,n){var i=e.length;n=n>1?n:2,void 0===t&&(t=n>2?e.slice():new Array(i));for(var r=0;r<i;r+=n)t[r]=180*e[r]/nn,t[r+1]=360*Math.atan(Math.exp(e[r+1]/tn))/Math.PI-90;return t}var dn=[-180,-90,180,90],hn=6378137*Math.PI/180,fn=function(e){R(n,e);var t=D(n);function n(e,i){return x(this,n),t.call(this,{code:e,units:"degrees",extent:dn,axisOrientation:i,global:!0,metersPerUnit:hn,worldExtent:dn})}return k(n)}(en),pn=[new fn("CRS:84"),new fn("EPSG:4326","neu"),new fn("urn:ogc:def:crs:OGC:1.3:CRS84"),new fn("urn:ogc:def:crs:OGC:2:84"),new fn("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new fn("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new fn("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],vn={};var gn={};function mn(e,t,n){var i=e.getCode(),r=t.getCode();i in gn||(gn[i]={}),gn[i][r]=n}function yn(e,t){for(var n=!0,i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function bn(e,t){var n=Math.cos(t),i=Math.sin(t),r=e[0]*n-e[1]*i,a=e[1]*n+e[0]*i;return e[0]=r,e[1]=a,e}function _n(e,t){if(t.canWrapX()){var n=st(t.getExtent()),i=function(e,t,n){var i=t.getExtent(),r=0;t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||st(i),r=Math.floor((e[0]-i[0])/n));return r}(e,t,n);i&&(e[0]-=i*n)}return e}var xn=6371008.8;function wn(e,t,n){n=n||xn;var i=vt(e[1]),r=vt(t[1]),a=(r-i)/2,o=vt(t[0]-e[0])/2,s=Math.sin(a)*Math.sin(a)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))}var kn={info:1,warn:2,error:3,none:4},Cn=kn.info;function Sn(){var e;Cn>kn.warn||(e=console).warn.apply(e,arguments)}var En=!0;function Tn(e){En=!(void 0===e||e)}function Rn(e,t){if(void 0!==t)for(var n=0,i=e.length;n<i;++n)t[n]=e[n];else t=e.slice();return t}function Mn(e,t){if(void 0!==t&&e!==t){for(var n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function In(e){!function(e,t){vn[e]=t}(e.getCode(),e),mn(e,e,Rn)}function Dn(e){return"string"===typeof e?vn[t=e]||vn[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:e||null;var t}function Pn(e,t,n,i){var r,a=(e=Dn(e)).getPointResolutionFunc();if(a){if(r=a(t,n),i&&i!==e.getUnits()){var o=e.getMetersPerUnit();o&&(r=r*o/$t[i])}}else{var s=e.getUnits();if("degrees"==s&&!i||"degrees"==i)r=t;else{var l=Fn(e,Dn("EPSG:4326"));if(l===Mn&&"degrees"!==s)r=t*e.getMetersPerUnit();else{var u=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];r=(wn((u=l(u,u,2)).slice(0,2),u.slice(2,4))+wn(u.slice(4,6),u.slice(6,8)))/2}var c=i?$t[i]:e.getMetersPerUnit();void 0!==c&&(r/=c)}}return r}function An(e){!function(e){e.forEach(In)}(e),e.forEach((function(t){e.forEach((function(e){t!==e&&mn(t,e,Rn)}))}))}function Nn(e,t){return e?"string"===typeof e?Dn(e):e:Dn(t)}function Ln(e,t){return Tn(),jn(e,"EPSG:4326",void 0!==t?t:"EPSG:3857")}function On(e,t){if(e===t)return!0;var n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||Fn(e,t)===Rn)&&n}function Fn(e,t){var n=function(e,t){var n;return e in gn&&t in gn[e]&&(n=gn[e][t]),n}(e.getCode(),t.getCode());return n||(n=Mn),n}function Hn(e,t){return Fn(Dn(e),Dn(t))}function jn(e,t,n){return Hn(t,n)(e,void 0,e.length)}function zn(e,t,n,i){return ct(e,Hn(t,n),void 0,i)}var Bn=null;function Un(){return Bn}function Wn(e,t){return Bn?jn(e,t,Bn):e}function Gn(e,t){return Bn?jn(e,Bn,t):(En&&!yn(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(En=!1,Sn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function Yn(e,t){return Bn?zn(e,t,Bn):e}function Vn(e,t){return Bn?zn(e,Bn,t):e}function Zn(e,t){if(!Bn)return e;var n=Dn(t).getUnits(),i=Bn.getUnits();return n&&i?e*$t[n]/$t[i]:e}function qn(e,t,n){return function(i,r,a,o,s){if(i){if(!r&&!t)return i;var l=t?0:a[0]*r,u=t?0:a[1]*r,c=s?s[0]:0,d=s?s[1]:0,h=e[0]+l/2+c,f=e[2]-l/2+c,p=e[1]+u/2+d,v=e[3]-u/2+d;h>f&&(f=h=(f+h)/2),p>v&&(v=p=(v+p)/2);var g=ht(i[0],h,f),m=ht(i[1],p,v);if(o&&n&&r){var y=30*r;g+=-y*Math.log(1+Math.max(0,h-i[0])/y)+y*Math.log(1+Math.max(0,i[0]-f)/y),m+=-y*Math.log(1+Math.max(0,p-i[1])/y)+y*Math.log(1+Math.max(0,i[1]-v)/y)}return[g,m]}}}function Jn(e){return e}function Xn(e,t,n,i){var r=st(t)/n[0],a=it(t)/n[1];return i?Math.min(e,Math.max(r,a)):Math.min(e,Math.min(r,a))}function Kn(e,t,n){var i=Math.min(e,t);return i*=Math.log(1+50*Math.max(0,e/t-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/e-1))/50+1),ht(i,n/2,2*t)}function Qn(e,t,n,i,r){return n=void 0===n||n,function(a,o,s,l){if(void 0!==a){var u=i?Xn(e,i,s,r):e;return n&&l?Kn(a,u,t):ht(a,t,u)}}}function $n(e){if(void 0!==e)return 0}function ei(e){if(void 0!==e)return e}function ti(e){return Math.pow(e,3)}function ni(e){return 1-ti(1-e)}function ii(e){return 3*e*e-2*e*e*e}function ri(e){return e}function ai(e,t,n,i,r,a){a=a||[];for(var o=0,s=t;s<n;s+=i){var l=e[s],u=e[s+1];a[o++]=r[0]*l+r[2]*u+r[4],a[o++]=r[1]*l+r[3]*u+r[5]}return a&&a.length!=o&&(a.length=o),a}function oi(e,t,n,i,r,a,o){o=o||[];for(var s=Math.cos(r),l=Math.sin(r),u=a[0],c=a[1],d=0,h=t;h<n;h+=i){var f=e[h]-u,p=e[h+1]-c;o[d++]=u+f*s-p*l,o[d++]=c+f*l+p*s;for(var v=h+2;v<h+i;++v)o[d++]=e[v]}return o&&o.length!=d&&(o.length=d),o}!function(){var e,t,n;An(ln),An(pn),e=ln,t=un,n=cn,pn.forEach((function(i){e.forEach((function(e){mn(i,e,t),mn(e,i,n)}))}))}();var si=[1,0,0,1,0,0],li=function(e){R(n,e);var t=D(n);function n(){var e;return x(this,n),(e=t.call(this)).extent_=[1/0,1/0,-1/0,-1/0],e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=function(e){var t,n,i,r=!1;return function(){var a=Array.prototype.slice.call(arguments);return r&&this===i&&j(a,n)||(r=!0,i=this,n=a,t=e.apply(this,arguments)),t}}((function(e,t,n){if(!n)return this.getSimplifiedGeometry(t);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(t)})),e}return k(n,[{key:"simplifyTransformed",value:function(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}},{key:"clone",value:function(){return le()}},{key:"closestPointXY",value:function(e,t,n,i){return le()}},{key:"containsXY",value:function(e,t){var n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}},{key:"getClosestPoint",value:function(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}},{key:"intersectsCoordinate",value:function(e){return this.containsXY(e[0],e[1])}},{key:"computeExtent",value:function(e){return le()}},{key:"getExtent",value:function(e){if(this.extentRevision_!=this.getRevision()){var t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Ge(t),this.extentRevision_=this.getRevision()}return function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}(this.extent_,e)}},{key:"rotate",value:function(e,t){le()}},{key:"scale",value:function(e,t,n){le()}},{key:"simplify",value:function(e){return this.getSimplifiedGeometry(e*e)}},{key:"getSimplifiedGeometry",value:function(e){return le()}},{key:"getType",value:function(){return le()}},{key:"applyTransform",value:function(e){le()}},{key:"intersectsExtent",value:function(e){return le()}},{key:"translate",value:function(e,t){le()}},{key:"transform",value:function(e,t){var n=Dn(e),i="tile-pixels"==n.getUnits()?function(e,i,r){var a=n.getExtent(),o=n.getWorldExtent(),s=it(o)/it(a);return Ie(si,o[0],o[3],s,-s,0,0,0),ai(e,0,e.length,r,si,i),Hn(n,t)(e,i,r)}:Hn(n,t);return this.applyTransform(i),this}}]),n}(he),ui=function(e){R(n,e);var t=D(n);function n(){var e;return x(this,n),(e=t.call(this)).layout="XY",e.stride=2,e.flatCoordinates=null,e}return k(n,[{key:"computeExtent",value:function(e){return function(e,t,n,i,r){return Ze(Ge(r),e,t,n,i)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}},{key:"getCoordinates",value:function(){return le()}},{key:"getFirstCoordinate",value:function(){return this.flatCoordinates.slice(0,this.stride)}},{key:"getFlatCoordinates",value:function(){return this.flatCoordinates}},{key:"getLastCoordinate",value:function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}},{key:"getLayout",value:function(){return this.layout}},{key:"getSimplifiedGeometry",value:function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}},{key:"getSimplifiedGeometryInternal",value:function(e){return this}},{key:"getStride",value:function(){return this.stride}},{key:"setFlatCoordinates",value:function(e,t){this.stride=ci(e),this.layout=e,this.flatCoordinates=t}},{key:"setCoordinates",value:function(e,t){le()}},{key:"setLayout",value:function(e,t,n){var i;if(e)i=ci(e);else{for(var r=0;r<n;++r){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}e=function(e){var t;2==e?t="XY":3==e?t="XYZ":4==e&&(t="XYZM");return t}(i=t.length)}this.layout=e,this.stride=i}},{key:"applyTransform",value:function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}},{key:"rotate",value:function(e,t){var n=this.getFlatCoordinates();if(n){var i=this.getStride();oi(n,0,n.length,i,e,t,n),this.changed()}}},{key:"scale",value:function(e,t,n){void 0===t&&(t=e),n||(n=$e(this.getExtent()));var i=this.getFlatCoordinates();if(i){var r=this.getStride();!function(e,t,n,i,r,a,o,s){s=s||[];for(var l=o[0],u=o[1],c=0,d=t;d<n;d+=i){var h=e[d]-l,f=e[d+1]-u;s[c++]=l+r*h,s[c++]=u+a*f;for(var p=d+2;p<d+i;++p)s[c++]=e[p]}s&&s.length!=c&&(s.length=c)}(i,0,i.length,r,e,t,n,i),this.changed()}}},{key:"translate",value:function(e,t){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(e,t,n,i,r,a,o){o=o||[];for(var s=0,l=t;l<n;l+=i){o[s++]=e[l]+r,o[s++]=e[l+1]+a;for(var u=l+2;u<l+i;++u)o[s++]=e[u]}o&&o.length!=s&&(o.length=s)}(n,0,n.length,i,e,t,n),this.changed()}}}]),n}(li);function ci(e){var t;return"XY"==e?t=2:"XYZ"==e||"XYM"==e?t=3:"XYZM"==e&&(t=4),t}var di=ui;function hi(e,t,n,i,r,a,o){var s,l=e[t],u=e[t+1],c=e[n]-l,d=e[n+1]-u;if(0===c&&0===d)s=t;else{var h=((r-l)*c+(a-u)*d)/(c*c+d*d);if(h>1)s=n;else{if(h>0){for(var f=0;f<i;++f)o[f]=mt(e[t+f],e[n+f],h);return void(o.length=i)}s=t}}for(var p=0;p<i;++p)o[p]=e[s+p];o.length=i}function fi(e,t,n,i,r){var a=e[t],o=e[t+1];for(t+=i;t<n;t+=i){var s=e[t],l=e[t+1],u=pt(a,o,s,l);u>r&&(r=u),a=s,o=l}return r}function pi(e,t,n,i,r){for(var a=0,o=n.length;a<o;++a){var s=n[a];r=fi(e,t,s,i,r),t=s}return r}function vi(e,t,n,i,r,a,o,s,l,u,c){if(t==n)return u;var d,h;if(0===r){if((h=pt(o,s,e[t],e[t+1]))<u){for(d=0;d<i;++d)l[d]=e[t+d];return l.length=i,h}return u}c=c||[NaN,NaN];for(var f=t+i;f<n;)if(hi(e,f-i,f,i,o,s,c),(h=pt(o,s,c[0],c[1]))<u){for(u=h,d=0;d<i;++d)l[d]=c[d];l.length=i,f+=i}else f+=i*Math.max((Math.sqrt(h)-Math.sqrt(u))/r|0,1);if(a&&(hi(e,n-i,t,i,o,s,c),(h=pt(o,s,c[0],c[1]))<u)){for(u=h,d=0;d<i;++d)l[d]=c[d];l.length=i}return u}function gi(e,t,n,i,r,a,o,s,l,u,c){c=c||[NaN,NaN];for(var d=0,h=n.length;d<h;++d){var f=n[d];u=vi(e,t,f,i,r,a,o,s,l,u,c),t=f}return u}function mi(e,t,n,i){for(var r=0,a=n.length;r<a;++r)for(var o=n[r],s=0;s<i;++s)e[t++]=o[s];return t}function yi(e,t,n,i,r){r=r||[];for(var a=0,o=0,s=n.length;o<s;++o){var l=mi(e,t,n[o],i);r[a++]=l,t=l}return r.length=a,r}function bi(e,t,n,i,r,a,o){var s=(n-t)/i;if(s<3){for(;t<n;t+=i)a[o++]=e[t],a[o++]=e[t+1];return o}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u=[t,n-i],c=0;u.length>0;){for(var d=u.pop(),h=u.pop(),f=0,p=e[h],v=e[h+1],g=e[d],m=e[d+1],y=h+i;y<d;y+=i){var b=ft(e[y],e[y+1],p,v,g,m);b>f&&(c=y,f=b)}f>r&&(l[(c-t)/i]=1,h+i<c&&u.push(h,c),c+i<d&&u.push(c,d))}for(var _=0;_<s;++_)l[_]&&(a[o++]=e[t+_*i],a[o++]=e[t+_*i+1]);return o}function _i(e,t){return t*Math.round(e/t)}function xi(e,t,n,i,r,a,o){if(t==n)return o;var s,l,u=_i(e[t],r),c=_i(e[t+1],r);t+=i,a[o++]=u,a[o++]=c;do{if(s=_i(e[t],r),l=_i(e[t+1],r),(t+=i)==n)return a[o++]=s,a[o++]=l,o}while(s==u&&l==c);for(;t<n;){var d=_i(e[t],r),h=_i(e[t+1],r);if(t+=i,d!=s||h!=l){var f=s-u,p=l-c,v=d-u,g=h-c;f*g==p*v&&(f<0&&v<f||f==v||f>0&&v>f)&&(p<0&&g<p||p==g||p>0&&g>p)?(s=d,l=h):(a[o++]=s,a[o++]=l,u=s,c=l,s=d,l=h)}}return a[o++]=s,a[o++]=l,o}function wi(e,t,n,i,r,a,o,s){for(var l=0,u=n.length;l<u;++l){var c=n[l];o=xi(e,t,c,i,r,a,o),s.push(o),t=c}return o}function ki(e,t,n,i,r){r=void 0!==r?r:[];for(var a=0,o=t;o<n;o+=i)r[a++]=e.slice(o,o+i);return r.length=a,r}function Ci(e,t,n,i,r){r=void 0!==r?r:[];for(var a=0,o=0,s=n.length;o<s;++o){var l=n[o];r[a++]=ki(e,t,l,i,r[a]),t=l}return r.length=a,r}function Si(e,t,n,i,r){r=void 0!==r?r:[];for(var a=0,o=0,s=n.length;o<s;++o){var l=n[o];r[a++]=1===l.length&&l[0]===t?[]:Ci(e,t,l,i,r[a]),t=l[l.length-1]}return r.length=a,r}function Ei(e,t,n,i){for(var r=0,a=e[n-i],o=e[n-i+1];t<n;t+=i){var s=e[t],l=e[t+1];r+=o*s-a*l,a=s,o=l}return r/2}function Ti(e,t,n,i){for(var r=0,a=0,o=n.length;a<o;++a){var s=n[a];r+=Ei(e,t,s,i),t=s}return r}var Ri=function(e){R(n,e);var t=D(n);function n(e,i){var r;return x(this,n),(r=t.call(this)).maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?r.setCoordinates(e,i):r.setFlatCoordinates(i,e),r}return k(n,[{key:"clone",value:function(){return new n(this.flatCoordinates.slice(),this.layout)}},{key:"closestPointXY",value:function(e,t,n,i){return i<Fe(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(fi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),vi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,i))}},{key:"getArea",value:function(){return Ei(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getCoordinates",value:function(){return ki(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[];return t.length=bi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,"XY")}},{key:"getType",value:function(){return"LinearRing"}},{key:"intersectsExtent",value:function(e){return!1}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=mi(this.flatCoordinates,0,e,this.stride),this.changed()}}]),n}(di),Mi=Ri,Ii=function(e){R(n,e);var t=D(n);function n(e,i){var r;return x(this,n),(r=t.call(this)).setCoordinates(e,i),r}return k(n,[{key:"clone",value:function(){var e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){var r=this.flatCoordinates,a=pt(e,t,r[0],r[1]);if(a<i){for(var o=this.stride,s=0;s<o;++s)n[s]=r[s];return n.length=o,a}return i}},{key:"getCoordinates",value:function(){return this.flatCoordinates?this.flatCoordinates.slice():[]}},{key:"computeExtent",value:function(e){return function(e,t){var n=e[0],i=e[1];return We(n,i,n,i,t)}(this.flatCoordinates,e)}},{key:"getType",value:function(){return"Point"}},{key:"intersectsExtent",value:function(e){return ze(e,this.flatCoordinates[0],this.flatCoordinates[1])}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(e,t,n,i){for(var r=0,a=n.length;r<a;++r)e[t++]=n[r];return t}(this.flatCoordinates,0,e,this.stride),this.changed()}}]),n}(di),Di=Ii;function Pi(e,t,n,i,r){return!Je(r,(function(r){return!Ai(e,t,n,i,r[0],r[1])}))}function Ai(e,t,n,i,r,a){for(var o=0,s=e[n-i],l=e[n-i+1];t<n;t+=i){var u=e[t],c=e[t+1];l<=a?c>a&&(u-s)*(a-l)-(r-s)*(c-l)>0&&o++:c<=a&&(u-s)*(a-l)-(r-s)*(c-l)<0&&o--,s=u,l=c}return 0!==o}function Ni(e,t,n,i,r,a){if(0===n.length)return!1;if(!Ai(e,t,n[0],i,r,a))return!1;for(var o=1,s=n.length;o<s;++o)if(Ai(e,n[o-1],n[o],i,r,a))return!1;return!0}function Li(e,t,n,i,r,a,o){for(var s,l,u,c,d,h,f,p=r[a+1],v=[],g=0,m=n.length;g<m;++g){var y=n[g];for(c=e[y-i],h=e[y-i+1],s=t;s<y;s+=i)d=e[s],f=e[s+1],(p<=h&&f<=p||h<=p&&p<=f)&&(u=(p-h)/(f-h)*(d-c)+c,v.push(u)),c=d,h=f}var b=NaN,_=-1/0;for(v.sort(L),c=v[0],s=1,l=v.length;s<l;++s){d=v[s];var x=Math.abs(d-c);x>_&&Ni(e,t,n,i,u=(c+d)/2,p)&&(b=u,_=x),c=d}return isNaN(b)&&(b=r[a]),o?(o.push(b,p,_),o):[b,p,_]}function Oi(e,t,n,i,r){var a=Ze([1/0,1/0,-1/0,-1/0],e,t,n,i);return!!lt(r,a)&&(!!je(r,a)||(a[0]>=r[0]&&a[2]<=r[2]||(a[1]>=r[1]&&a[3]<=r[3]||function(e,t,n,i,r){var a;for(t+=i;t<n;t+=i)if(a=r(e.slice(t-i,t),e.slice(t,t+i)))return a;return!1}(e,t,n,i,(function(e,t){return function(e,t,n){var i=!1,r=Be(e,t),a=Be(e,n);if(r===Ae.INTERSECTING||a===Ae.INTERSECTING)i=!0;else{var o,s,l=e[0],u=e[1],c=e[2],d=e[3],h=t[0],f=t[1],p=n[0],v=n[1],g=(v-f)/(p-h);a&Ae.ABOVE&&!(r&Ae.ABOVE)&&(i=(o=p-(v-d)/g)>=l&&o<=c),i||!(a&Ae.RIGHT)||r&Ae.RIGHT||(i=(s=v-(p-c)*g)>=u&&s<=d),i||!(a&Ae.BELOW)||r&Ae.BELOW||(i=(o=p-(v-u)/g)>=l&&o<=c),i||!(a&Ae.LEFT)||r&Ae.LEFT||(i=(s=v-(p-l)*g)>=u&&s<=d)}return i}(r,e,t)})))))}function Fi(e,t,n,i,r){return!!Oi(e,t,n,i,r)||(!!Ai(e,t,n,i,r[0],r[1])||(!!Ai(e,t,n,i,r[0],r[3])||(!!Ai(e,t,n,i,r[2],r[1])||!!Ai(e,t,n,i,r[2],r[3]))))}function Hi(e,t,n,i,r){if(!Fi(e,t,n[0],i,r))return!1;if(1===n.length)return!0;for(var a=1,o=n.length;a<o;++a)if(Pi(e,n[a-1],n[a],i,r)&&!Oi(e,n[a-1],n[a],i,r))return!1;return!0}function ji(e,t,n,i){for(;t<n-i;){for(var r=0;r<i;++r){var a=e[t+r];e[t+r]=e[n-i+r],e[n-i+r]=a}t+=i,n-=i}}function zi(e,t,n,i){for(var r=0,a=e[n-i],o=e[n-i+1];t<n;t+=i){var s=e[t],l=e[t+1];r+=(s-a)*(l+o),a=s,o=l}return 0===r?void 0:r>0}function Bi(e,t,n,i,r){r=void 0!==r&&r;for(var a=0,o=n.length;a<o;++a){var s=n[a],l=zi(e,t,s,i);if(0===a){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;t=s}return!0}function Ui(e,t,n,i,r){r=void 0!==r&&r;for(var a=0,o=n.length;a<o;++a){var s=n[a],l=zi(e,t,s,i);(0===a?r&&l||!r&&!l:r&&!l||!r&&l)&&ji(e,t,s,i),t=s}return t}var Wi=function(e){R(n,e);var t=D(n);function n(e,i,r){var a;return x(this,n),(a=t.call(this)).ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,void 0!==i&&r?(a.setFlatCoordinates(i,e),a.ends_=r):a.setCoordinates(e,i),a}return k(n,[{key:"appendLinearRing",value:function(e){this.flatCoordinates?H(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}},{key:"clone",value:function(){var e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){return i<Fe(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(pi(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),gi(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,i))}},{key:"containsXY",value:function(e,t){return Ni(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}},{key:"getArea",value:function(){return Ti(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}},{key:"getCoordinates",value:function(e){var t;return void 0!==e?Ui(t=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,e):t=this.flatCoordinates,Ci(t,0,this.ends_,this.stride)}},{key:"getEnds",value:function(){return this.ends_}},{key:"getFlatInteriorPoint",value:function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=$e(this.getExtent());this.flatInteriorPoint_=Li(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}},{key:"getInteriorPoint",value:function(){return new Di(this.getFlatInteriorPoint(),"XYM")}},{key:"getLinearRingCount",value:function(){return this.ends_.length}},{key:"getLinearRing",value:function(e){return e<0||this.ends_.length<=e?null:new Mi(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}},{key:"getLinearRings",value:function(){for(var e=this.layout,t=this.flatCoordinates,n=this.ends_,i=[],r=0,a=0,o=n.length;a<o;++a){var s=n[a],l=new Mi(t.slice(r,s),e);i.push(l),r=s}return i}},{key:"getOrientedFlatCoordinates",value:function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Bi(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Ui(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[],i=[];return t.length=wi(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new n(t,"XY",i)}},{key:"getType",value:function(){return"Polygon"}},{key:"intersectsExtent",value:function(e){return Hi(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=yi(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}]),n}(di),Gi=Wi;function Yi(e){if(ut(e))throw new Error("Cannot create polygon from empty extent");var t=e[0],n=e[1],i=e[2],r=e[3],a=[t,n,t,r,i,r,i,n,t,n];return new Wi(a,"XY",[a.length])}var Vi=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),(i=t.call(this)).on,i.once,i.un,e=Object.assign({},e),i.hints_=[0,0],i.animations_=[],i.updateAnimationKey_,i.projection_=Nn(e.projection,"EPSG:3857"),i.viewportSize_=[100,100],i.targetCenter_=null,i.targetResolution_,i.targetRotation_,i.nextCenter_=null,i.nextResolution_,i.nextRotation_,i.cancelAnchor_=void 0,e.projection&&Tn(),e.center&&(e.center=Gn(e.center,i.projection_)),e.extent&&(e.extent=Vn(e.extent,i.projection_)),i.applyOptions_(e),i}return k(n,[{key:"applyOptions_",value:function(e){var t=Object.assign({},e);for(var n in Xt)delete t[n];this.setProperties(t,!0);var i=function(e){var t,n,i,r=28,a=2,o=void 0!==e.minZoom?e.minZoom:0,s=void 0!==e.maxZoom?e.maxZoom:r,l=void 0!==e.zoomFactor?e.zoomFactor:a,u=void 0!==e.multiWorld&&e.multiWorld,c=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,d=void 0!==e.showFullExtent&&e.showFullExtent,h=Nn(e.projection,"EPSG:3857"),f=h.getExtent(),p=e.constrainOnlyCenter,v=e.extent;u||v||!h.isGlobal()||(p=!1,v=f);if(void 0!==e.resolutions){var g=e.resolutions;n=g[o],i=void 0!==g[s]?g[s]:g[g.length-1],t=e.constrainResolution?function(e,t,n,i){return t=void 0===t||t,function(r,a,o,s){if(void 0!==r){var l=e[0],u=e[e.length-1],c=n?Xn(l,n,o,i):l;if(s)return t?Kn(r,c,u):ht(r,u,c);var d=Math.min(c,r),h=Math.floor(O(e,d,a));return e[h]>c&&h<e.length-1?e[h+1]:e[h]}}}(g,c,!p&&v,d):Qn(n,i,c,!p&&v,d)}else{var m=(f?Math.max(st(f),it(f)):360*$t.degrees/h.getMetersPerUnit())/Qt/Math.pow(a,0),y=m/Math.pow(a,r-0);void 0!==(n=e.maxResolution)?o=0:n=m/Math.pow(l,o),void 0===(i=e.minResolution)&&(i=void 0!==e.maxZoom?void 0!==e.maxResolution?n/Math.pow(l,s):m/Math.pow(l,s):y),s=o+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,s-o),t=e.constrainResolution?function(e,t,n,i,r,a){return i=void 0===i||i,n=void 0!==n?n:0,function(o,s,l,u){if(void 0!==o){var c=r?Xn(t,r,l,a):t;if(u)return i?Kn(o,c,n):ht(o,n,c);var d=Math.ceil(Math.log(t/c)/Math.log(e)-1e-9),h=-s*(.5-1e-9)+.5,f=Math.min(c,o),p=Math.floor(Math.log(t/f)/Math.log(e)+h),v=Math.max(d,p);return ht(t/Math.pow(e,v),n,c)}}}(l,n,i,c,!p&&v,d):Qn(n,i,c,!p&&v,d)}return{constraint:t,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:l}}(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;var r=function(e){if(void 0!==e.extent){var t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return qn(e.extent,e.constrainOnlyCenter,t)}var n=Nn(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&n.isGlobal()){var i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,qn(i,!1,!1)}return Jn}(e),a=i.constraint,o=function(e){var t=void 0===e.enableRotation||e.enableRotation;if(t){var n=e.constrainRotation;return void 0===n||!0===n?(i=i||vt(5),function(e,t){return t?e:void 0!==e?Math.abs(e)<=i?0:e:void 0}):!1===n?ei:"number"===typeof n?function(e){var t=2*Math.PI/e;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}(n):ei}var i;return $n}(e);this.constraints_={center:r,resolution:a,rotation:o},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}},{key:"padding",get:function(){return this.padding_},set:function(e){var t=this.padding_;this.padding_=e;var n=this.getCenterInternal();if(n){var i=e||[0,0,0,0];t=t||[0,0,0,0];var r=this.getResolution(),a=r/2*(i[3]-t[3]+t[1]-i[1]),o=r/2*(i[0]-t[0]+t[2]-i[2]);this.setCenterInternal([n[0]+a,n[1]-o])}}},{key:"getUpdatedOptions_",value:function(e){var t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}},{key:"animate",value:function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var t=new Array(arguments.length),n=0;n<t.length;++n){var i=arguments[n];i.center&&((i=Object.assign({},i)).center=Gn(i.center,this.getProjection())),i.anchor&&((i=Object.assign({},i)).anchor=Gn(i.anchor,this.getProjection())),t[n]=i}this.animateInternal.apply(this,t)}},{key:"animateInternal",value:function(e){var t,n=arguments.length;n>1&&"function"===typeof arguments[n-1]&&(t=arguments[n-1],--n);for(var i=0;i<n&&!this.isDef();++i){var r=arguments[i];r.center&&this.setCenterInternal(r.center),void 0!==r.zoom?this.setZoom(r.zoom):r.resolution&&this.setResolution(r.resolution),void 0!==r.rotation&&this.setRotation(r.rotation)}if(i!==n){for(var a=Date.now(),o=this.targetCenter_.slice(),s=this.targetResolution_,l=this.targetRotation_,u=[];i<n;++i){var c=arguments[i],d={start:a,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||ii,callback:t};if(c.center&&(d.sourceCenter=o,d.targetCenter=c.center.slice(),o=d.targetCenter),void 0!==c.zoom?(d.sourceResolution=s,d.targetResolution=this.getResolutionForZoom(c.zoom),s=d.targetResolution):c.resolution&&(d.sourceResolution=s,d.targetResolution=c.resolution,s=d.targetResolution),void 0!==c.rotation){d.sourceRotation=l;var h=gt(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+h,l=d.targetRotation}qi(d)?d.complete=!0:a+=d.duration,u.push(d)}this.animations_.push(u),this.setHint(qt,1),this.updateAnimations_()}else t&&Zi(t,!0)}},{key:"getAnimating",value:function(){return this.hints_[qt]>0}},{key:"getInteracting",value:function(){return this.hints_[Jt]>0}},{key:"cancelAnimations",value:function(){var e;this.setHint(qt,-this.hints_[qt]);for(var t=0,n=this.animations_.length;t<n;++t){var i=this.animations_[t];if(i[0].callback&&Zi(i[0].callback,!1),!e)for(var r=0,a=i.length;r<a;++r){var o=i[r];if(!o.complete){e=o.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}},{key:"updateAnimations_",value:function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,a=0,o=i.length;a<o;++a){var s=i[a];if(!s.complete){var l=e-s.start,u=s.duration>0?l/s.duration:1;u>=1?(s.complete=!0,u=1):r=!1;var c=s.easing(u);if(s.sourceCenter){var d=s.sourceCenter[0],h=s.sourceCenter[1],f=s.targetCenter[0],p=s.targetCenter[1];this.nextCenter_=s.targetCenter;var v=d+c*(f-d),g=h+c*(p-h);this.targetCenter_=[v,g]}if(s.sourceResolution&&s.targetResolution){var m=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);if(s.anchor){var y=this.getViewportSize_(this.getRotation()),b=this.constraints_.resolution(m,0,y,!0);this.targetCenter_=this.calculateCenterZoom(b,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=m,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var _=1===c?gt(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);if(s.anchor){var x=this.constraints_.rotation(_,!0);this.targetCenter_=this.calculateCenterRotate(x,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=_}if(this.applyTargetState_(!0),t=!0,!s.complete)break}}if(r){this.animations_[n]=null,this.setHint(qt,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var w=i[0].callback;w&&Zi(w,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}},{key:"calculateCenterRotate",value:function(e,t){var n,i,r,a=this.getCenterInternal();return void 0!==a&&(bn(n=[a[0]-t[0],a[1]-t[1]],e-this.getRotation()),r=t,(i=n)[0]+=+r[0],i[1]+=+r[1]),n}},{key:"calculateCenterZoom",value:function(e,t){var n,i=this.getCenterInternal(),r=this.getResolution();void 0!==i&&void 0!==r&&(n=[t[0]-e*(t[0]-i[0])/r,t[1]-e*(t[1]-i[1])/r]);return n}},{key:"getViewportSize_",value:function(e){var t=this.viewportSize_;if(e){var n=t[0],i=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(i*Math.cos(e))]}return t}},{key:"setViewportSize",value:function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}},{key:"getCenter",value:function(){var e=this.getCenterInternal();return e?Wn(e,this.getProjection()):e}},{key:"getCenterInternal",value:function(){return this.get(Xt.CENTER)}},{key:"getConstraints",value:function(){return this.constraints_}},{key:"getConstrainResolution",value:function(){return this.get("constrainResolution")}},{key:"getHints",value:function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}},{key:"calculateExtent",value:function(e){return Yn(this.calculateExtentInternal(e),this.getProjection())}},{key:"calculateExtentInternal",value:function(e){e=e||this.getViewportSizeMinusPadding_();var t=this.getCenterInternal();Ee(t,"The view center is not defined");var n=this.getResolution();Ee(void 0!==n,"The view resolution is not defined");var i=this.getRotation();return Ee(void 0!==i,"The view rotation is not defined"),tt(t,n,i,e)}},{key:"getMaxResolution",value:function(){return this.maxResolution_}},{key:"getMinResolution",value:function(){return this.minResolution_}},{key:"getMaxZoom",value:function(){return this.getZoomForResolution(this.minResolution_)}},{key:"setMaxZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}},{key:"getMinZoom",value:function(){return this.getZoomForResolution(this.maxResolution_)}},{key:"setMinZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}},{key:"setConstrainResolution",value:function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}},{key:"getProjection",value:function(){return this.projection_}},{key:"getResolution",value:function(){return this.get(Xt.RESOLUTION)}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getResolutionForExtent",value:function(e,t){return this.getResolutionForExtentInternal(Vn(e,this.getProjection()),t)}},{key:"getResolutionForExtentInternal",value:function(e,t){t=t||this.getViewportSizeMinusPadding_();var n=st(e)/t[0],i=it(e)/t[1];return Math.max(n,i)}},{key:"getResolutionForValueFunction",value:function(e){e=e||2;var t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(t/n)/Math.log(e);return function(n){return t/Math.pow(e,n*i)}}},{key:"getRotation",value:function(){return this.get(Xt.ROTATION)}},{key:"getValueForResolutionFunction",value:function(e){var t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/t;return function(e){return Math.log(n/e)/t/r}}},{key:"getViewportSizeMinusPadding_",value:function(e){var t=this.getViewportSize_(e),n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}},{key:"getState",value:function(){var e=this.getProjection(),t=this.getResolution(),n=this.getRotation(),i=this.getCenterInternal(),r=this.padding_;if(r){var a=this.getViewportSizeMinusPadding_();i=Ji(i,this.getViewportSize_(),[a[0]/2+r[3],a[1]/2+r[0]],t,n)}return{center:i.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}},{key:"getViewStateAndExtent",value:function(){return{viewState:this.getState(),extent:this.calculateExtent()}}},{key:"getZoom",value:function(){var e,t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}},{key:"getZoomForResolution",value:function(e){var t,n,i=this.minZoom_||0;if(this.resolutions_){var r=O(this.resolutions_,e,1);i=r,t=this.resolutions_[r],n=r==this.resolutions_.length-1?2:t/this.resolutions_[r+1]}else t=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(t/e)/Math.log(n)}},{key:"getResolutionForZoom",value:function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var t=ht(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(n,ht(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}},{key:"fit",value:function(e,t){var n;if(Ee(Array.isArray(e)||"function"===typeof e.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(e))Ee(!ut(e),"Cannot fit empty extent provided as `geometry`"),n=Yi(Vn(e,this.getProjection()));else if("Circle"===e.getType()){var i=Vn(e.getExtent(),this.getProjection());(n=Yi(i)).rotate(this.getRotation(),$e(i))}else{var r=Un();n=r?e.clone().transform(r,this.getProjection()):e}this.fitInternal(n,t)}},{key:"rotatedExtentForGeometry",value:function(e){for(var t=this.getRotation(),n=Math.cos(t),i=Math.sin(-t),r=e.getFlatCoordinates(),a=e.getStride(),o=1/0,s=1/0,l=-1/0,u=-1/0,c=0,d=r.length;c<d;c+=a){var h=r[c]*n-r[c+1]*i,f=r[c]*i+r[c+1]*n;o=Math.min(o,h),s=Math.min(s,f),l=Math.max(l,h),u=Math.max(u,f)}return[o,s,l,u]}},{key:"fitInternal",value:function(e,t){var n=(t=t||{}).size;n||(n=this.getViewportSizeMinusPadding_());var i,r=void 0!==t.padding?t.padding:[0,0,0,0],a=void 0!==t.nearest&&t.nearest;i=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;var o=this.rotatedExtentForGeometry(e),s=this.getResolutionForExtentInternal(o,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);s=isNaN(s)?i:Math.max(s,i),s=this.getConstrainedResolution(s,a?0:1);var l=this.getRotation(),u=Math.sin(l),c=Math.cos(l),d=$e(o);d[0]+=(r[1]-r[3])/2*s,d[1]+=(r[0]-r[2])/2*s;var h=d[0]*c-d[1]*u,f=d[1]*c+d[0]*u,p=this.getConstrainedCenter([h,f],s),v=t.callback?t.callback:U;void 0!==t.duration?this.animateInternal({resolution:s,center:p,duration:t.duration,easing:t.easing},v):(this.targetResolution_=s,this.targetCenter_=p,this.applyTargetState_(!1,!0),Zi(v,!0))}},{key:"centerOn",value:function(e,t,n){this.centerOnInternal(Gn(e,this.getProjection()),t,n)}},{key:"centerOnInternal",value:function(e,t,n){this.setCenterInternal(Ji(e,t,n,this.getResolution(),this.getRotation()))}},{key:"calculateCenterShift",value:function(e,t,n,i){var r,a=this.padding_;if(a&&e){var o=this.getViewportSizeMinusPadding_(-n),s=Ji(e,i,[o[0]/2+a[3],o[1]/2+a[0]],t,n);r=[e[0]-s[0],e[1]-s[1]]}return r}},{key:"isDef",value:function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}},{key:"adjustCenter",value:function(e){var t=Wn(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}},{key:"adjustCenterInternal",value:function(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}},{key:"adjustResolution",value:function(e,t){t=t&&Gn(t,this.getProjection()),this.adjustResolutionInternal(e,t)}},{key:"adjustResolutionInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,i,n);t&&(this.targetCenter_=this.calculateCenterZoom(r,t)),this.targetResolution_*=e,this.applyTargetState_()}},{key:"adjustZoom",value:function(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}},{key:"adjustRotation",value:function(e,t){t&&(t=Gn(t,this.getProjection())),this.adjustRotationInternal(e,t)}},{key:"adjustRotationInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(i,t)),this.targetRotation_+=e,this.applyTargetState_()}},{key:"setCenter",value:function(e){this.setCenterInternal(e?Gn(e,this.getProjection()):e)}},{key:"setCenterInternal",value:function(e){this.targetCenter_=e,this.applyTargetState_()}},{key:"setHint",value:function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}},{key:"setResolution",value:function(e){this.targetResolution_=e,this.applyTargetState_()}},{key:"setRotation",value:function(e){this.targetRotation_=e,this.applyTargetState_()}},{key:"setZoom",value:function(e){this.setResolution(this.getResolutionForZoom(e))}},{key:"applyTargetState_",value:function(e,t){var n=this.getAnimating()||this.getInteracting()||t,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),a=this.constraints_.resolution(this.targetResolution_,0,r,n),o=this.constraints_.center(this.targetCenter_,a,r,n,this.calculateCenterShift(this.targetCenter_,a,i,r));this.get(Xt.ROTATION)!==i&&this.set(Xt.ROTATION,i),this.get(Xt.RESOLUTION)!==a&&(this.set(Xt.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),o&&this.get(Xt.CENTER)&&yn(this.get(Xt.CENTER),o)||this.set(Xt.CENTER,o),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}},{key:"resolveConstraints",value:function(e,t,n){e=void 0!==e?e:200;var i=t||0,r=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,i,a),s=this.constraints_.center(this.targetCenter_,o,a,!1,this.calculateCenterShift(this.targetCenter_,o,r,a));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=o,this.targetRotation_=r,this.targetCenter_=s,void this.applyTargetState_();n=n||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===o&&this.getRotation()===r&&this.getCenterInternal()&&yn(this.getCenterInternal(),s)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:s,resolution:o,duration:e,easing:ni,anchor:n}))}},{key:"beginInteraction",value:function(){this.resolveConstraints(0),this.setHint(Jt,1)}},{key:"endInteraction",value:function(e,t,n){n=n&&Gn(n,this.getProjection()),this.endInteractionInternal(e,t,n)}},{key:"endInteractionInternal",value:function(e,t,n){this.getInteracting()&&(this.setHint(Jt,-1),this.resolveConstraints(e,t,n))}},{key:"getConstrainedCenter",value:function(e,t){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}},{key:"getConstrainedZoom",value:function(e,t){var n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}},{key:"getConstrainedResolution",value:function(e,t){t=t||0;var n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}}]),n}(he);function Zi(e,t){setTimeout((function(){e(t)}),0)}function qi(e){return!(e.sourceCenter&&e.targetCenter&&!yn(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)}function Ji(e,t,n,i,r){var a=Math.cos(-r),o=Math.sin(-r),s=e[0]*a-e[1]*o,l=e[1]*a+e[0]*o;return[(s+=(t[0]/2-n[0])*i)*a-(l+=(n[1]-t[1]/2)*i)*(o=-o),l*a+s*o]}var Xi=Vi;function Ki(e,t){if(!e.visible)return!1;var n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;var i=t.zoom;return i>e.minZoom&&i<=e.maxZoom}var Qi=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n);var r=Object.assign({},e);delete r.source,(i=t.call(this,r)).on,i.once,i.un,i.mapPrecomposeKey_=null,i.mapRenderKey_=null,i.sourceChangeKey_=null,i.renderer_=null,i.sourceReady_=!1,i.rendered=!1,e.render&&(i.render=e.render),e.map&&i.setMap(e.map),i.addChangeListener(zt,i.handleSourcePropertyChange_);var a=e.source?e.source:null;return i.setSource(a),i}return k(n,[{key:"getLayersArray",value:function(e){return(e=e||[]).push(this),e}},{key:"getLayerStatesArray",value:function(e){return(e=e||[]).push(this.getLayerState()),e}},{key:"getSource",value:function(){return this.get(zt)||null}},{key:"getRenderSource",value:function(){return this.getSource()}},{key:"getSourceState",value:function(){var e=this.getSource();return e?e.getState():"undefined"}},{key:"handleSourceChange_",value:function(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}},{key:"handleSourcePropertyChange_",value:function(){var e=this;this.sourceChangeKey_&&(ae(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;var t=this.getSource();t&&(this.sourceChangeKey_=ie(t,Z,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((function(){e.dispatchEvent("sourceready")}),0))),this.changed()}},{key:"getFeatures",value:function(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}},{key:"getData",value:function(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}},{key:"isVisible",value:function(e){var t,n,i=this,r=this.getMapInternal();!e&&r&&(e=r.getView()),!(t=e instanceof Xi?{viewState:e.getState(),extent:e.calculateExtent()}:e).layerStatesArray&&r&&(t.layerStatesArray=r.getLayerGroup().getLayerStatesArray()),n=t.layerStatesArray?t.layerStatesArray.find((function(e){return e.layer===i})):this.getLayerState();var a=this.getExtent();return Ki(n,t.viewState)&&(!a||lt(a,t.extent))}},{key:"getAttributions",value:function(e){if(!this.isVisible(e))return[];var t,n=this.getSource();if(n&&(t=n.getAttributions()),!t)return[];var i=t(e instanceof Xi?e.getViewStateAndExtent():e);return Array.isArray(i)||(i=[i]),i}},{key:"render",value:function(e,t){var n=this.getRenderer();return n.prepareFrame(e)?(this.rendered=!0,n.renderFrame(e,t)):null}},{key:"unrender",value:function(){this.rendered=!1}},{key:"setMapInternal",value:function(e){e||this.unrender(),this.set(Bt,e)}},{key:"getMapInternal",value:function(){return this.get(Bt)}},{key:"setMap",value:function(e){this.mapPrecomposeKey_&&(ae(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(ae(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ie(e,Yt,(function(e){var t=e.frameState.layerStatesArray,n=this.getLayerState(!1);Ee(!t.some((function(e){return e.layer===n.layer})),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(n)}),this),this.mapRenderKey_=ie(this,Z,e.render,e),this.changed())}},{key:"setSource",value:function(e){this.set(zt,e)}},{key:"getRenderer",value:function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}},{key:"hasRenderer",value:function(){return!!this.renderer_}},{key:"createRenderer",value:function(){return null}},{key:"disposeInternal",value:function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),E(S(n.prototype),"disposeInternal",this).call(this)}}]),n}(Ut),$i=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),(i=t.call(this)).map_=e,i}return k(n,[{key:"dispatchRenderEvent",value:function(e,t){le()}},{key:"calculateMatrices2D",value:function(e){var t=e.viewState,n=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Ie(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),De(i,n)}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r,a,o,s){var l,u=t.viewState;function c(e,t,n,i){return r.call(a,t,e?n:null,i)}var d=u.projection,h=_n(e.slice(),d),f=[[0,0]];if(d.canWrapX()&&i){var p=st(d.getExtent());f.push([-p,0],[p,0])}for(var v=t.layerStatesArray,g=v.length,m=[],y=[],b=0;b<f.length;b++)for(var _=g-1;_>=0;--_){var x=v[_],w=x.layer;if(w.hasRenderer()&&Ki(x,u)&&o.call(s,w)){var k=w.getRenderer(),C=w.getSource();if(k&&C){var S=C.getWrapX()?h:e,E=c.bind(null,x.managed);y[0]=S[0]+f[b][0],y[1]=S[1]+f[b][1],l=k.forEachFeatureAtCoordinate(y,t,n,E,m)}if(l)return l}}if(0!==m.length){var T=1/m.length;return m.forEach((function(e,t){return e.distanceSq+=t*T})),m.sort((function(e,t){return e.distanceSq-t.distanceSq})),m.some((function(e){return l=e.callback(e.feature,e.layer,e.geometry)})),l}}},{key:"hasFeatureAtCoordinate",value:function(e,t,n,i,r,a){return void 0!==this.forEachFeatureAtCoordinate(e,t,n,i,z,this,r,a)}},{key:"getMap",value:function(){return this.map_}},{key:"renderFrame",value:function(e){le()}},{key:"flushDeclutterItems",value:function(e){}},{key:"scheduleExpireIconCache",value:function(e){Dt.canExpireCache()&&e.postRenderFunctions.push(er)}}]),n}(N);function er(e,t){Dt.expire()}var tr=$i,nr=function(e){R(n,e);var t=D(n);function n(e,i,r,a){var o;return x(this,n),(o=t.call(this,e)).inversePixelTransform=i,o.frameState=r,o.context=a,o}return k(n)}(P),ir="ol-hidden",rr="ol-unselectable",ar="ol-control",or="ol-collapsed",sr=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),lr=["style","variant","weight","size","lineHeight","family"],ur=function(e){var t=e.match(sr);if(!t)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,r=lr.length;i<r;++i){var a=t[i+1];void 0!==a&&(n[lr[i]]=a)}return n.families=n.family.split(/,\s?/),n};function cr(e,t,n,i){var r;return r=n&&n.length?n.shift():ke?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(r.width=e),t&&(r.height=t),r.getContext("2d",i)}function dr(e){var t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function hr(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)}function fr(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}var pr,vr="10px sans-serif",gr="#000",mr="round",yr=[],br="round",_r="#000",xr="center",wr="middle",kr=[0,0,0,0],Cr=new he,Sr=null,Er={},Tr=function(){var e,t,n="32px ",i=["monospace","serif"],r=i.length,a="wmytzilWMYTZIL@#/&?$%10\uf013";function o(e,o,s){for(var l=!0,u=0;u<r;++u){var c=i[u];if(t=Ir(e+" "+o+" "+n+c,a),s!=c){var d=Ir(e+" "+o+" "+n+s+","+c,a);l=l&&d!=t}}return!!l}function s(){for(var t=!0,n=Cr.getKeys(),i=0,r=n.length;i<r;++i){var a=n[i];Cr.get(a)<100&&(o.apply(this,a.split("\n"))?(W(Er),Sr=null,pr=void 0,Cr.set(a,100)):(Cr.set(a,Cr.get(a)+1,!0),t=!1))}t&&(clearInterval(e),e=void 0)}return function(t){var n=ur(t);if(n)for(var i=n.families,r=0,a=i.length;r<a;++r){var l=i[r],u=n.style+"\n"+n.weight+"\n"+l;void 0===Cr.get(u)&&(Cr.set(u,100,!0),o(n.style,n.weight,l)||(Cr.set(u,0,!0),void 0===e&&(e=setInterval(s,32))))}}}(),Rr=function(){var e;return function(t){var n=Er[t];if(void 0==n){if(ke){var i=ur(t),r=Mr(t,"\u017dg");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else e||((e=document.createElement("div")).innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);Er[t]=n}return n}}();function Mr(e,t){return Sr||(Sr=cr(1,1)),e!=pr&&(Sr.font=e,pr=Sr.font),Sr.measureText(t)}function Ir(e,t){return Mr(e,t).width}function Dr(e,t,n){if(t in n)return n[t];var i=t.split("\n").reduce((function(t,n){return Math.max(t,Ir(e,n))}),0);return n[t]=i,i}function Pr(e,t,n,i,r,a,o,s,l,u,c){e.save(),1!==n&&(e.globalAlpha*=n),t&&e.transform.apply(e,t),i.contextInstructions?(e.translate(l,u),e.scale(c[0],c[1]),function(e,t){for(var n=e.contextInstructions,i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?t[n[i]].apply(t,n[i+1]):t[n[i]]=n[i+1]}(i,e)):c[0]<0||c[1]<0?(e.translate(l,u),e.scale(c[0],c[1]),e.drawImage(i,r,a,o,s,0,0,o,s)):e.drawImage(i,r,a,o,s,l,u,o*c[0],s*c[1]),e.restore()}var Ar=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),(i=t.call(this,e)).fontChangeListenerKey_=ie(Cr,A,e.redrawText.bind(e)),i.element_=document.createElement("div");var r=i.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",i.element_.className=rr+" ol-layers";var a=e.getViewport();return a.insertBefore(i.element_,a.firstChild||null),i.children_=[],i.renderedVisible_=!0,i.declutterLayers_=[],i}return k(n,[{key:"dispatchRenderEvent",value:function(e,t){var n=this.getMap();if(n.hasListener(e)){var i=new nr(e,void 0,t);n.dispatchEvent(i)}}},{key:"disposeInternal",value:function(){ae(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),E(S(n.prototype),"disposeInternal",this).call(this)}},{key:"renderFrame",value:function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(Yt,e);var t=e.layerStatesArray.sort((function(e,t){return e.zIndex-t.zIndex})),n=e.viewState;this.children_.length=0;var i=this.declutterLayers_;i.length=0;for(var r=null,a=0,o=t.length;a<o;++a){var s=t[a];e.layerIndex=a;var l=s.layer,u=l.getSourceState();if(!Ki(s,n)||"ready"!=u&&"undefined"!=u)l.unrender();else{var c=l.render(e,r);c&&(c!==r&&(this.children_.push(c),r=c),"getDeclutter"in l&&i.push(l))}}this.flushDeclutterItems(e),function(e,t){for(var n=e.childNodes,i=0;;++i){var r=n[i],a=t[i];if(!r&&!a)break;r!==a&&(r?a?e.insertBefore(a,r):(e.removeChild(r),--i):e.appendChild(a))}}(this.element_,this.children_),this.dispatchRenderEvent(Vt,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)}},{key:"flushDeclutterItems",value:function(e){for(var t=this.declutterLayers_,n=t.length-1;n>=0;--n)t[n].renderDeclutter(e);t.length=0}}]),n}(tr),Nr=function(e){R(n,e);var t=D(n);function n(e,i){var r;return x(this,n),(r=t.call(this,e)).layer=i,r}return k(n)}(P),Lr="layers",Or=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),e=e||{};var r=Object.assign({},e);delete r.layers;var a=e.layers;return(i=t.call(this,r)).on,i.once,i.un,i.layersListenerKeys_=[],i.listenerKeys_={},i.addChangeListener(Lr,i.handleLayersChanged_),a?Array.isArray(a)?a=new me(a.slice(),{unique:!0}):Ee("function"===typeof a.getArray,"Expected `layers` to be an array or a `Collection`"):a=new me(void 0,{unique:!0}),i.setLayers(a),i}return k(n,[{key:"handleLayerChange_",value:function(){this.changed()}},{key:"handleLayersChanged_",value:function(){this.layersListenerKeys_.forEach(ae),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var t in this.layersListenerKeys_.push(ie(e,fe,this.handleLayersAdd_,this),ie(e,pe,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(ae);W(this.listenerKeys_);for(var n=e.getArray(),i=0,r=n.length;i<r;i++){var a=n[i];this.registerLayerListeners_(a),this.dispatchEvent(new Nr("addlayer",a))}this.changed()}},{key:"registerLayerListeners_",value:function(e){var t=[ie(e,A,this.handleLayerChange_,this),ie(e,Z,this.handleLayerChange_,this)];e instanceof n&&t.push(ie(e,"addlayer",this.handleLayerGroupAdd_,this),ie(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ce(e)]=t}},{key:"handleLayerGroupAdd_",value:function(e){this.dispatchEvent(new Nr("addlayer",e.layer))}},{key:"handleLayerGroupRemove_",value:function(e){this.dispatchEvent(new Nr("removelayer",e.layer))}},{key:"handleLayersAdd_",value:function(e){var t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Nr("addlayer",t)),this.changed()}},{key:"handleLayersRemove_",value:function(e){var t=e.element,n=ce(t);this.listenerKeys_[n].forEach(ae),delete this.listenerKeys_[n],this.dispatchEvent(new Nr("removelayer",t)),this.changed()}},{key:"getLayers",value:function(){return this.get(Lr)}},{key:"setLayers",value:function(e){var t=this.getLayers();if(t)for(var n=t.getArray(),i=0,r=n.length;i<r;++i)this.dispatchEvent(new Nr("removelayer",n[i]));this.set(Lr,e)}},{key:"getLayersArray",value:function(e){return e=void 0!==e?e:[],this.getLayers().forEach((function(t){t.getLayersArray(e)})),e}},{key:"getLayerStatesArray",value:function(e){var t=void 0!==e?e:[],n=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));var i=this.getLayerState(),r=i.zIndex;e||void 0!==i.zIndex||(r=0);for(var a=n,o=t.length;a<o;a++){var s=t[a];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),s.minZoom=Math.max(s.minZoom,i.minZoom),s.maxZoom=Math.min(s.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==s.extent?s.extent=rt(s.extent,i.extent):s.extent=i.extent),void 0===s.zIndex&&(s.zIndex=r)}return t}},{key:"getSourceState",value:function(){return"ready"}}]),n}(Ut),Fr=function(e){R(n,e);var t=D(n);function n(e,i,r){var a;return x(this,n),(a=t.call(this,e)).map=i,a.frameState=void 0!==r?r:null,a}return k(n)}(P),Hr=function(e){R(n,e);var t=D(n);function n(e,i,r,a,o,s){var l;return x(this,n),(l=t.call(this,e,i,o)).originalEvent=r,l.pixel_=null,l.coordinate_=null,l.dragging=void 0!==a&&a,l.activePointers=s,l}return k(n,[{key:"pixel",get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e}},{key:"coordinate",get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e}},{key:"preventDefault",value:function(){E(S(n.prototype),"preventDefault",this).call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){E(S(n.prototype),"stopPropagation",this).call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}]),n}(Fr),jr={SINGLECLICK:"singleclick",CLICK:X,DBLCLICK:K,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},zr="pointermove",Br="pointerdown",Ur=function(e){R(n,e);var t=D(n);function n(e,i){var r;x(this,n),(r=t.call(this,e)).map_=e,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=void 0===i?1:i,r.down_=null;var a=r.map_.getViewport();return r.activePointers_=[],r.trackedTouches_={},r.element_=a,r.pointerdownListenerKey_=ie(a,Br,r.handlePointerDown_,C(r)),r.originalPointerMoveEvent_,r.relayedListenerKey_=ie(a,zr,r.relayMoveEvent_,C(r)),r.boundHandleTouchMove_=r.handleTouchMove_.bind(C(r)),r.element_.addEventListener(te,r.boundHandleTouchMove_,!!Se&&{passive:!1}),r}return k(n,[{key:"emulateClick_",value:function(e){var t=this,n=new Hr(jr.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Hr(jr.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout((function(){t.clickTimeoutId_=void 0;var n=new Hr(jr.SINGLECLICK,t.map_,e);t.dispatchEvent(n)}),250)}},{key:"updateActivePointers_",value:function(e){var t=e,n=t.pointerId;if(t.type==jr.POINTERUP||t.type==jr.POINTERCANCEL){for(var i in delete this.trackedTouches_[n],this.trackedTouches_)if(this.trackedTouches_[i].target!==t.target){delete this.trackedTouches_[i];break}}else t.type!=jr.POINTERDOWN&&t.type!=jr.POINTERMOVE||(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}},{key:"handlePointerUp_",value:function(e){this.updateActivePointers_(e);var t=new Hr(jr.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(ae),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}},{key:"isMouseActionButton_",value:function(e){return 0===e.button}},{key:"handlePointerDown_",value:function(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);var t=new Hr(jr.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){var n=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ie(n,jr.POINTERMOVE,this.handlePointerMove_,this),ie(n,jr.POINTERUP,this.handlePointerUp_,this),ie(this.element_,jr.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push(ie(this.element_.getRootNode(),jr.POINTERUP,this.handlePointerUp_,this))}}},{key:"handlePointerMove_",value:function(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;var t=new Hr(jr.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}},{key:"relayMoveEvent_",value:function(e){this.originalPointerMoveEvent_=e;var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new Hr(jr.POINTERMOVE,this.map_,e,t))}},{key:"handleTouchMove_",value:function(e){var t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"===typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}},{key:"isMoving_",value:function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}},{key:"disposeInternal",value:function(){this.relayedListenerKey_&&(ae(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(te,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(ae(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(ae),this.dragListenerKeys_.length=0,this.element_=null,E(S(n.prototype),"disposeInternal",this).call(this)}}]),n}(V),Wr="postrender",Gr="movestart",Yr="moveend",Vr="loadstart",Zr="loadend",qr="layergroup",Jr="size",Xr="target",Kr="view",Qr=1/0,$r=0,ea=1,ta=2,na=3,ia=4,ra=function(e){R(n,e);var t=D(n);function n(e,i){var r;return x(this,n),(r=t.call(this,(function(t){return e.apply(null,t)}),(function(e){return e[0].getKey()}))).boundHandleTileChange_=r.handleTileChange.bind(C(r)),r.tileChangeCallback_=i,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return k(n,[{key:"enqueue",value:function(e){var t=E(S(n.prototype),"enqueue",this).call(this,e);t&&e[0].addEventListener(Z,this.boundHandleTileChange_);return t}},{key:"getTilesLoading",value:function(){return this.tilesLoading_}},{key:"handleTileChange",value:function(e){var t=e.target,n=t.getState();if(n===ta||n===na||n===ia){n!==na&&t.removeEventListener(Z,this.boundHandleTileChange_);var i=t.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}},{key:"loadMoreTiles",value:function(e,t){for(var n,i,r=0;this.tilesLoading_<e&&r<t&&this.getCount()>0;)i=(n=this.dequeue()[0]).getKey(),n.getState()!==$r||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++r,n.load())}}]),n}(function(){function e(t,n){x(this,e),this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return k(e,[{key:"clear",value:function(){this.elements_.length=0,this.priorities_.length=0,W(this.queuedElements_)}},{key:"dequeue",value:function(){var e=this.elements_,t=this.priorities_,n=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n}},{key:"enqueue",value:function(e){Ee(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");var t=this.priorityFunction_(e);return t!=Qr&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}},{key:"getCount",value:function(){return this.elements_.length}},{key:"getLeftChildIndex_",value:function(e){return 2*e+1}},{key:"getRightChildIndex_",value:function(e){return 2*e+2}},{key:"getParentIndex_",value:function(e){return e-1>>1}},{key:"heapify_",value:function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}},{key:"isEmpty",value:function(){return 0===this.elements_.length}},{key:"isKeyQueued",value:function(e){return e in this.queuedElements_}},{key:"isQueued",value:function(e){return this.isKeyQueued(this.keyFunction_(e))}},{key:"siftUp_",value:function(e){for(var t=this.elements_,n=this.priorities_,i=t.length,r=t[e],a=n[e],o=e;e<i>>1;){var s=this.getLeftChildIndex_(e),l=this.getRightChildIndex_(e),u=l<i&&n[l]<n[s]?l:s;t[e]=t[u],n[e]=n[u],e=u}t[e]=r,n[e]=a,this.siftDown_(o,e)}},{key:"siftDown_",value:function(e,t){for(var n=this.elements_,i=this.priorities_,r=n[t],a=i[t];t>e;){var o=this.getParentIndex_(t);if(!(i[o]>a))break;n[t]=n[o],i[t]=i[o],t=o}n[t]=r,i[t]=a}},{key:"reprioritize",value:function(){var e,t,n,i=this.priorityFunction_,r=this.elements_,a=this.priorities_,o=0,s=r.length;for(t=0;t<s;++t)(n=i(e=r[t]))==Qr?delete this.queuedElements_[this.keyFunction_(e)]:(a[o]=n,r[o++]=e);r.length=o,a.length=o,this.heapify_()}}]),e}()),aa=ra;var oa=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),i=t.call(this);var r=e.element;return!r||e.target||r.style.pointerEvents||(r.style.pointerEvents="auto"),i.element=r||null,i.target_=null,i.map_=null,i.listenerKeys=[],e.render&&(i.render=e.render),e.target&&i.setTarget(e.target),i}return k(n,[{key:"disposeInternal",value:function(){fr(this.element),E(S(n.prototype),"disposeInternal",this).call(this)}},{key:"getMap",value:function(){return this.map_}},{key:"setMap",value:function(e){this.map_&&fr(this.element);for(var t=0,n=this.listenerKeys.length;t<n;++t)ae(this.listenerKeys[t]);(this.listenerKeys.length=0,this.map_=e,e)&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==U&&this.listenerKeys.push(ie(e,Wr,this.render,this)),e.render())}},{key:"render",value:function(e){}},{key:"setTarget",value:function(e){this.target_="string"===typeof e?document.getElementById(e):e}}]),n}(he),sa=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),e=e||{},(i=t.call(this,{element:document.createElement("div"),render:e.render,target:e.target})).ulElement_=document.createElement("ul"),i.collapsed_=void 0===e.collapsed||e.collapsed,i.userCollapsed_=i.collapsed_,i.overrideCollapsible_=void 0!==e.collapsible,i.collapsible_=void 0===e.collapsible||e.collapsible,i.collapsible_||(i.collapsed_=!1);var r=void 0!==e.className?e.className:"ol-attribution",a=void 0!==e.tipLabel?e.tipLabel:"Attributions",o=void 0!==e.expandClassName?e.expandClassName:r+"-expand",s=void 0!==e.collapseLabel?e.collapseLabel:"\u203a",l=void 0!==e.collapseClassName?e.collapseClassName:r+"-collapse";"string"===typeof s?(i.collapseLabel_=document.createElement("span"),i.collapseLabel_.textContent=s,i.collapseLabel_.className=l):i.collapseLabel_=s;var u=void 0!==e.label?e.label:"i";"string"===typeof u?(i.label_=document.createElement("span"),i.label_.textContent=u,i.label_.className=o):i.label_=u;var c=i.collapsible_&&!i.collapsed_?i.collapseLabel_:i.label_;i.toggleButton_=document.createElement("button"),i.toggleButton_.setAttribute("type","button"),i.toggleButton_.setAttribute("aria-expanded",String(!i.collapsed_)),i.toggleButton_.title=a,i.toggleButton_.appendChild(c),i.toggleButton_.addEventListener(X,i.handleClick_.bind(C(i)),!1);var d=r+" "+rr+" "+ar+(i.collapsed_&&i.collapsible_?" "+or:"")+(i.collapsible_?"":" ol-uncollapsible"),h=i.element;return h.className=d,h.appendChild(i.toggleButton_),h.appendChild(i.ulElement_),i.renderedAttributions_=[],i.renderedVisible_=!0,i}return k(n,[{key:"collectSourceAttributions_",value:function(e){var t=Array.from(new Set(this.getMap().getAllLayers().flatMap((function(t){return t.getAttributions(e)})))),n=!this.getMap().getAllLayers().some((function(e){return e.getSource()&&!1===e.getSource().getAttributionsCollapsible()}));return this.overrideCollapsible_||this.setCollapsible(n),t}},{key:"updateElement_",value:function(e){if(e){var t=this.collectSourceAttributions_(e),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!j(t,this.renderedAttributions_)){!function(e){for(;e.lastChild;)e.removeChild(e.lastChild)}(this.ulElement_);for(var i=0,r=t.length;i<r;++i){var a=document.createElement("li");a.innerHTML=t[i],this.ulElement_.appendChild(a)}this.renderedAttributions_=t}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)}},{key:"handleClick_",value:function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}},{key:"handleToggle_",value:function(){this.element.classList.toggle(or),this.collapsed_?hr(this.collapseLabel_,this.label_):hr(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}},{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"setCollapsible",value:function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}},{key:"setCollapsed",value:function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"render",value:function(e){this.updateElement_(e.frameState)}}]),n}(oa),la=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),e=e||{},i=t.call(this,{element:document.createElement("div"),render:e.render,target:e.target});var r=void 0!==e.className?e.className:"ol-rotate",a=void 0!==e.label?e.label:"\u21e7",o=void 0!==e.compassClassName?e.compassClassName:"ol-compass";i.label_=null,"string"===typeof a?(i.label_=document.createElement("span"),i.label_.className=o,i.label_.textContent=a):(i.label_=a,i.label_.classList.add(o));var s=e.tipLabel?e.tipLabel:"Reset rotation",l=document.createElement("button");l.className=r+"-reset",l.setAttribute("type","button"),l.title=s,l.appendChild(i.label_),l.addEventListener(X,i.handleClick_.bind(C(i)),!1);var u=r+" "+rr+" "+ar,c=i.element;return c.className=u,c.appendChild(l),i.callResetNorth_=e.resetNorth?e.resetNorth:void 0,i.duration_=void 0!==e.duration?e.duration:250,i.autoHide_=void 0===e.autoHide||e.autoHide,i.rotation_=void 0,i.autoHide_&&i.element.classList.add(ir),i}return k(n,[{key:"handleClick_",value:function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}},{key:"resetNorth_",value:function(){var e=this.getMap().getView();if(e){var t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:ni}):e.setRotation(0))}}},{key:"render",value:function(e){var t=e.frameState;if(t){var n=t.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(ir);r||0!==n?r&&0!==n&&this.element.classList.remove(ir):this.element.classList.add(ir)}this.label_.style.transform=i}this.rotation_=n}}}]),n}(oa),ua=la,ca=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),e=e||{},i=t.call(this,{element:document.createElement("div"),target:e.target});var r=void 0!==e.className?e.className:"ol-zoom",a=void 0!==e.delta?e.delta:1,o=void 0!==e.zoomInClassName?e.zoomInClassName:r+"-in",s=void 0!==e.zoomOutClassName?e.zoomOutClassName:r+"-out",l=void 0!==e.zoomInLabel?e.zoomInLabel:"+",u=void 0!==e.zoomOutLabel?e.zoomOutLabel:"\u2013",c=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",d=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=o,h.setAttribute("type","button"),h.title=c,h.appendChild("string"===typeof l?document.createTextNode(l):l),h.addEventListener(X,i.handleClick_.bind(C(i),a),!1);var f=document.createElement("button");f.className=s,f.setAttribute("type","button"),f.title=d,f.appendChild("string"===typeof u?document.createTextNode(u):u),f.addEventListener(X,i.handleClick_.bind(C(i),-a),!1);var p=r+" "+rr+" "+ar,v=i.element;return v.className=p,v.appendChild(h),v.appendChild(f),i.duration_=void 0!==e.duration?e.duration:250,i}return k(n,[{key:"handleClick_",value:function(e,t){t.preventDefault(),this.zoomByDelta_(e)}},{key:"zoomByDelta_",value:function(e){var t=this.getMap().getView();if(t){var n=t.getZoom();if(void 0!==n){var i=t.getConstrainedZoom(n+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:i,duration:this.duration_,easing:ni})):t.setZoom(i)}}}}]),n}(oa);var da="active";function ha(e,t,n,i){var r=e.getZoom();if(void 0!==r){var a=e.getConstrainedZoom(r+t),o=e.getResolutionForZoom(a);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:o,anchor:n,duration:void 0!==i?i:250,easing:ni})}}var fa=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),(i=t.call(this)).on,i.once,i.un,e&&e.handleEvent&&(i.handleEvent=e.handleEvent),i.map_=null,i.setActive(!0),i}return k(n,[{key:"getActive",value:function(){return this.get(da)}},{key:"getMap",value:function(){return this.map_}},{key:"handleEvent",value:function(e){return!0}},{key:"setActive",value:function(e){this.set(da,e)}},{key:"setMap",value:function(e){this.map_=e}}]),n}(he),pa=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),e=e||{},(i=t.call(this)).delta_=e.delta?e.delta:1,i.duration_=void 0!==e.duration?e.duration:250,i}return k(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==jr.DBLCLICK){var n=e.originalEvent,i=e.map,r=e.coordinate,a=n.shiftKey?-this.delta_:this.delta_;ha(i.getView(),a,r,this.duration_),n.preventDefault(),t=!0}return!t}}]),n}(fa);function va(e){for(var t=e.length,n=0,i=0,r=0;r<t;r++)n+=e[r].clientX,i+=e[r].clientY;return{clientX:n/t,clientY:i/t}}var ga=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),e=e||{},i=t.call(this,e),e.handleDownEvent&&(i.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(i.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(i.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(i.handleUpEvent=e.handleUpEvent),e.stopDown&&(i.stopDown=e.stopDown),i.handlingDownUpSequence=!1,i.targetPointers=[],i}return k(n,[{key:"getPointerCount",value:function(){return this.targetPointers.length}},{key:"handleDownEvent",value:function(e){return!1}},{key:"handleDragEvent",value:function(e){}},{key:"handleEvent",value:function(e){if(!e.originalEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==jr.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==jr.POINTERUP){var n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==jr.POINTERDOWN){var i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==jr.POINTERMOVE&&this.handleMoveEvent(e);return!t}},{key:"handleMoveEvent",value:function(e){}},{key:"handleUpEvent",value:function(e){return!1}},{key:"stopDown",value:function(e){return e}},{key:"updateTrackedPointers_",value:function(e){e.activePointers&&(this.targetPointers=e.activePointers)}}]),n}(fa);function ma(e){var t=arguments;return function(e){for(var n=!0,i=0,r=t.length;i<r&&(n=n&&t[i](e));++i);return n}}var ya=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},ba=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||function(e){var t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)}(e)},_a=z,xa=function(e){var t=e.originalEvent;return 0==t.button&&!(_e&&xe&&t.ctrlKey)},wa=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},ka=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Ca=function(e){var t=e.originalEvent,n=t.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!t.target.isContentEditable},Sa=function(e){var t=e.originalEvent;return Ee(void 0!==t,"mapBrowserEvent must originate from a pointer event"),"mouse"==t.pointerType},Ea=function(e){var t=e.originalEvent;return Ee(void 0!==t,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&0===t.button},Ta=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),e=e||{},(i=t.call(this,{stopDown:B})).kinetic_=e.kinetic,i.lastCentroid=null,i.lastPointersCount_,i.panning_=!1;var r=e.condition?e.condition:ma(wa,Ea);return i.condition_=e.onFocusOnly?ma(ba,r):r,i.noKinetic_=!1,i}return k(n,[{key:"handleDragEvent",value:function(e){var t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());var n=this.targetPointers,i=t.getEventPixel(va(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var r=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=e.map.getView();!function(e,t){e[0]*=t,e[1]*=t}(r,a.getResolution()),bn(r,a.getRotation()),a.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}},{key:"handleUpEvent",value:function(e){var t=e.map,n=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),a=n.getCenterInternal(),o=t.getPixelFromCoordinateInternal(a),s=t.getCoordinateFromPixelInternal([o[0]-i*Math.cos(r),o[1]-i*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:ni})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>0&&this.condition_(e)){var t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}]),n}(ga),Ra=Ta,Ma=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),e=e||{},(i=t.call(this,{stopDown:B})).condition_=e.condition?e.condition:ya,i.lastAngle_=void 0,i.duration_=void 0!==e.duration?e.duration:250,i}return k(n,[{key:"handleDragEvent",value:function(e){if(Sa(e)){var t=e.map,n=t.getView();if(n.getConstraints().rotation!==$n){var i=t.getSize(),r=e.pixel,a=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var o=a-this.lastAngle_;n.adjustRotationInternal(-o)}this.lastAngle_=a}}}},{key:"handleUpEvent",value:function(e){return!Sa(e)||(e.map.getView().endInteraction(this.duration_),!1)}},{key:"handleDownEvent",value:function(e){return!!Sa(e)&&(!(!xa(e)||!this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}}]),n}(ga),Ia=Ma,Da=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),(i=t.call(this)).geometry_=null,i.element_=document.createElement("div"),i.element_.style.position="absolute",i.element_.style.pointerEvents="auto",i.element_.className="ol-box "+e,i.map_=null,i.startPixel_=null,i.endPixel_=null,i}return k(n,[{key:"disposeInternal",value:function(){this.setMap(null)}},{key:"render_",value:function(){var e=this.startPixel_,t=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(e[0],t[0])+n,i.top=Math.min(e[1],t[1])+n,i.width=Math.abs(t[0]-e[0])+n,i.height=Math.abs(t[1]-e[1])+n}},{key:"setMap",value:function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}},{key:"setPixels",value:function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}},{key:"createOrUpdateGeometry",value:function(){var e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Gi([n])}},{key:"getGeometry",value:function(){return this.geometry_}}]),n}(N),Pa=Da,Aa="boxstart",Na="boxdrag",La="boxend",Oa="boxcancel",Fa=function(e){R(n,e);var t=D(n);function n(e,i,r){var a;return x(this,n),(a=t.call(this,e)).coordinate=i,a.mapBrowserEvent=r,a}return k(n)}(P),Ha=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n);var r=(e=e||{}).condition?e.condition:ka;return(i=t.call(this,{condition:r,className:e.className||"ol-dragzoom",minArea:e.minArea})).duration_=void 0!==e.duration?e.duration:200,i.out_=void 0!==e.out&&e.out,i}return k(n,[{key:"onBoxEnd",value:function(e){var t=this.getMap().getView(),n=this.getGeometry();if(this.out_){var i=t.rotatedExtentForGeometry(n),r=t.getResolutionForExtentInternal(i),a=t.getResolution()/r;(n=n.clone()).scale(a*a)}t.fitInternal(n,{duration:this.duration_,easing:ni})}}]),n}(function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),(i=t.call(this)).on,i.once,i.un,e=e||{},i.box_=new Pa(e.className||"ol-dragbox"),i.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(i.onBoxEnd=e.onBoxEnd),i.startPixel_=null,i.condition_=e.condition?e.condition:xa,i.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:i.defaultBoxEndCondition,i}return k(n,[{key:"defaultBoxEndCondition",value:function(e,t,n){var i=n[0]-t[0],r=n[1]-t[1];return i*i+r*r>=this.minArea_}},{key:"getGeometry",value:function(){return this.box_.getGeometry()}},{key:"handleDragEvent",value:function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Fa(Na,e.coordinate,e))}},{key:"handleUpEvent",value:function(e){this.box_.setMap(null);var t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new Fa(t?La:Oa,e.coordinate,e)),!1}},{key:"handleDownEvent",value:function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Fa(Aa,e.coordinate,e)),!0)}},{key:"onBoxEnd",value:function(e){}}]),n}(ga)),ja="ArrowLeft",za="ArrowUp",Ba="ArrowRight",Ua="ArrowDown",Wa=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),e=e||{},(i=t.call(this)).defaultCondition_=function(e){return wa(e)&&Ca(e)},i.condition_=void 0!==e.condition?e.condition:i.defaultCondition_,i.duration_=void 0!==e.duration?e.duration:100,i.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128,i}return k(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==Q){var n=e.originalEvent,i=n.key;if(this.condition_(e)&&(i==Ua||i==ja||i==Ba||i==za)){var r=e.map.getView(),a=r.getResolution()*this.pixelDelta_,o=0,s=0;i==Ua?s=-a:i==ja?o=-a:i==Ba?o=a:s=a;var l=[o,s];bn(l,r.getRotation()),function(e,t,n){var i=e.getCenterInternal();if(i){var r=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:void 0!==n?n:250,easing:ri,center:e.getConstrainedCenter(r)})}}(r,l,this.duration_),n.preventDefault(),t=!0}}return!t}}]),n}(fa),Ga=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),e=e||{},(i=t.call(this)).condition_=e.condition?e.condition:function(e){return!function(e){var t=e.originalEvent;return xe?t.metaKey:t.ctrlKey}(e)&&Ca(e)},i.delta_=e.delta?e.delta:1,i.duration_=void 0!==e.duration?e.duration:100,i}return k(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==Q||e.type==$){var n=e.originalEvent,i=n.key;if(this.condition_(e)&&("+"===i||"-"===i)){var r=e.map,a="+"===i?this.delta_:-this.delta_;ha(r.getView(),a,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}}]),n}(fa),Ya=function(){function e(t,n,i){x(this,e),this.decay_=t,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}return k(e,[{key:"begin",value:function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}},{key:"update",value:function(e,t){this.points_.push(e,t,Date.now())}},{key:"end",value:function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var n=t-3;n>0&&this.points_[n+2]>e;)n-=3;var i=this.points_[t+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[t]-this.points_[n],a=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(a,r),this.initialVelocity_=Math.sqrt(r*r+a*a)/i,this.initialVelocity_>this.minVelocity_}},{key:"getDistance",value:function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}},{key:"getAngle",value:function(){return this.angle_}}]),e}(),Va=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),e=e||{},(i=t.call(this,e)).totalDelta_=0,i.lastDelta_=0,i.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,i.duration_=void 0!==e.duration?e.duration:250,i.timeout_=void 0!==e.timeout?e.timeout:80,i.useAnchor_=void 0===e.useAnchor||e.useAnchor,i.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;var r=e.condition?e.condition:_a;return i.condition_=e.onFocusOnly?ma(ba,r):r,i.lastAnchor_=null,i.startTime_=void 0,i.timeoutId_,i.mode_=void 0,i.trackpadEventGap_=400,i.trackpadTimeoutId_,i.deltaPerZoom_=300,i}return k(n,[{key:"endInteraction_",value:function(){this.trackpadTimeoutId_=void 0;var e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},{key:"handleEvent",value:function(e){if(!this.condition_(e))return!0;if(e.type!==ne)return!0;var t,n=e.map,i=e.originalEvent;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==ne&&(t=i.deltaY,be&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(t/=we),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(t*=40)),0===t)return!1;this.lastDelta_=t;var r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(t)<4?"trackpad":"wheel");var a=n.getView();if("trackpad"===this.mode_&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-t/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1;this.totalDelta_+=t;var o=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),o),!1}},{key:"handleWheelZoom_",value:function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations();var n=-ht(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),ha(t,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}},{key:"setMouseAnchor",value:function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}]),n}(fa),Za=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n);var r=e=e||{};return r.stopDown||(r.stopDown=B),(i=t.call(this,r)).anchor_=null,i.lastAngle_=void 0,i.rotating_=!1,i.rotationDelta_=0,i.threshold_=void 0!==e.threshold?e.threshold:.3,i.duration_=void 0!==e.duration?e.duration:250,i}return k(n,[{key:"handleDragEvent",value:function(e){var t=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var a=r-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=a}this.lastAngle_=r;var o=e.map,s=o.getView();s.getConstraints().rotation!==$n&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(va(this.targetPointers))),this.rotating_&&(o.render(),s.adjustRotationInternal(t,this.anchor_)))}},{key:"handleUpEvent",value:function(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_),!1)}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}]),n}(ga),qa=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n);var r=e=e||{};return r.stopDown||(r.stopDown=B),(i=t.call(this,r)).anchor_=null,i.duration_=void 0!==e.duration?e.duration:400,i.lastDistance_=void 0,i.lastScaleDelta_=1,i}return k(n,[{key:"handleDragEvent",value:function(e){var t=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,a=n.clientY-i.clientY,o=Math.sqrt(r*r+a*a);void 0!==this.lastDistance_&&(t=this.lastDistance_/o),this.lastDistance_=o;var s=e.map,l=s.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(va(this.targetPointers))),s.render(),l.adjustResolutionInternal(t,this.anchor_)}},{key:"handleUpEvent",value:function(e){if(this.targetPointers.length<2){var t=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,n),!1}return!0}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}]),n}(ga),Ja=qa;function Xa(e){return e[0]>0&&e[1]>0}function Ka(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}function Qa(e){e instanceof Qi?e.setMapInternal(null):e instanceof Or&&e.getLayers().forEach(Qa)}function $a(e,t){if(e instanceof Qi)e.setMapInternal(t);else if(e instanceof Or)for(var n=e.getLayers().getArray(),i=0,r=n.length;i<r;++i)$a(n[i],t)}var eo=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),e=e||{},(i=t.call(this)).on,i.once,i.un;var r=function(e){var t=null;void 0!==e.keyboardEventTarget&&(t="string"===typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var n,i,r,a={},o=e.layers&&"function"===typeof e.layers.getLayers?e.layers:new Or({layers:e.layers});a[qr]=o,a[Xr]=e.target,a[Kr]=e.view instanceof Xi?e.view:new Xi,void 0!==e.controls&&(Array.isArray(e.controls)?n=new me(e.controls.slice()):(Ee("function"===typeof e.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),n=e.controls));void 0!==e.interactions&&(Array.isArray(e.interactions)?i=new me(e.interactions.slice()):(Ee("function"===typeof e.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),i=e.interactions));void 0!==e.overlays?Array.isArray(e.overlays)?r=new me(e.overlays.slice()):(Ee("function"===typeof e.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),r=e.overlays):r=new me;return{controls:n,interactions:i,keyboardEventTarget:t,overlays:r,values:a}}(e);i.renderComplete_,i.loaded_=!0,i.boundHandleBrowserEvent_=i.handleBrowserEvent.bind(C(i)),i.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,i.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:we,i.postRenderTimeoutHandle_,i.animationDelayKey_,i.animationDelay_=i.animationDelay_.bind(C(i)),i.coordinateToPixelTransform_=[1,0,0,1,0,0],i.pixelToCoordinateTransform_=[1,0,0,1,0,0],i.frameIndex_=0,i.frameState_=null,i.previousExtent_=null,i.viewPropertyListenerKey_=null,i.viewChangeListenerKey_=null,i.layerGroupPropertyListenerKeys_=null,i.viewport_=document.createElement("div"),i.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),i.viewport_.style.position="relative",i.viewport_.style.overflow="hidden",i.viewport_.style.width="100%",i.viewport_.style.height="100%",i.overlayContainer_=document.createElement("div"),i.overlayContainer_.style.position="absolute",i.overlayContainer_.style.zIndex="0",i.overlayContainer_.style.width="100%",i.overlayContainer_.style.height="100%",i.overlayContainer_.style.pointerEvents="none",i.overlayContainer_.className="ol-overlaycontainer",i.viewport_.appendChild(i.overlayContainer_),i.overlayContainerStopEvent_=document.createElement("div"),i.overlayContainerStopEvent_.style.position="absolute",i.overlayContainerStopEvent_.style.zIndex="0",i.overlayContainerStopEvent_.style.width="100%",i.overlayContainerStopEvent_.style.height="100%",i.overlayContainerStopEvent_.style.pointerEvents="none",i.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",i.viewport_.appendChild(i.overlayContainerStopEvent_),i.mapBrowserEventHandler_=null,i.moveTolerance_=e.moveTolerance,i.keyboardEventTarget_=r.keyboardEventTarget,i.targetChangeHandlerKeys_=null,i.targetElement_=null,i.resizeObserver_=new ResizeObserver((function(){return i.updateSize()})),i.controls=r.controls||function(e){e=e||{};var t=new me;return(void 0===e.zoom||e.zoom)&&t.push(new ca(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&t.push(new ua(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&t.push(new sa(e.attributionOptions)),t}(),i.interactions=r.interactions||function(e){e=e||{};var t=new me,n=new Ya(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&t.push(new Ia),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&t.push(new pa({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&t.push(new Ra({onFocusOnly:e.onFocusOnly,kinetic:n})),(void 0===e.pinchRotate||e.pinchRotate)&&t.push(new Za),(void 0===e.pinchZoom||e.pinchZoom)&&t.push(new Ja({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(t.push(new Wa),t.push(new Ga({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&t.push(new Va({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&t.push(new Ha({duration:e.zoomDuration})),t}({onFocusOnly:!0}),i.overlays_=r.overlays,i.overlayIdIndex_={},i.renderer_=null,i.postRenderFunctions_=[],i.tileQueue_=new aa(i.getTilePriority.bind(C(i)),i.handleTileChange_.bind(C(i))),i.addChangeListener(qr,i.handleLayerGroupChanged_),i.addChangeListener(Kr,i.handleViewChanged_),i.addChangeListener(Jr,i.handleSizeChanged_),i.addChangeListener(Xr,i.handleTargetChanged_),i.setProperties(r.values);var a=C(i);return!e.view||e.view instanceof Xi||e.view.then((function(e){a.setView(new Xi(e))})),i.controls.addEventListener(fe,(function(e){e.element.setMap(C(i))})),i.controls.addEventListener(pe,(function(e){e.element.setMap(null)})),i.interactions.addEventListener(fe,(function(e){e.element.setMap(C(i))})),i.interactions.addEventListener(pe,(function(e){e.element.setMap(null)})),i.overlays_.addEventListener(fe,(function(e){i.addOverlayInternal_(e.element)})),i.overlays_.addEventListener(pe,(function(e){var t=e.element.getId();void 0!==t&&delete i.overlayIdIndex_[t.toString()],e.element.setMap(null)})),i.controls.forEach((function(e){e.setMap(C(i))})),i.interactions.forEach((function(e){e.setMap(C(i))})),i.overlays_.forEach(i.addOverlayInternal_.bind(C(i))),i}return k(n,[{key:"addControl",value:function(e){this.getControls().push(e)}},{key:"addInteraction",value:function(e){this.getInteractions().push(e)}},{key:"addLayer",value:function(e){this.getLayerGroup().getLayers().push(e)}},{key:"handleLayerAdd_",value:function(e){$a(e.layer,this)}},{key:"addOverlay",value:function(e){this.getOverlays().push(e)}},{key:"addOverlayInternal_",value:function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}},{key:"disposeInternal",value:function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),E(S(n.prototype),"disposeInternal",this).call(this)}},{key:"forEachFeatureAtPixel",value:function(e,t,n){if(this.frameState_&&this.renderer_){var i=this.getCoordinateFromPixelInternal(e),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,a=void 0!==n.layerFilter?n.layerFilter:z,o=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,o,t,null,a,null)}}},{key:"getFeaturesAtPixel",value:function(e,t){var n=[];return this.forEachFeatureAtPixel(e,(function(e){n.push(e)}),t),n}},{key:"getAllLayers",value:function(){var e=[];return function t(n){n.forEach((function(n){n instanceof Or?t(n.getLayers()):e.push(n)}))}(this.getLayers()),e}},{key:"hasFeatureAtPixel",value:function(e,t){if(!this.frameState_||!this.renderer_)return!1;var n=this.getCoordinateFromPixelInternal(e),i=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:z,r=void 0!==t.hitTolerance?t.hitTolerance:0,a=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,a,i,null)}},{key:"getEventCoordinate",value:function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}},{key:"getEventCoordinateInternal",value:function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}},{key:"getEventPixel",value:function(e){var t=this.viewport_.getBoundingClientRect(),n=this.getSize(),i=t.width/n[0],r=t.height/n[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-t.left)/i,(a.clientY-t.top)/r]}},{key:"getTarget",value:function(){return this.get(Xr)}},{key:"getTargetElement",value:function(){return this.targetElement_}},{key:"getCoordinateFromPixel",value:function(e){return Wn(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}},{key:"getCoordinateFromPixelInternal",value:function(e){var t=this.frameState_;return t?Me(t.pixelToCoordinateTransform,e.slice()):null}},{key:"getControls",value:function(){return this.controls}},{key:"getOverlays",value:function(){return this.overlays_}},{key:"getOverlayById",value:function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}},{key:"getInteractions",value:function(){return this.interactions}},{key:"getLayerGroup",value:function(){return this.get(qr)}},{key:"setLayers",value:function(e){var t=this.getLayerGroup();if(e instanceof me)t.setLayers(e);else{var n=t.getLayers();n.clear(),n.extend(e)}}},{key:"getLayers",value:function(){return this.getLayerGroup().getLayers()}},{key:"getLoadingOrNotReady",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,n=e.length;t<n;++t){var i=e[t];if(i.visible){var r=i.layer.getRenderer();if(r&&!r.ready)return!0;var a=i.layer.getSource();if(a&&a.loading)return!0}}return!1}},{key:"getPixelFromCoordinate",value:function(e){var t=Gn(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}},{key:"getPixelFromCoordinateInternal",value:function(e){var t=this.frameState_;return t?Me(t.coordinateToPixelTransform,e.slice(0,2)):null}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"getSize",value:function(){return this.get(Jr)}},{key:"getView",value:function(){return this.get(Kr)}},{key:"getViewport",value:function(){return this.viewport_}},{key:"getOverlayContainer",value:function(){return this.overlayContainer_}},{key:"getOverlayContainerStopEvent",value:function(){return this.overlayContainerStopEvent_}},{key:"getOwnerDocument",value:function(){var e=this.getTargetElement();return e?e.ownerDocument:document}},{key:"getTilePriority",value:function(e,t,n,i){return function(e,t,n,i,r){if(!e||!(n in e.wantedTiles))return Qr;if(!e.wantedTiles[n][t.getKey()])return Qr;var a=e.viewState.center,o=i[0]-a[0],s=i[1]-a[1];return 65536*Math.log(r)+Math.sqrt(o*o+s*s)/r}(this.frameState_,e,t,n,i)}},{key:"handleBrowserEvent",value:function(e,t){t=t||e.type;var n=new Hr(t,this,e);this.handleMapBrowserEvent(n)}},{key:"handleMapBrowserEvent",value:function(e){if(this.frameState_){var t=e.originalEvent,n=t.type;if(n===Br||n===ne||n===Q){var i=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():i,a=t.target;if(this.overlayContainerStopEvent_.contains(a)||!(r===i?i.documentElement:r).contains(a))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var o=this.getInteractions().getArray().slice(),s=o.length-1;s>=0;s--){var l=o[s];if(l.getMap()===this&&l.getActive()&&this.getTargetElement())if(!l.handleEvent(e)||e.propagationStopped)break}}}},{key:"handlePostRender",value:function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var n=this.maxTilesLoading_,i=n;if(e){var r=e.viewHints;if(r[qt]||r[Jt]){var a=Date.now()-e.time>8;n=a?0:8,i=a?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,i))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener(Zt)&&this.renderer_.dispatchRenderEvent(Zt,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new Fr(Zr,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new Fr(Vr,this,e))));for(var o=this.postRenderFunctions_,s=0,l=o.length;s<l;++s)o[s](this,e);o.length=0}},{key:"handleSizeChanged_",value:function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}},{key:"handleTargetChanged_",value:function(){if(this.mapBrowserEventHandler_){for(var e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)ae(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(J,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(ne,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,fr(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);var n=this.targetElement_.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.unobserve(n.host),this.setSize(void 0)}var i=this.getTarget(),r="string"===typeof i?document.getElementById(i):i;if(this.targetElement_=r,r){for(var a in r.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Ar(this)),this.mapBrowserEventHandler_=new Ur(this,this.moveTolerance_),jr)this.mapBrowserEventHandler_.addEventListener(jr[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(J,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(ne,this.boundHandleBrowserEvent_,!!Se&&{passive:!1});var o=this.keyboardEventTarget_?this.keyboardEventTarget_:r;this.targetChangeHandlerKeys_=[ie(o,Q,this.handleBrowserEvent,this),ie(o,$,this.handleBrowserEvent,this)];var s=r.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.observe(s.host),this.resizeObserver_.observe(r)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}},{key:"handleTileChange_",value:function(){this.render()}},{key:"handleViewPropertyChanged_",value:function(){this.render()}},{key:"handleViewChanged_",value:function(){this.viewPropertyListenerKey_&&(ae(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(ae(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=ie(e,A,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ie(e,Z,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}},{key:"handleLayerGroupChanged_",value:function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ae),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Nr("addlayer",e)),this.layerGroupPropertyListenerKeys_=[ie(e,A,this.render,this),ie(e,Z,this.render,this),ie(e,"addlayer",this.handleLayerAdd_,this),ie(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}},{key:"isRendered",value:function(){return!!this.frameState_}},{key:"animationDelay_",value:function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}},{key:"renderSync",value:function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}},{key:"redrawText",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,n=e.length;t<n;++t){var i=e[t].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}},{key:"render",value:function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}},{key:"flushDeclutterItems",value:function(){var e=this.frameState_;e&&this.renderer_.flushDeclutterItems(e)}},{key:"removeControl",value:function(e){return this.getControls().remove(e)}},{key:"removeInteraction",value:function(e){return this.getInteractions().remove(e)}},{key:"removeLayer",value:function(e){return this.getLayerGroup().getLayers().remove(e)}},{key:"handleLayerRemove_",value:function(e){Qa(e.layer)}},{key:"removeOverlay",value:function(e){return this.getOverlays().remove(e)}},{key:"renderFrame_",value:function(e){var t=this,n=this.getSize(),i=this.getView(),r=this.frameState_,a=null;if(void 0!==n&&Xa(n)&&i&&i.isDef()){var o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=i.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:tt(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:s,viewHints:o,wantedTiles:{},mapId:ce(this),renderTargets:{}},s.nextCenter&&s.nextResolution){var l=isNaN(s.nextRotation)?s.rotation:s.nextRotation;a.nextExtent=tt(s.nextCenter,s.nextResolution,l,n)}}if(this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),r)(!this.previousExtent_||!ut(this.previousExtent_)&&!Ye(a.extent,this.previousExtent_))&&(this.dispatchEvent(new Fr(Gr,this,r)),this.previousExtent_=Ge(this.previousExtent_));this.previousExtent_&&!a.viewHints[qt]&&!a.viewHints[Jt]&&!Ye(a.extent,this.previousExtent_)&&(this.dispatchEvent(new Fr(Yr,this,a)),Oe(a.extent,this.previousExtent_))}this.dispatchEvent(new Fr(Wr,this,a)),this.renderComplete_=this.hasListener(Vr)||this.hasListener(Zr)||this.hasListener(Zt)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){t.postRenderTimeoutHandle_=void 0,t.handlePostRender()}),0))}},{key:"setLayerGroup",value:function(e){var t=this.getLayerGroup();t&&this.handleLayerRemove_(new Nr("removelayer",t)),this.set(qr,e)}},{key:"setSize",value:function(e){this.set(Jr,e)}},{key:"setTarget",value:function(e){this.set(Xr,e)}},{key:"setView",value:function(e){if(!e||e instanceof Xi)this.set(Kr,e);else{this.set(Kr,new Xi);var t=this;e.then((function(e){t.setView(new Xi(e))}))}}},{key:"updateSize",value:function(){var e=this.getTargetElement(),t=void 0;if(e){var n=getComputedStyle(e),i=e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),r=e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(i)||isNaN(r)||!Xa(t=[i,r])&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Sn("No map visible because the map container's width or height are 0.")}var a=this.getSize();!t||a&&j(t,a)||(this.setSize(t),this.updateViewportSize_())}},{key:"updateViewportSize_",value:function(){var e=this.getView();if(e){var t=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(t=[parseInt(n.width,10),parseInt(n.height,10)]),e.setViewportSize(t)}}}]),n}(he);var to=eo,no="preload",io="useInterimTilesOnError",ro=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),e=e||{};var r=Object.assign({},e);return delete r.preload,delete r.useInterimTilesOnError,(i=t.call(this,r)).on,i.once,i.un,i.setPreload(void 0!==e.preload?e.preload:0),i.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),i}return k(n,[{key:"getPreload",value:function(){return this.get(no)}},{key:"setPreload",value:function(e){this.set(no,e)}},{key:"getUseInterimTilesOnError",value:function(){return this.get(io)}},{key:"setUseInterimTilesOnError",value:function(e){this.set(io,e)}},{key:"getData",value:function(e){return E(S(n.prototype),"getData",this).call(this,e)}}]),n}(Qi),ao=0,oo=1,so=2,lo=3,uo=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),(i=t.call(this)).ready=!0,i.boundHandleImageChange_=i.handleImageChange_.bind(C(i)),i.layer_=e,i.declutterExecutorGroup=null,i}return k(n,[{key:"getFeatures",value:function(e){return le()}},{key:"getData",value:function(e){return null}},{key:"prepareFrame",value:function(e){return le()}},{key:"renderFrame",value:function(e,t){return le()}},{key:"loadedTileCallback",value:function(e,t,n){e[t]||(e[t]={}),e[t][n.tileCoord.toString()]=n}},{key:"createLoadedTileFinder",value:function(e,t,n){var i=this;return function(r,a){var o=i.loadedTileCallback.bind(i,n,r);return e.forEachLoadedTile(t,r,a,o)}}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r){}},{key:"getLayer",value:function(){return this.layer_}},{key:"handleFontsChanged",value:function(){}},{key:"handleImageChange_",value:function(e){var t=e.target;t.getState()!==so&&t.getState()!==lo||this.renderIfReadyAndVisible()}},{key:"loadImage",value:function(e){var t=e.getState();return t!=so&&t!=lo&&e.addEventListener(Z,this.boundHandleImageChange_),t==ao&&(e.load(),t=e.getState()),t==so}},{key:"renderIfReadyAndVisible",value:function(){var e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}},{key:"disposeInternal",value:function(){delete this.layer_,E(S(n.prototype),"disposeInternal",this).call(this)}}]),n}(se),co=[],ho=null;var fo=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),(i=t.call(this,e)).container=null,i.renderedResolution,i.tempTransform=[1,0,0,1,0,0],i.pixelTransform=[1,0,0,1,0,0],i.inversePixelTransform=[1,0,0,1,0,0],i.context=null,i.containerReused=!1,i.pixelContext_=null,i.frameState=null,i}return k(n,[{key:"getImageData",value:function(e,t,n){var i;ho||(ho=cr(1,1,void 0,{willReadFrequently:!0})),ho.clearRect(0,0,1,1);try{ho.drawImage(e,t,n,1,1,0,0,1,1),i=ho.getImageData(0,0,1,1).data}catch(r){return ho=null,null}return i}},{key:"getBackground",value:function(e){var t=this.getLayer().getBackground();return"function"===typeof t&&(t=t(e.viewState.resolution)),t||void 0}},{key:"useContainer",value:function(e,t,n){var i,r,a=this.getLayer().getClassName();if(e&&e.className===a&&(!n||e&&e.style.backgroundColor&&j(Et(e.style.backgroundColor),Et(n)))){var o=e.firstElementChild;o instanceof HTMLCanvasElement&&(r=o.getContext("2d"))}if(r&&r.canvas.style.transform===t?(this.container=e,this.context=r,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){(i=document.createElement("div")).className=a;var s=i.style;s.position="absolute",s.width="100%",s.height="100%";var l=(r=cr()).canvas;i.appendChild(l),(s=l.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=i,this.context=r}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}},{key:"clipUnrotated",value:function(e,t,n){var i=at(n),r=ot(n),a=Qe(n),o=Ke(n);Me(t.coordinateToPixelTransform,i),Me(t.coordinateToPixelTransform,r),Me(t.coordinateToPixelTransform,a),Me(t.coordinateToPixelTransform,o);var s=this.inversePixelTransform;Me(s,i),Me(s,r),Me(s,a),Me(s,o),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.clip()}},{key:"dispatchRenderEvent_",value:function(e,t,n){var i=this.getLayer();if(i.hasListener(e)){var r=new nr(e,this.inversePixelTransform,n,t);i.dispatchEvent(r)}}},{key:"preRender",value:function(e,t){this.frameState=t,this.dispatchRenderEvent_(Wt,e,t)}},{key:"postRender",value:function(e,t){this.dispatchRenderEvent_(Gt,e,t)}},{key:"getRenderTransform",value:function(e,t,n,i,r,a,o){var s=r/2,l=a/2,u=i/t,c=-u,d=-e[0]+o,h=-e[1];return Ie(this.tempTransform,s,l,u,c,-n,d,h)}},{key:"disposeInternal",value:function(){delete this.frameState,E(S(n.prototype),"disposeInternal",this).call(this)}}]),n}(uo),po=fo,vo=function(e){R(n,e);var t=D(n);function n(e,i,r){var a;return x(this,n),r=r||{},(a=t.call(this)).tileCoord=e,a.state=i,a.interimTile=null,a.key="",a.transition_=void 0===r.transition?250:r.transition,a.transitionStarts_={},a.interpolate=!!r.interpolate,a}return k(n,[{key:"changed",value:function(){this.dispatchEvent(Z)}},{key:"release",value:function(){this.state===na&&this.setState(ia)}},{key:"getKey",value:function(){return this.key+"/"+this.tileCoord}},{key:"getInterimTile",value:function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==ta)return this.transition_=0,e;e=e.interimTile}while(e);return this}},{key:"refreshInterimChain",value:function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==ta){e.interimTile=null;break}e.getState()==ea?t=e:e.getState()==$r?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}}},{key:"getTileCoord",value:function(){return this.tileCoord}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){if(this.state!==na&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}},{key:"load",value:function(){le()}},{key:"getAlpha",value:function(e,t){if(!this.transition_)return 1;var n=this.transitionStarts_[e];if(n){if(-1===n)return 1}else n=t,this.transitionStarts_[e]=n;var i=t-n+1e3/60;return i>=this.transition_?1:ti(i/this.transition_)}},{key:"inTransition",value:function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}},{key:"endTransition",value:function(e){this.transition_&&(this.transitionStarts_[e]=-1)}}]),n}(V),go=vo;function mo(e,t){return t&&(e.src=t),Ce?new Promise((function(t,n){return e.decode().then((function(){return t(e)}),n)})):function(e,t){return new Promise((function(n,i){function r(){o(),n(e)}function a(){o(),i(new Error("Image load error"))}function o(){e.removeEventListener("load",r),e.removeEventListener("error",a)}e.addEventListener("load",r),e.addEventListener("error",a),t&&(e.src=t)}))}(e)}var yo=function(e){R(n,e);var t=D(n);function n(e,i,r,a,o,s){var l;return x(this,n),(l=t.call(this,e,i,s)).crossOrigin_=a,l.src_=r,l.key=r,l.image_=new Image,null!==a&&(l.image_.crossOrigin=a),l.unlisten_=null,l.tileLoadFunction_=o,l}return k(n,[{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(e){this.image_=e,this.state=ta,this.unlistenImage_(),this.changed()}},{key:"handleImageError_",value:function(){this.state=na,this.unlistenImage_(),this.image_=function(){var e=cr(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}(),this.changed()}},{key:"handleImageLoad_",value:function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=ta:this.state=ia,this.unlistenImage_(),this.changed()}},{key:"load",value:function(){this.state==na&&(this.state=$r,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==$r&&(this.state=ea,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(e,t,n){var i=e,r=!0,a=!1,o=!1,s=[re(i,ee,(function(){o=!0,a||t()}))];return i.src&&Ce?(a=!0,i.decode().then((function(){r&&t()})).catch((function(e){r&&(o?t():n())}))):s.push(re(i,q,n)),function(){r=!1,s.forEach(ae)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}]),n}(go);var bo,_o=yo,xo=function(){function e(t,n,i,r,a,o){var s=this;x(this,e),this.sourceProj_=t,this.targetProj_=n;var l={},u=Hn(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return l[t]||(l[t]=u(e)),l[t]},this.maxSourceExtent_=r,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&st(r)>=st(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?st(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?st(this.targetProj_.getExtent()):null;var c=at(i),d=ot(i),h=Qe(i),f=Ke(i),p=this.transformInv_(c),v=this.transformInv_(d),g=this.transformInv_(h),m=this.transformInv_(f),y=10+(o?Math.max(0,Math.ceil(Math.log2(Xe(i)/(o*o*256*256)))):0);if(this.addQuad_(c,d,h,f,p,v,g,m,y),this.wrapsXInSource_){var b=1/0;this.triangles_.forEach((function(e,t,n){b=Math.min(b,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-b>s.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-b>s.sourceWorldWidth_/2&&(t[0][0]-=s.sourceWorldWidth_),t[1][0]-b>s.sourceWorldWidth_/2&&(t[1][0]-=s.sourceWorldWidth_),t[2][0]-b>s.sourceWorldWidth_/2&&(t[2][0]-=s.sourceWorldWidth_);var n=Math.min(t[0][0],t[1][0],t[2][0]);Math.max(t[0][0],t[1][0],t[2][0])-n<s.sourceWorldWidth_/2&&(e.source=t)}}))}l={}}return k(e,[{key:"addTriangle_",value:function(e,t,n,i,r,a){this.triangles_.push({source:[i,r,a],target:[e,t,n]})}},{key:"addQuad_",value:function(e,t,n,i,r,a,o,s,l){var u=Ne([r,a,o,s]),c=this.sourceWorldWidth_?st(u)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&c>.5&&c<1,f=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_)f=st(Ne([e,t,n,i]))/this.targetWorldWidth_>.25||f;!h&&this.sourceProj_.isGlobal()&&c&&(f=c>.25||f)}if(!(!f&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3]))||lt(u,this.maxSourceExtent_)){var p=0;if(!f&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])))if(l>0)f=!0;else if(1!=(p=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(a[0])&&isFinite(a[1])?0:4)+(isFinite(o[0])&&isFinite(o[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=p&&4!=p&&8!=p)return;if(l>0){if(!f){var v,g=[(e[0]+n[0])/2,(e[1]+n[1])/2],m=this.transformInv_(g);if(h)v=(gt(r[0],d)+gt(o[0],d))/2-gt(m[0],d);else v=(r[0]+o[0])/2-m[0];var y=(r[1]+o[1])/2-m[1];f=v*v+y*y>this.errorThresholdSquared_}if(f){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){var b=[(t[0]+n[0])/2,(t[1]+n[1])/2],_=this.transformInv_(b),x=[(i[0]+e[0])/2,(i[1]+e[1])/2],w=this.transformInv_(x);this.addQuad_(e,t,b,x,r,a,_,w,l-1),this.addQuad_(x,b,n,i,w,_,o,s,l-1)}else{var k=[(e[0]+t[0])/2,(e[1]+t[1])/2],C=this.transformInv_(k),S=[(n[0]+i[0])/2,(n[1]+i[1])/2],E=this.transformInv_(S);this.addQuad_(e,k,S,i,r,C,E,s,l-1),this.addQuad_(k,t,n,S,C,a,o,E,l-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&p)&&this.addTriangle_(e,n,i,r,o,s),0==(14&p)&&this.addTriangle_(e,n,t,r,o,a),p&&(0==(13&p)&&this.addTriangle_(t,i,e,a,s,r),0==(7&p)&&this.addTriangle_(t,i,n,a,s,o))}}},{key:"calculateSourceExtent",value:function(){var e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(t,n,i){var r=t.source;Ve(e,r[0]),Ve(e,r[1]),Ve(e,r[2])})),e}},{key:"getTriangles",value:function(){return this.triangles_}}]),e}(),wo=xo,ko=[];function Co(e,t,n,i,r){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(i,r),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(n,r)),e.restore()}function So(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function Eo(e,t,n,i){var r=jn(n,t,e),a=Pn(t,i,n),o=t.getMetersPerUnit();void 0!==o&&(a*=o);var s=e.getMetersPerUnit();void 0!==s&&(a/=s);var l=e.getExtent();if(!l||He(l,r)){var u=Pn(e,a,r)/a;isFinite(u)&&u>0&&(a/=u)}return a}function To(e,t,n,i,r,a,o,s,l,u,c,d){var h=cr(Math.round(n*e),Math.round(n*t),ko);if(d||(h.imageSmoothingEnabled=!1),0===l.length)return h.canvas;function f(e){return Math.round(e*n)/n}h.scale(n,n),h.globalCompositeOperation="lighter";var p=[1/0,1/0,-1/0,-1/0];l.forEach((function(e,t,n){var i,r;i=p,(r=e.extent)[0]<i[0]&&(i[0]=r[0]),r[2]>i[2]&&(i[2]=r[2]),r[1]<i[1]&&(i[1]=r[1]),r[3]>i[3]&&(i[3]=r[3])}));var v=st(p),g=it(p),m=cr(Math.round(n*v/i),Math.round(n*g/i),ko);d||(m.imageSmoothingEnabled=!1);var y=n/i;l.forEach((function(e,t,n){var i=e.extent[0]-p[0],r=-(e.extent[3]-p[3]),a=st(e.extent),o=it(e.extent);e.image.width>0&&e.image.height>0&&m.drawImage(e.image,u,u,e.image.width-2*u,e.image.height-2*u,i*y,r*y,a*y,o*y)}));var b=at(o);return s.getTriangles().forEach((function(e,t,r){var o=e.source,s=e.target,l=o[0][0],u=o[0][1],c=o[1][0],v=o[1][1],g=o[2][0],y=o[2][1],_=f((s[0][0]-b[0])/a),x=f(-(s[0][1]-b[1])/a),w=f((s[1][0]-b[0])/a),k=f(-(s[1][1]-b[1])/a),C=f((s[2][0]-b[0])/a),S=f(-(s[2][1]-b[1])/a),E=l,T=u;l=0,u=0;var R=function(e){for(var t=e.length,n=0;n<t;n++){for(var i=n,r=Math.abs(e[n][n]),a=n+1;a<t;a++){var o=Math.abs(e[a][n]);o>r&&(r=o,i=a)}if(0===r)return null;var s=e[i];e[i]=e[n],e[n]=s;for(var l=n+1;l<t;l++)for(var u=-e[l][n]/e[n][n],c=n;c<t+1;c++)n==c?e[l][c]=0:e[l][c]+=u*e[n][c]}for(var d=new Array(t),h=t-1;h>=0;h--){d[h]=e[h][t]/e[h][h];for(var f=h-1;f>=0;f--)e[f][t]-=e[f][h]*d[h]}return d}([[c-=E,v-=T,0,0,w-_],[g-=E,y-=T,0,0,C-_],[0,0,c,v,k-x],[0,0,g,y,S-x]]);if(R){if(h.save(),h.beginPath(),function(){if(void 0===bo){var e=cr(6,6,ko);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",Co(e,4,5,4,0),Co(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;bo=So(t,0)||So(t,4)||So(t,8),dr(e),ko.push(e.canvas)}return bo}()||!d){h.moveTo(w,k);for(var M=_-w,I=x-k,D=0;D<4;D++)h.lineTo(w+f((D+1)*M/4),k+f(D*I/3)),3!=D&&h.lineTo(w+f((D+1)*M/4),k+f((D+1)*I/3));h.lineTo(C,S)}else h.moveTo(w,k),h.lineTo(_,x),h.lineTo(C,S);h.clip(),h.transform(R[0],R[2],R[1],R[3],_,x),h.translate(p[0]-E,p[3]-T),h.scale(i/n,-i/n),h.drawImage(m.canvas,0,0),h.restore()}})),dr(m),ko.push(m.canvas),c&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach((function(e,t,n){var i=e.target,r=(i[0][0]-b[0])/a,o=-(i[0][1]-b[1])/a,s=(i[1][0]-b[0])/a,l=-(i[1][1]-b[1])/a,u=(i[2][0]-b[0])/a,c=-(i[2][1]-b[1])/a;h.beginPath(),h.moveTo(s,l),h.lineTo(r,o),h.lineTo(u,c),h.closePath(),h.stroke()})),h.restore()),h.canvas}var Ro=function(e){R(n,e);var t=D(n);function n(e,i,r,a,o,s,l,u,c,d,h,f){var p;x(this,n),(p=t.call(this,o,$r,{interpolate:!!f})).renderEdges_=void 0!==h&&h,p.pixelRatio_=l,p.gutter_=u,p.canvas_=null,p.sourceTileGrid_=i,p.targetTileGrid_=a,p.wrappedTileCoord_=s||o,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var v=a.getTileCoordExtent(p.wrappedTileCoord_),g=p.targetTileGrid_.getExtent(),m=p.sourceTileGrid_.getExtent(),y=g?rt(v,g):v;if(0===Xe(y))return p.state=ia,I(p);var b=e.getExtent();b&&(m=m?rt(m,b):b);var _=a.getResolution(p.wrappedTileCoord_[0]),w=function(e,t,n,i){var r=$e(n),a=Eo(e,t,r,i);return(!isFinite(a)||a<=0)&&Je(n,(function(n){return a=Eo(e,t,n,i),isFinite(a)&&a>0})),a}(e,r,y,_);if(!isFinite(w)||w<=0)return p.state=ia,I(p);var k=void 0!==d?d:.5;if(p.triangulation_=new wo(e,r,y,m,w*k,_),0===p.triangulation_.getTriangles().length)return p.state=ia,I(p);p.sourceZ_=i.getZForResolution(w);var C=p.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(C[1]=ht(C[1],m[1],m[3]),C[3]=ht(C[3],m[1],m[3])):C=rt(C,m)),Xe(C)){for(var S=i.getTileRangeForExtentAndZ(C,p.sourceZ_),E=S.minX;E<=S.maxX;E++)for(var T=S.minY;T<=S.maxY;T++){var R=c(p.sourceZ_,E,T,l);R&&p.sourceTiles_.push(R)}0===p.sourceTiles_.length&&(p.state=ia)}else p.state=ia;return p}return k(n,[{key:"getImage",value:function(){return this.canvas_}},{key:"reproject_",value:function(){var e=this,t=[];if(this.sourceTiles_.forEach((function(n){n&&n.getState()==ta&&t.push({extent:e.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})})),this.sourceTiles_.length=0,0===t.length)this.state=na;else{var n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r="number"===typeof i?i:i[0],a="number"===typeof i?i:i[1],o=this.targetTileGrid_.getResolution(n),s=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=To(r,a,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=ta}this.changed()}},{key:"load",value:function(){var e=this;if(this.state==$r){this.state=ea,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(n){var i=n.getState();if(i==$r||i==ea){t++;var r=ie(n,Z,(function(e){var i=n.getState();i!=ta&&i!=na&&i!=ia||(ae(r),0===--t&&(this.unlistenSources_(),this.reproject_()))}),e);e.sourcesListenerKeys_.push(r)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(e,t,n){e.getState()==$r&&e.load()}))}}},{key:"unlistenSources_",value:function(){this.sourcesListenerKeys_.forEach(ae),this.sourcesListenerKeys_=null}},{key:"release",value:function(){this.canvas_&&(dr(this.canvas_.getContext("2d")),ko.push(this.canvas_),this.canvas_=null),E(S(n.prototype),"release",this).call(this)}}]),n}(go),Mo=Ro,Io=function(){function e(t,n,i,r){x(this,e),this.minX=t,this.maxX=n,this.minY=i,this.maxY=r}return k(e,[{key:"contains",value:function(e){return this.containsXY(e[1],e[2])}},{key:"containsTileRange",value:function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}},{key:"containsXY",value:function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}},{key:"equals",value:function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}},{key:"extend",value:function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}},{key:"getHeight",value:function(){return this.maxY-this.minY+1}},{key:"getSize",value:function(){return[this.getWidth(),this.getHeight()]}},{key:"getWidth",value:function(){return this.maxX-this.minX+1}},{key:"intersects",value:function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}]),e}();function Do(e,t,n,i,r){return void 0!==r?(r.minX=e,r.maxX=t,r.minY=n,r.maxY=i,r):new Io(e,t,n,i)}var Po=Io,Ao=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),(i=t.call(this,e)).extentChanged=!0,i.renderedExtent_=null,i.renderedPixelRatio,i.renderedProjection=null,i.renderedRevision,i.renderedTiles=[],i.newTiles_=!1,i.tmpExtent=[1/0,1/0,-1/0,-1/0],i.tmpTileRange_=new Po(0,0,0,0),i}return k(n,[{key:"isDrawableTile",value:function(e){var t=this.getLayer(),n=e.getState(),i=t.getUseInterimTilesOnError();return n==ta||n==ia||n==na&&!i}},{key:"getTile",value:function(e,t,n,i){var r=i.pixelRatio,a=i.viewState.projection,o=this.getLayer(),s=o.getSource().getTile(e,t,n,r,a);return s.getState()==na&&o.getUseInterimTilesOnError()&&o.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(s)||(s=s.getInterimTile()),s}},{key:"getData",value:function(e){var t=this.frameState;if(!t)return null;var n=this.getLayer(),i=Me(t.pixelToCoordinateTransform,e.slice()),r=n.getExtent();if(r&&!He(r,i))return null;for(var a=t.pixelRatio,o=t.viewState.projection,s=t.viewState,l=n.getRenderSource(),u=l.getTileGridForProjection(s.projection),c=l.getTilePixelRatio(t.pixelRatio),d=u.getZForResolution(s.resolution);d>=u.getMinZoom();--d){var h=u.getTileCoordForCoordAndZ(i,d),f=l.getTile(d,h[1],h[2],a,o);if(!(f instanceof _o||f instanceof Mo)||f instanceof Mo&&f.getState()===ia)return null;if(f.getState()===ta){var p=u.getOrigin(d),v=Ka(u.getTileSize(d)),g=u.getResolution(d),m=Math.floor(c*((i[0]-p[0])/g-h[1]*v[0])),y=Math.floor(c*((p[1]-i[1])/g-h[2]*v[1])),b=Math.round(c*l.getGutterForProjection(s.projection));return this.getImageData(f.getImage(),m+b,y+b)}}return null}},{key:"loadedTileCallback",value:function(e,t,i){return!!this.isDrawableTile(i)&&E(S(n.prototype),"loadedTileCallback",this).call(this,e,t,i)}},{key:"prepareFrame",value:function(e){return!!this.getLayer().getSource()}},{key:"renderFrame",value:function(e,t){var n=e.layerStatesArray[e.layerIndex],i=e.viewState,r=i.projection,a=i.resolution,o=i.center,s=i.rotation,l=e.pixelRatio,u=this.getLayer(),c=u.getSource(),d=c.getRevision(),h=c.getTileGridForProjection(r),f=h.getZForResolution(a,c.zDirection),p=h.getResolution(f),v=e.extent,g=e.viewState.resolution,m=c.getTilePixelRatio(l),y=Math.round(st(v)/g*l),b=Math.round(it(v)/g*l),_=n.extent&&Vn(n.extent,r);_&&(v=rt(v,Vn(n.extent,r)));var x=p*y/2/m,w=p*b/2/m,k=[o[0]-x,o[1]-w,o[0]+x,o[1]+w],C=h.getTileRangeForExtentAndZ(v,f),S={};S[f]={};var E=this.createLoadedTileFinder(c,r,S),T=this.tmpExtent,R=this.tmpTileRange_;this.newTiles_=!1;for(var M=s?nt(i.center,g,s,e.size):void 0,I=C.minX;I<=C.maxX;++I)for(var D=C.minY;D<=C.maxY;++D)if(!s||h.tileCoordIntersectsViewport([f,I,D],M)){var P=this.getTile(f,I,D,e);if(this.isDrawableTile(P)){var A=ce(this);if(P.getState()==ta){S[f][P.tileCoord.toString()]=P;var N=P.inTransition(A);N&&1!==n.opacity&&(P.endTransition(A),N=!1),this.newTiles_||!N&&this.renderedTiles.includes(P)||(this.newTiles_=!0)}if(1===P.getAlpha(A,e.time))continue}var O=h.getTileCoordChildTileRange(P.tileCoord,R,T),F=!1;O&&(F=E(f+1,O)),F||h.forEachTileCoordParentTileRange(P.tileCoord,E,R,T)}var H=p/a*l/m;Ie(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/l,1/l,s,-y/2,-b/2);var j=Pe(this.pixelTransform);this.useContainer(t,j,this.getBackground(e));var z=this.context,B=z.canvas;De(this.inversePixelTransform,this.pixelTransform),Ie(this.tempTransform,y/2,b/2,H,H,0,-y/2,-b/2),B.width!=y||B.height!=b?(B.width=y,B.height=b):this.containerReused||z.clearRect(0,0,y,b),_&&this.clipUnrotated(z,e,_),c.getInterpolate()||(z.imageSmoothingEnabled=!1),this.preRender(z,e),this.renderedTiles.length=0;var U,W,G,Y=Object.keys(S).map(Number);Y.sort(L),1!==n.opacity||this.containerReused&&!c.getOpaque(e.viewState.projection)?(U=[],W=[]):Y=Y.reverse();for(var V=Y.length-1;V>=0;--V){var Z=Y[V],q=c.getTilePixelSize(Z,l,r),J=h.getResolution(Z)/p,X=q[0]*J*H,K=q[1]*J*H,Q=h.getTileCoordForCoordAndZ(at(k),Z),$=h.getTileCoordExtent(Q),ee=Me(this.tempTransform,[m*($[0]-k[0])/p,m*(k[3]-$[3])/p]),te=m*c.getGutterForProjection(r),ne=S[Z];for(var ie in ne){var re=ne[ie],ae=re.tileCoord,oe=Q[1]-ae[1],se=Math.round(ee[0]-(oe-1)*X),le=Q[2]-ae[2],ue=Math.round(ee[1]-(le-1)*K),de=Math.round(ee[0]-oe*X),he=Math.round(ee[1]-le*K),fe=se-de,pe=ue-he,ve=f===Z,ge=ve&&1!==re.getAlpha(ce(this),e.time),me=!1;if(!ge)if(U){G=[de,he,de+fe,he,de+fe,he+pe,de,he+pe];for(var ye=0,be=U.length;ye<be;++ye)if(f!==Z&&Z<W[ye]){var _e=U[ye];lt([de,he,de+fe,he+pe],[_e[0],_e[3],_e[4],_e[7]])&&(me||(z.save(),me=!0),z.beginPath(),z.moveTo(G[0],G[1]),z.lineTo(G[2],G[3]),z.lineTo(G[4],G[5]),z.lineTo(G[6],G[7]),z.moveTo(_e[6],_e[7]),z.lineTo(_e[4],_e[5]),z.lineTo(_e[2],_e[3]),z.lineTo(_e[0],_e[1]),z.clip())}U.push(G),W.push(Z)}else z.clearRect(de,he,fe,pe);this.drawTileImage(re,e,de,he,fe,pe,te,ve),U&&!ge?(me&&z.restore(),this.renderedTiles.unshift(re)):this.renderedTiles.push(re),this.updateUsedTiles(e.usedTiles,c,re)}}return this.renderedRevision=d,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!Ye(this.renderedExtent_,k),this.renderedExtent_=k,this.renderedPixelRatio=l,this.renderedProjection=r,this.manageTilePyramid(e,c,h,l,r,v,f,u.getPreload()),this.scheduleExpireCache(e,c),this.postRender(z,e),n.extent&&z.restore(),z.imageSmoothingEnabled=!0,j!==B.style.transform&&(B.style.transform=j),this.container}},{key:"drawTileImage",value:function(e,t,n,i,r,a,o,s){var l=this.getTileImage(e);if(l){var u=ce(this),c=t.layerStatesArray[t.layerIndex],d=c.opacity*(s?e.getAlpha(u,t.time):1),h=d!==this.context.globalAlpha;h&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(l,o,o,l.width-2*o,l.height-2*o,n,i,r,a),h&&this.context.restore(),d!==c.opacity?t.animate=!0:s&&e.endTransition(u)}}},{key:"getImage",value:function(){var e=this.context;return e?e.canvas:null}},{key:"getTileImage",value:function(e){return e.getImage()}},{key:"scheduleExpireCache",value:function(e,t){if(t.canExpireCache()){var n=function(e,t,n){var i=ce(e);i in n.usedTiles&&e.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,t);e.postRenderFunctions.push(n)}}},{key:"updateUsedTiles",value:function(e,t,n){var i=ce(t);i in e||(e[i]={}),e[i][n.getKey()]=!0}},{key:"manageTilePyramid",value:function(e,t,n,i,r,a,o,s,l){var u=ce(t);u in e.wantedTiles||(e.wantedTiles[u]={});var c,d,h,f,p,v,g=e.wantedTiles[u],m=e.tileQueue,y=n.getMinZoom(),b=e.viewState.rotation,_=b?nt(e.viewState.center,e.viewState.resolution,b,e.size):void 0,x=0;for(v=y;v<=o;++v)for(d=n.getTileRangeForExtentAndZ(a,v,d),h=n.getResolution(v),f=d.minX;f<=d.maxX;++f)for(p=d.minY;p<=d.maxY;++p)b&&!n.tileCoordIntersectsViewport([v,f,p],_)||(o-v<=s?(++x,(c=t.getTile(v,f,p,i,r)).getState()==$r&&(g[c.getKey()]=!0,m.isKeyQueued(c.getKey())||m.enqueue([c,u,n.getTileCoordCenter(c.tileCoord),h])),void 0!==l&&l(c)):t.useTile(v,f,p,r));t.updateCacheSize(x,r)}}]),n}(po),No=Ao,Lo=function(e){R(n,e);var t=D(n);function n(e){return x(this,n),t.call(this,e)}return k(n,[{key:"createRenderer",value:function(){return new No(this)}}]),n}(ro),Oo=n(950),Fo=function(){function e(t){x(this,e),this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Ka(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}return k(e,[{key:"clone",value:function(){var t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}},{key:"getOpacity",value:function(){return this.opacity_}},{key:"getRotateWithView",value:function(){return this.rotateWithView_}},{key:"getRotation",value:function(){return this.rotation_}},{key:"getScale",value:function(){return this.scale_}},{key:"getScaleArray",value:function(){return this.scaleArray_}},{key:"getDisplacement",value:function(){return this.displacement_}},{key:"getDeclutterMode",value:function(){return this.declutterMode_}},{key:"getAnchor",value:function(){return le()}},{key:"getImage",value:function(e){return le()}},{key:"getHitDetectionImage",value:function(){return le()}},{key:"getPixelRatio",value:function(e){return 1}},{key:"getImageState",value:function(){return le()}},{key:"getImageSize",value:function(){return le()}},{key:"getOrigin",value:function(){return le()}},{key:"getSize",value:function(){return le()}},{key:"setDisplacement",value:function(e){this.displacement_=e}},{key:"setOpacity",value:function(e){this.opacity_=e}},{key:"setRotateWithView",value:function(e){this.rotateWithView_=e}},{key:"setRotation",value:function(e){this.rotation_=e}},{key:"setScale",value:function(e){this.scale_=e,this.scaleArray_=Ka(e)}},{key:"listenImageChange",value:function(e){le()}},{key:"load",value:function(){le()}},{key:"unlistenImageChange",value:function(e){le()}}]),e}(),Ho=Fo;function jo(e){return Array.isArray(e)?Rt(e):e}var zo=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n);var r=void 0!==e.rotateWithView&&e.rotateWithView;return(i=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})).canvas_=void 0,i.hitDetectionCanvas_=null,i.fill_=void 0!==e.fill?e.fill:null,i.origin_=[0,0],i.points_=e.points,i.radius_=void 0!==e.radius?e.radius:e.radius1,i.radius2_=e.radius2,i.angle_=void 0!==e.angle?e.angle:0,i.stroke_=void 0!==e.stroke?e.stroke:null,i.size_=null,i.renderOptions_=null,i.render(),i}return k(n,[{key:"clone",value:function(){var e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}},{key:"getAnchor",value:function(){var e=this.size_;if(!e)return null;var t=this.getDisplacement(),n=this.getScaleArray();return[e[0]/2-t[0]/n[0],e[1]/2+t[1]/n[1]]}},{key:"getAngle",value:function(){return this.angle_}},{key:"getFill",value:function(){return this.fill_}},{key:"setFill",value:function(e){this.fill_=e,this.render()}},{key:"getHitDetectionImage",value:function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}},{key:"getImage",value:function(e){var t=this.canvas_[e];if(!t){var n=this.renderOptions_,i=cr(n.size*e,n.size*e);this.draw_(n,i,e),t=i.canvas,this.canvas_[e]=t}return t}},{key:"getPixelRatio",value:function(e){return e}},{key:"getImageSize",value:function(){return this.size_}},{key:"getImageState",value:function(){return so}},{key:"getOrigin",value:function(){return this.origin_}},{key:"getPoints",value:function(){return this.points_}},{key:"getRadius",value:function(){return this.radius_}},{key:"getRadius2",value:function(){return this.radius2_}},{key:"getSize",value:function(){return this.size_}},{key:"getStroke",value:function(){return this.stroke_}},{key:"setStroke",value:function(e){this.stroke_=e,this.render()}},{key:"listenImageChange",value:function(e){}},{key:"load",value:function(){}},{key:"unlistenImageChange",value:function(e){}},{key:"calculateLineJoinSize_",value:function(e,t,n){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;var i=this.radius_,r=void 0===this.radius2_?i:this.radius2_;if(i<r){var a=i;i=r,r=a}var o=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/o,l=r*Math.sin(s),u=i-Math.sqrt(r*r-l*l),c=Math.sqrt(l*l+u*u),d=c/l;if("miter"===e&&d<=n)return d*t;var h=t/2/d,f=t/2*(u/c),p=Math.sqrt((i+h)*(i+h)+f*f)-i;if(void 0===this.radius2_||"bevel"===e)return 2*p;var v=i*Math.sin(s),g=r-Math.sqrt(i*i-v*v),m=Math.sqrt(v*v+g*g)/v;if(m<=n){var y=m*t/2-r-i;return 2*Math.max(p,y)}return 2*p}},{key:"createRenderOptions",value:function(){var e,t=mr,n=br,i=0,r=null,a=0,o=0;this.stroke_&&(null===(e=this.stroke_.getColor())&&(e=_r),e=jo(e),void 0===(o=this.stroke_.getWidth())&&(o=1),r=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n=br),void 0===(t=this.stroke_.getLineCap())&&(t=mr),void 0===(i=this.stroke_.getMiterLimit())&&(i=10));var s=this.calculateLineJoinSize_(n,o,i),l=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:e,strokeWidth:o,size:Math.ceil(2*l+s),lineCap:t,lineDash:r,lineDashOffset:a,lineJoin:n,miterLimit:i}}},{key:"render",value:function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}},{key:"draw_",value:function(e,t,n){if(t.scale(n,n),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){var i=this.fill_.getColor();null===i&&(i=gr),t.fillStyle=jo(i),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}},{key:"createHitDetectionCanvas_",value:function(e){if(this.fill_){var t=this.fill_.getColor(),n=0;if("string"===typeof t&&(t=Et(t)),null===t?n=1:Array.isArray(t)&&(n=4===t.length?t[3]:1),0===n){var i=cr(e.size,e.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(e,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}},{key:"createPath_",value:function(e){var t=this.points_,n=this.radius_;if(t===1/0)e.arc(0,0,n,0,2*Math.PI);else{var i=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(t*=2);for(var r=this.angle_-Math.PI/2,a=2*Math.PI/t,o=0;o<t;o++){var s=r+o*a,l=o%2===0?n:i;e.lineTo(l*Math.cos(s),l*Math.sin(s))}e.closePath()}}},{key:"drawHitDetectionCanvas_",value:function(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=gr,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}]),n}(Ho),Bo=zo,Uo=function(e){R(n,e);var t=D(n);function n(e){return x(this,n),e=e||{radius:5},t.call(this,{points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})}return k(n,[{key:"clone",value:function(){var e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}},{key:"setRadius",value:function(e){this.radius_=e,this.render()}}]),n}(Bo),Wo=Uo,Go=function(){function e(t){x(this,e),t=t||{},this.color_=void 0!==t.color?t.color:null}return k(e,[{key:"clone",value:function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})}},{key:"getColor",value:function(){return this.color_}},{key:"setColor",value:function(e){this.color_=e}}]),e}(),Yo=function(){function e(t){x(this,e),t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return k(e,[{key:"clone",value:function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}},{key:"getColor",value:function(){return this.color_}},{key:"getLineCap",value:function(){return this.lineCap_}},{key:"getLineDash",value:function(){return this.lineDash_}},{key:"getLineDashOffset",value:function(){return this.lineDashOffset_}},{key:"getLineJoin",value:function(){return this.lineJoin_}},{key:"getMiterLimit",value:function(){return this.miterLimit_}},{key:"getWidth",value:function(){return this.width_}},{key:"setColor",value:function(e){this.color_=e}},{key:"setLineCap",value:function(e){this.lineCap_=e}},{key:"setLineDash",value:function(e){this.lineDash_=e}},{key:"setLineDashOffset",value:function(e){this.lineDashOffset_=e}},{key:"setLineJoin",value:function(e){this.lineJoin_=e}},{key:"setMiterLimit",value:function(e){this.miterLimit_=e}},{key:"setWidth",value:function(e){this.width_=e}}]),e}(),Vo=function(){function e(t){x(this,e),t=t||{},this.geometry_=null,this.geometryFunction_=Jo,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}return k(e,[{key:"clone",value:function(){var t=this.getGeometry();return t&&"object"===typeof t&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"setRenderer",value:function(e){this.renderer_=e}},{key:"setHitDetectionRenderer",value:function(e){this.hitDetectionRenderer_=e}},{key:"getHitDetectionRenderer",value:function(){return this.hitDetectionRenderer_}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"getGeometryFunction",value:function(){return this.geometryFunction_}},{key:"getFill",value:function(){return this.fill_}},{key:"setFill",value:function(e){this.fill_=e}},{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(e){this.image_=e}},{key:"getStroke",value:function(){return this.stroke_}},{key:"setStroke",value:function(e){this.stroke_=e}},{key:"getText",value:function(){return this.text_}},{key:"setText",value:function(e){this.text_=e}},{key:"getZIndex",value:function(){return this.zIndex_}},{key:"setGeometry",value:function(e){"function"===typeof e?this.geometryFunction_=e:"string"===typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Jo,this.geometry_=e}},{key:"setZIndex",value:function(e){this.zIndex_=e}}]),e}();var Zo=null;function qo(e,t){if(!Zo){var n=new Go({color:"rgba(255,255,255,0.4)"}),i=new Yo({color:"#3399CC",width:1.25});Zo=[new Vo({image:new Wo({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return Zo}function Jo(e){return e.getGeometry()}var Xo=Vo;function Ko(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}var Qo=null,$o=function(e){R(n,e);var t=D(n);function n(e,i,r,a,o){var s;return x(this,n),(s=t.call(this)).hitDetectionImage_=null,s.image_=e,s.crossOrigin_=r,s.canvas_={},s.color_=o,s.imageState_=void 0===a?ao:a,s.size_=e&&e.width&&e.height?[e.width,e.height]:null,s.src_=i,s.tainted_,s}return k(n,[{key:"initializeImage_",value:function(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}},{key:"isTainted_",value:function(){if(void 0===this.tainted_&&this.imageState_===so){Qo||(Qo=cr(1,1,void 0,{willReadFrequently:!0})),Qo.drawImage(this.image_,0,0);try{Qo.getImageData(0,0,1,1),this.tainted_=!1}catch(e){Qo=null,this.tainted_=!0}}return!0===this.tainted_}},{key:"dispatchChangeEvent_",value:function(){this.dispatchEvent(Z)}},{key:"handleImageError_",value:function(){this.imageState_=lo,this.dispatchChangeEvent_()}},{key:"handleImageLoad_",value:function(){this.imageState_=so,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}},{key:"getImage",value:function(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}},{key:"getPixelRatio",value:function(e){return this.replaceColor_(e),this.canvas_[e]?e:1}},{key:"getImageState",value:function(){return this.imageState_}},{key:"getHitDetectionImage",value:function(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],t=this.size_[1],n=cr(e,t);n.fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}},{key:"getSize",value:function(){return this.size_}},{key:"getSrc",value:function(){return this.src_}},{key:"load",value:function(){var e=this;if(this.imageState_===ao){this.image_||this.initializeImage_(),this.imageState_=oo;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(t){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&mo(this.image_,this.src_).then((function(t){e.image_=t,e.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}},{key:"replaceColor_",value:function(e){if(this.color_&&!this.canvas_[e]&&this.imageState_===so){var t=this.image_,n=document.createElement("canvas");n.width=Math.ceil(t.width*e),n.height=Math.ceil(t.height*e);var i=n.getContext("2d");i.scale(e,e),i.drawImage(t,0,0),i.globalCompositeOperation="multiply",i.fillStyle=kt(this.color_),i.fillRect(0,0,n.width/e,n.height/e),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0),this.canvas_[e]=n}}}]),n}(V);function es(e,t,n,i){return void 0!==n&&void 0!==i?[n/e,i/t]:void 0!==n?n/e:void 0!==i?i/t:1}var ts,ns,is=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n);var r=void 0!==(e=e||{}).opacity?e.opacity:1,o=void 0!==e.rotation?e.rotation:0,s=void 0!==e.scale?e.scale:1,l=void 0!==e.rotateWithView&&e.rotateWithView;(i=t.call(this,{opacity:r,rotation:o,scale:s,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:l,declutterMode:e.declutterMode})).anchor_=void 0!==e.anchor?e.anchor:[.5,.5],i.normalizedAnchor_=null,i.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",i.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",i.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",i.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var u,c=void 0!==e.img?e.img:null,d=e.src;if(Ee(!(void 0!==d&&c),"`image` and `src` cannot be provided at the same time"),void 0!==d&&0!==d.length||!c||(d=c.src||ce(c)),Ee(void 0!==d&&d.length>0,"A defined and non-empty `src` or `image` must be provided"),Ee(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==e.src?u=ao:void 0!==c&&(u=c instanceof HTMLImageElement?c.complete?c.src?so:ao:oo:so),i.color_=void 0!==e.color?Et(e.color):null,i.iconImage_=function(e,t,n,i,r){var a=void 0===t?void 0:Dt.get(t,n,r);return a||(a=new $o(e,e instanceof HTMLImageElement?e.src||void 0:t,n,i,r),Dt.set(t,n,r,a)),a}(c,d,i.crossOrigin_,u,i.color_),i.offset_=void 0!==e.offset?e.offset:[0,0],i.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",i.origin_=null,i.size_=void 0!==e.size?e.size:null,void 0!==e.width||void 0!==e.height){var h,f;if(e.size){var p=a(e.size,2);h=p[0],f=p[1]}else{var v=i.getImage(1);if(v.width&&v.height)h=v.width,f=v.height;else if(v instanceof HTMLImageElement){i.initialOptions_=e;return i.listenImageChange((function t(){if(i.unlistenImageChange(t),i.initialOptions_){var n=i.iconImage_.getSize();i.setScale(es(n[0],n[1],e.width,e.height))}})),I(i)}}void 0!==h&&i.setScale(es(h,f,e.width,e.height))}return i}return k(n,[{key:"clone",value:function(){var e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}},{key:"getAnchor",value:function(){var e=this.normalizedAnchor_;if(!e){e=this.anchor_;var t=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!t)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=t[0]),"fraction"==this.anchorYUnits_&&(e[1]*=t[1])}if("top-left"!=this.anchorOrigin_){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[0]=-e[0]+t[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}var n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}},{key:"setAnchor",value:function(e){this.anchor_=e,this.normalizedAnchor_=null}},{key:"getColor",value:function(){return this.color_}},{key:"getImage",value:function(e){return this.iconImage_.getImage(e)}},{key:"getPixelRatio",value:function(e){return this.iconImage_.getPixelRatio(e)}},{key:"getImageSize",value:function(){return this.iconImage_.getSize()}},{key:"getImageState",value:function(){return this.iconImage_.getImageState()}},{key:"getHitDetectionImage",value:function(){return this.iconImage_.getHitDetectionImage()}},{key:"getOrigin",value:function(){if(this.origin_)return this.origin_;var e=this.offset_;if("top-left"!=this.offsetOrigin_){var t=this.getSize(),n=this.iconImage_.getSize();if(!t||!n)return null;e=e.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[0]=n[0]-t[0]-e[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[1]=n[1]-t[1]-e[1])}return this.origin_=e,this.origin_}},{key:"getSrc",value:function(){return this.iconImage_.getSrc()}},{key:"getSize",value:function(){return this.size_?this.size_:this.iconImage_.getSize()}},{key:"getWidth",value:function(){var e=this.getScaleArray();return this.size_?this.size_[0]*e[0]:this.iconImage_.getImageState()==so?this.iconImage_.getSize()[0]*e[0]:void 0}},{key:"getHeight",value:function(){var e=this.getScaleArray();return this.size_?this.size_[1]*e[1]:this.iconImage_.getImageState()==so?this.iconImage_.getSize()[1]*e[1]:void 0}},{key:"setScale",value:function(e){delete this.initialOptions_,E(S(n.prototype),"setScale",this).call(this,e)}},{key:"listenImageChange",value:function(e){this.iconImage_.addEventListener(Z,e)}},{key:"load",value:function(){this.iconImage_.load()}},{key:"unlistenImageChange",value:function(e){this.iconImage_.removeEventListener(Z,e)}}]),n}(Ho),rs=is,as=function(){function e(t){x(this,e),t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=Ka(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new Go({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}return k(e,[{key:"clone",value:function(){var t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}},{key:"getOverflow",value:function(){return this.overflow_}},{key:"getFont",value:function(){return this.font_}},{key:"getMaxAngle",value:function(){return this.maxAngle_}},{key:"getPlacement",value:function(){return this.placement_}},{key:"getRepeat",value:function(){return this.repeat_}},{key:"getOffsetX",value:function(){return this.offsetX_}},{key:"getOffsetY",value:function(){return this.offsetY_}},{key:"getFill",value:function(){return this.fill_}},{key:"getRotateWithView",value:function(){return this.rotateWithView_}},{key:"getRotation",value:function(){return this.rotation_}},{key:"getScale",value:function(){return this.scale_}},{key:"getScaleArray",value:function(){return this.scaleArray_}},{key:"getStroke",value:function(){return this.stroke_}},{key:"getText",value:function(){return this.text_}},{key:"getTextAlign",value:function(){return this.textAlign_}},{key:"getJustify",value:function(){return this.justify_}},{key:"getTextBaseline",value:function(){return this.textBaseline_}},{key:"getBackgroundFill",value:function(){return this.backgroundFill_}},{key:"getBackgroundStroke",value:function(){return this.backgroundStroke_}},{key:"getPadding",value:function(){return this.padding_}},{key:"setOverflow",value:function(e){this.overflow_=e}},{key:"setFont",value:function(e){this.font_=e}},{key:"setMaxAngle",value:function(e){this.maxAngle_=e}},{key:"setOffsetX",value:function(e){this.offsetX_=e}},{key:"setOffsetY",value:function(e){this.offsetY_=e}},{key:"setPlacement",value:function(e){this.placement_=e}},{key:"setRepeat",value:function(e){this.repeat_=e}},{key:"setRotateWithView",value:function(e){this.rotateWithView_=e}},{key:"setFill",value:function(e){this.fill_=e}},{key:"setRotation",value:function(e){this.rotation_=e}},{key:"setScale",value:function(e){this.scale_=e,this.scaleArray_=Ka(void 0!==e?e:1)}},{key:"setStroke",value:function(e){this.stroke_=e}},{key:"setText",value:function(e){this.text_=e}},{key:"setTextAlign",value:function(e){this.textAlign_=e}},{key:"setJustify",value:function(e){this.justify_=e}},{key:"setTextBaseline",value:function(e){this.textBaseline_=e}},{key:"setBackgroundFill",value:function(e){this.backgroundFill_=e}},{key:"setBackgroundStroke",value:function(e){this.backgroundStroke_=e}},{key:"setPadding",value:function(e){this.padding_=e}}]),e}(),os=as;function ss(e,t,n){return ss=M()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&T(r,n.prototype),r},ss.apply(null,arguments)}var ls=0,us=1<<ls++,cs=1<<ls++,ds=1<<ls++,hs=1<<ls++,fs=1<<ls++,ps=Math.pow(2,5)-1,vs=(f(ts={},us,"boolean"),f(ts,cs,"number"),f(ts,ds,"string"),f(ts,hs,"color"),f(ts,fs,"number[]"),ts),gs=Object.keys(vs).map(Number).sort(L);function ms(e){var t,n,i=[],r=Ko(gs);try{for(r.s();!(t=r.n()).done;){var a=t.value;(e&(n=a))===n&&i.push(vs[a])}}catch(o){r.e(o)}finally{r.f()}return 0===i.length?"untyped":i.length<3?i.join(" or "):i.slice(0,-1).join(", ")+", or "+i[i.length-1]}function ys(e,t){return!!(e&t)}var bs=k((function e(t,n){x(this,e),this.type=t,this.value=n})),_s=k((function e(t,n){x(this,e),this.type=t,this.operator=n;for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];this.args=r}));function xs(){return{variables:new Set,properties:new Set}}function ws(e,t){switch(typeof e){case"boolean":return new bs(us,e);case"number":return new bs(cs,e);case"string":return new bs(ds,e)}if(!Array.isArray(e))throw new Error("Expression must be an array or a primitive value");if(0===e.length)throw new Error("Empty expression");if("string"===typeof e[0])return function(e,t){var n=e[0],i=Cs[n];if(!i)throw new Error("Unknown operator: ".concat(n));return i(e,t)}(e,t);var n,i=Ko(e);try{for(i.s();!(n=i.n()).done;){if("number"!==typeof n.value)throw new Error("Expected an array of numbers")}}catch(a){i.e(a)}finally{i.f()}var r=fs;return 3!==e.length&&4!==e.length||(r|=hs),new bs(r,e)}var ks={Number:"number",String:"string",Get:"get",Var:"var",Any:"any",All:"all",Not:"!",Resolution:"resolution",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match"},Cs=(f(ns={},ks.Number,Es(Ss(1,1/0,ps),cs)),f(ns,ks.String,Es(Ss(1,1/0,ps),ds)),f(ns,ks.Get,Es((function(e,t){if(2!==e.length)throw new Error("Expected 1 argument for get operation");var n=ws(e[1],t);if(!(n instanceof bs))throw new Error("Expected a literal argument for get operation");if("string"!==typeof n.value)throw new Error("Expected a string argument for get operation");return t.properties.add(n.value),[n]}),ps)),f(ns,ks.Var,Es((function(e,t){if(2!==e.length)throw new Error("Expected 1 argument for var operation");var n=ws(e[1],t);if(!(n instanceof bs))throw new Error("Expected a literal argument for var operation");if("string"!==typeof n.value)throw new Error("Expected a string argument for get operation");return t.variables.add(n.value),[n]}),ps)),f(ns,ks.Resolution,Es((function(e,t){var n=e[0];if(1!==e.length)throw new Error("Expected no arguments for ".concat(n," operation"));return[]}),cs)),f(ns,ks.Any,Es(Ss(2,1/0,us),us)),f(ns,ks.All,Es(Ss(2,1/0,us),us)),f(ns,ks.Not,Es(Ss(1,1,us),us)),f(ns,ks.Equal,Es(Ss(2,2,ps),us)),f(ns,ks.NotEqual,Es(Ss(2,2,ps),us)),f(ns,ks.GreaterThan,Es(Ss(2,2,ps),us)),f(ns,ks.GreaterThanOrEqualTo,Es(Ss(2,2,ps),us)),f(ns,ks.LessThan,Es(Ss(2,2,ps),us)),f(ns,ks.LessThanOrEqualTo,Es(Ss(2,2,ps),us)),f(ns,ks.Multiply,Es(Ss(2,1/0,cs),cs)),f(ns,ks.Divide,Es(Ss(2,2,cs),cs)),f(ns,ks.Add,Es(Ss(2,1/0,cs),cs)),f(ns,ks.Subtract,Es(Ss(2,2,cs),cs)),f(ns,ks.Clamp,Es(Ss(3,3,cs),cs)),f(ns,ks.Mod,Es(Ss(2,2,cs),cs)),f(ns,ks.Pow,Es(Ss(2,2,cs),cs)),f(ns,ks.Abs,Es(Ss(1,1,cs),cs)),f(ns,ks.Floor,Es(Ss(1,1,cs),cs)),f(ns,ks.Ceil,Es(Ss(1,1,cs),cs)),f(ns,ks.Round,Es(Ss(1,1,cs),cs)),f(ns,ks.Sin,Es(Ss(1,1,cs),cs)),f(ns,ks.Cos,Es(Ss(1,1,cs),cs)),f(ns,ks.Atan,Es(Ss(1,2,cs),cs)),f(ns,ks.Sqrt,Es(Ss(1,1,cs),cs)),f(ns,ks.Match,Es(Ss(4,1/0,ds|cs),ps)),ns);function Ss(e,t,n){return function(i,r){var a=i[0],o=i.length-1;if(e===t){if(o!==e){var s=1===e?"":"s";throw new Error("Expected ".concat(e," argument").concat(s," for operation ").concat(a,", got ").concat(o))}}else if(o<e||o>t)throw new Error("Expected ".concat(e," to ").concat(t," arguments for operation ").concat(a,", got ").concat(o));for(var l=new Array(o),u=0;u<o;++u){var c=ws(i[u+1],r);if(!ys(n,c.type)){var d=ms(n),h=ms(c.type);throw new Error("Unexpected type for argument ".concat(u," of ").concat(a," operation")+" : got ".concat(d," but expected ").concat(h))}l[u]=c}return l}}function Es(e,t){return function(n,i){var r=n[0],a=e(n,i);return ss(_s,[t,r].concat(g(a)))}}function Ts(e,t,n){var i=ws(e,n);if(!ys(t,i.type)){var r=ms(t),a=ms(i.type);throw new Error("Expected expression to be of type ".concat(r,", got ").concat(a))}return Rs(i,n)}function Rs(e,t){if(e instanceof bs)return function(){return e.value};var n=e.operator;switch(n){case ks.Number:case ks.String:return function(e,t){for(var n=e.operator,i=e.args.length,r=new Array(i),a=0;a<i;++a)r[a]=Rs(e.args[a],t);switch(n){case ks.Number:case ks.String:return function(e){for(var t=0;t<i;++t){var a=r[t](e);if(typeof a===n)return a}throw new Error("Expected one of the values to be a ".concat(n))};default:throw new Error("Unsupported assertion operator ".concat(n))}}(e,t);case ks.Get:case ks.Var:return function(e,t){var n=e.args[0];if(!(n instanceof bs))throw new Error("Expected literal name");var i=n.value;if("string"!==typeof i)throw new Error("Expected string name");switch(e.operator){case ks.Get:return function(e){return e.properties[i]};case ks.Var:return function(e){return e.variables[i]};default:throw new Error("Unsupported accessor operator ".concat(e.operator))}}(e);case ks.Resolution:return function(e){return e.resolution};case ks.Any:case ks.All:case ks.Not:return function(e,t){for(var n=e.operator,i=e.args.length,r=new Array(i),a=0;a<i;++a)r[a]=Rs(e.args[a],t);switch(n){case ks.Any:return function(e){for(var t=0;t<i;++t)if(r[t](e))return!0;return!1};case ks.All:return function(e){for(var t=0;t<i;++t)if(!r[t](e))return!1;return!0};case ks.Not:return function(e){return!r[0](e)};default:throw new Error("Unsupported logical operator ".concat(n))}}(e,t);case ks.Equal:case ks.NotEqual:case ks.LessThan:case ks.LessThanOrEqualTo:case ks.GreaterThan:case ks.GreaterThanOrEqualTo:return function(e,t){var n=e.operator,i=Rs(e.args[0],t),r=Rs(e.args[1],t);switch(n){case ks.Equal:return function(e){return i(e)===r(e)};case ks.NotEqual:return function(e){return i(e)!==r(e)};case ks.LessThan:return function(e){return i(e)<r(e)};case ks.LessThanOrEqualTo:return function(e){return i(e)<=r(e)};case ks.GreaterThan:return function(e){return i(e)>r(e)};case ks.GreaterThanOrEqualTo:return function(e){return i(e)>=r(e)};default:throw new Error("Unsupported comparison operator ".concat(n))}}(e,t);case ks.Multiply:case ks.Divide:case ks.Add:case ks.Subtract:case ks.Clamp:case ks.Mod:case ks.Pow:case ks.Abs:case ks.Floor:case ks.Ceil:case ks.Round:case ks.Sin:case ks.Cos:case ks.Atan:case ks.Sqrt:return function(e,t){for(var n=e.operator,i=e.args.length,r=new Array(i),a=0;a<i;++a)r[a]=Rs(e.args[a],t);switch(n){case ks.Multiply:return function(e){for(var t=1,n=0;n<i;++n)t*=r[n](e);return t};case ks.Divide:return function(e){return r[0](e)/r[1](e)};case ks.Add:return function(e){for(var t=0,n=0;n<i;++n)t+=r[n](e);return t};case ks.Subtract:return function(e){return r[0](e)-r[1](e)};case ks.Clamp:return function(e){var t=r[0](e),n=r[1](e);if(t<n)return n;var i=r[2](e);return t>i?i:t};case ks.Mod:return function(e){return r[0](e)%r[1](e)};case ks.Pow:return function(e){return Math.pow(r[0](e),r[1](e))};case ks.Abs:return function(e){return Math.abs(r[0](e))};case ks.Floor:return function(e){return Math.floor(r[0](e))};case ks.Ceil:return function(e){return Math.ceil(r[0](e))};case ks.Round:return function(e){return Math.round(r[0](e))};case ks.Sin:return function(e){return Math.sin(r[0](e))};case ks.Cos:return function(e){return Math.cos(r[0](e))};case ks.Atan:return 2===i?function(e){return Math.atan2(r[0](e),r[1](e))}:function(e){return Math.atan(r[0](e))};case ks.Sqrt:return function(e){return Math.sqrt(r[0](e))};default:throw new Error("Unsupported numeric operator ".concat(n))}}(e,t);case ks.Match:return function(e,t){for(var n=e.args.length,i=new Array(n),r=0;r<n;++r)i[r]=Rs(e.args[r],t);return function(e){for(var t=i[0](e),r=1;r<n;r+=2)if(t===i[r](e))return i[r+1](e);return i[n-1](e)}}(e,t);default:throw new Error("Unsupported operator ".concat(n))}}function Ms(e){return!0}function Is(e){var t=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;++r){var a=e[r],o="filter"in a?Ts(a.filter,us,t):Ms,s=void 0;if(Array.isArray(a.style)){var l=a.style.length;s=new Array(l);for(var u=0;u<l;++u)s[u]=Ps(a.style[u],t)}else s=[Ps(a.style,t)];i[r]={filter:o,styles:s}}return function(t){for(var r=[],a=!1,o=0;o<n;++o){if((0,i[o].filter)(t)&&(!e[o].else||!a)){a=!0;var s,l=Ko(i[o].styles);try{for(l.s();!(s=l.n()).done;){var u=(0,s.value)(t);u&&r.push(u)}}catch(c){l.e(c)}finally{l.f()}}}return r}}(e,xs()),n={variables:{},properties:{},resolution:NaN};return function(e,i){return n.properties=e.getPropertiesInternal(),n.resolution=i,t(n)}}function Ds(e){for(var t=xs(),n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=Ps(e[r],t);var a={variables:{},properties:{},resolution:NaN},o=new Array(n);return function(e,t){a.properties=e.getPropertiesInternal(),a.resolution=t;for(var r=0;r<n;++r)o[r]=i[r](a);return o}}function Ps(e,t){var n=As(e,"",t),i=Ns(e,"",t),r=function(e,t){var n="text-",i=Os(e,n+"value",t);if(!i)return null;var r=As(e,n,t),a=As(e,n+"background-",t),o=Ns(e,n,t),s=Ns(e,n+"background-",t),l=Os(e,n+"font",t),u=Ls(e,n+"max-angle",t),c=Ls(e,n+"offset-x",t),d=Ls(e,n+"offset-y",t),h=Fs(e,n+"overflow",t),f=Os(e,n+"placement",t),p=Ls(e,n+"repeat",t),v=Bs(e,n+"scale",t),g=Fs(e,n+"rotate-with-view",t),m=Ls(e,n+"rotation",t),y=Os(e,n+"align",t),b=Os(e,n+"justify",t),_=Os(e,n+"baseline",t),x=js(e,n+"padding",t),w=new os({});return function(e){if(w.setText(i(e)),r&&w.setFill(r(e)),a&&w.setBackgroundFill(a(e)),o&&w.setStroke(o(e)),s&&w.setBackgroundStroke(s(e)),l&&w.setFont(l(e)),u&&w.setMaxAngle(u(e)),c&&w.setOffsetX(c(e)),d&&w.setOffsetY(d(e)),h&&w.setOverflow(h(e)),f){var t=f(e);if("point"!==t&&"line"!==t)throw new Error("Expected point or line for text-placement");w.setPlacement(t)}if(p&&w.setRepeat(p(e)),v&&w.setScale(v(e)),g&&w.setRotateWithView(g(e)),m&&w.setRotation(m(e)),y){var n=y(e);if("left"!==n&&"center"!==n&&"right"!==n&&"end"!==n&&"start"!==n)throw new Error("Expected left, right, center, start, or end for text-align");w.setTextAlign(n)}if(b){var k=b(e);if("left"!==k&&"right"!==k&&"center"!==k)throw new Error("Expected left, right, or center for text-justify");w.setJustify(k)}if(_){var C=_(e);if("bottom"!==C&&"top"!==C&&"middle"!==C&&"alphabetic"!==C&&"hanging"!==C)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");w.setTextBaseline(C)}return x&&w.setPadding(x(e)),w}}(e,t),a=function(e,t){if("icon-src"in e)return function(e,t){var n="icon-",i=n+"src",r=Zs(e[i],i),a=zs(e,n+"anchor",t),o=Bs(e,n+"scale",t),s=Ls(e,n+"opacity",t),l=zs(e,n+"displacement",t),u=Ls(e,n+"rotation",t),c=Fs(e,n+"rotate-with-view",t),d=Ws(e,n+"anchor-origin"),h=Gs(e,n+"anchor-x-units"),f=Gs(e,n+"anchor-y-units"),p=function(e,t){var n=e[t];if(void 0===n)return;return Js(n,t)}(e,n+"color"),v=function(e,t){var n=e[t];if(void 0===n)return;if("string"!==typeof n)throw new Error("Expected a string for ".concat(t));return n}(e,n+"cross-origin"),g=function(e,t){var n=e[t];if(void 0===n)return;return Vs(n,t)}(e,n+"offset"),m=Ws(e,n+"offset-origin"),y=Us(e,n+"width"),b=Us(e,n+"height"),_=function(e,t){var n=e[t];if(void 0===n)return;if("number"===typeof n)return Ka(n);if(!Array.isArray(n))throw new Error("Expected a number or size array for ".concat(t));if(2!==n.length||"number"!==typeof n[0]||"number"!==typeof n[1])throw new Error("Expected a number or size array for ".concat(t));return n}(e,n+"size"),x=Ys(e,n+"declutter"),w=new rs({src:r,anchorOrigin:d,anchorXUnits:h,anchorYUnits:f,color:p,crossOrigin:v,offset:g,offsetOrigin:m,height:b,width:y,size:_,declutterMode:x});return function(e){return s&&w.setOpacity(s(e)),l&&w.setDisplacement(l(e)),u&&w.setRotation(u(e)),c&&w.setRotateWithView(c(e)),o&&w.setScale(o(e)),a&&w.setAnchor(a(e)),w}}(e,t);if("shape-points"in e)return function(e,t){var n="shape-",i=n+"points",r=qs(e[i],i),a=As(e,n,t),o=Ns(e,n,t),s=Bs(e,n+"scale",t),l=zs(e,n+"displacement",t),u=Ls(e,n+"rotation",t),c=Fs(e,n+"rotate-with-view",t),d=Us(e,n+"radius"),h=Us(e,n+"radius1"),f=Us(e,n+"radius2"),p=Us(e,n+"angle"),v=Ys(e,n+"declutter-mode"),g=new Bo({points:r,radius:d,radius1:h,radius2:f,angle:p,declutterMode:v});return function(e){return a&&g.setFill(a(e)),o&&g.setStroke(o(e)),l&&g.setDisplacement(l(e)),u&&g.setRotation(u(e)),c&&g.setRotateWithView(c(e)),s&&g.setScale(s(e)),g}}(e,t);if("circle-radius"in e)return function(e,t){var n="circle-",i=As(e,n,t),r=Ns(e,n,t),a=Ls(e,n+"radius",t),o=Bs(e,n+"scale",t),s=zs(e,n+"displacement",t),l=Ls(e,n+"rotation",t),u=Fs(e,n+"rotate-with-view",t),c=Ys(e,n+"declutter-mode"),d=new Wo({radius:5,declutterMode:c});return function(e){return a&&d.setRadius(a(e)),i&&d.setFill(i(e)),r&&d.setStroke(r(e)),s&&d.setDisplacement(s(e)),l&&d.setRotation(l(e)),u&&d.setRotateWithView(u(e)),o&&d.setScale(o(e)),d}}(e,t);return null}(e,t),o=Ls(e,"z-index",t),s=new Xo;return function(e){var t=!0;if(n){var l=n(e);l&&(t=!1),s.setFill(l)}if(i){var u=i(e);u&&(t=!1),s.setStroke(u)}if(r){var c=r(e);c&&(t=!1),s.setText(c)}if(a){var d=a(e);d&&(t=!1),s.setImage(d)}return o&&s.setZIndex(o(e)),t?null:s}}function As(e,t,n){var i=Hs(e,t+"fill-color",n);if(!i)return null;var r=new Go;return function(e){var t=i(e);return"none"===t?null:(r.setColor(t),r)}}function Ns(e,t,n){var i=Ls(e,t+"stroke-width",n),r=Hs(e,t+"stroke-color",n);if(!i&&!r)return null;var a=Os(e,t+"stroke-line-cap",n),o=Os(e,t+"stroke-line-join",n),s=js(e,t+"stroke-line-dash",n),l=Ls(e,t+"stroke-line-dash-offset",n),u=Ls(e,t+"stroke-miter-limit",n),c=new Yo;return function(e){if(r){var t=r(e);if("none"===t)return null;c.setColor(t)}if(i&&c.setWidth(i(e)),a){var n=a(e);if("butt"!==n&&"round"!==n&&"square"!==n)throw new Error("Expected butt, round, or square line cap");c.setLineCap(n)}if(o){var d=o(e);if("bevel"!==d&&"round"!==d&&"miter"!==d)throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(d)}return s&&c.setLineDash(s(e)),l&&c.setLineDashOffset(l(e)),u&&c.setMiterLimit(u(e)),c}}function Ls(e,t,n){if(t in e){var i=Ts(e[t],cs,n);return function(e){return qs(i(e),t)}}}function Os(e,t,n){if(!(t in e))return null;var i=Ts(e[t],ds,n);return function(e){return Zs(i(e),t)}}function Fs(e,t,n){if(!(t in e))return null;var i=Ts(e[t],us,n);return function(e){var n=i(e);if("boolean"!==typeof n)throw new Error("Expected a boolean for ".concat(t));return n}}function Hs(e,t,n){if(!(t in e))return null;var i=Ts(e[t],hs|ds,n);return function(e){return Js(i(e),t)}}function js(e,t,n){if(!(t in e))return null;var i=Ts(e[t],fs,n);return function(e){return Vs(i(e),t)}}function zs(e,t,n){if(!(t in e))return null;var i=Ts(e[t],fs,n);return function(e){var n=Vs(i(e),t);if(2!==n.length)throw new Error("Expected two numbers for ".concat(t));return n}}function Bs(e,t,n){if(!(t in e))return null;var i=Ts(e[t],fs|cs,n);return function(e){return function(e,t){if("number"===typeof e)return e;var n=Vs(e,t);if(2!==n.length)throw new Error("Expected an array of two numbers for ".concat(t));return n}(i(e),t)}}function Us(e,t){var n=e[t];if(void 0!==n){if("number"!==typeof n)throw new Error("Expected a number for ".concat(t));return n}}function Ws(e,t){var n=e[t];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error("Expected bottom-left, bottom-right, top-left, or top-right for ".concat(t));return n}}function Gs(e,t){var n=e[t];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error("Expected pixels or fraction for ".concat(t));return n}}function Ys(e,t){var n=e[t];if(void 0!==n){if("string"!==typeof n)throw new Error("Expected a string for ".concat(t));if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error("Expected declutter, obstacle, or none for ".concat(t));return n}}function Vs(e,t){if(!Array.isArray(e))throw new Error("Expected an array for ".concat(t));for(var n=e.length,i=0;i<n;++i)if("number"!==typeof e[i])throw new Error("Expected an array of numbers for ".concat(t));return e}function Zs(e,t){if("string"!==typeof e)throw new Error("Expected a string for ".concat(t));return e}function qs(e,t){if("number"!==typeof e)throw new Error("Expected a number for ".concat(t));return e}function Js(e,t){if("string"===typeof e)return e;var n=Vs(e,t),i=n.length;if(i<3||i>4)throw new Error("Expected a color with 3 or 4 values for ".concat(t));return n}var Xs="renderOrder",Ks=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),e=e||{};var r=Object.assign({},e);return delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,(i=t.call(this,r)).declutter_=void 0!==e.declutter&&e.declutter,i.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,i.style_=null,i.styleFunction_=void 0,i.setStyle(e.style),i.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,i.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting,i}return k(n,[{key:"getDeclutter",value:function(){return this.declutter_}},{key:"getFeatures",value:function(e){return E(S(n.prototype),"getFeatures",this).call(this,e)}},{key:"getRenderBuffer",value:function(){return this.renderBuffer_}},{key:"getRenderOrder",value:function(){return this.get(Xs)}},{key:"getStyle",value:function(){return this.style_}},{key:"getStyleFunction",value:function(){return this.styleFunction_}},{key:"getUpdateWhileAnimating",value:function(){return this.updateWhileAnimating_}},{key:"getUpdateWhileInteracting",value:function(){return this.updateWhileInteracting_}},{key:"renderDeclutter",value:function(e){e.declutterTree||(e.declutterTree=new Oo(9)),this.getRenderer().renderDeclutter(e)}},{key:"setRenderOrder",value:function(e){this.set(Xs,e)}},{key:"setStyle",value:function(e){this.style_=function(e){if(void 0===e)return qo;if(!e)return null;if("function"===typeof e)return e;if(e instanceof Xo)return e;if(!Array.isArray(e))return Ds([e]);if(0===e.length)return[];var t=e.length,n=e[0];if(n instanceof Xo){for(var i=new Array(t),r=0;r<t;++r){var a=e[r];if(!(a instanceof Xo))throw new Error("Expected a list of style instances");i[r]=a}return i}if("style"in n){for(var o=new Array(t),s=0;s<t;++s){var l=e[s];if(!("style"in l))throw new Error("Expected a list of rules with a style property");o[s]=l}return Is(o)}var u=e;return Ds(u)}(e),this.styleFunction_=null===e?void 0:function(e){var t;if("function"===typeof e)t=e;else{var n;Array.isArray(e)?n=e:(Ee("function"===typeof e.getZIndex,"Expected an `Style` or an array of `Style`"),n=[e]),t=function(){return n}}return t}(this.style_),this.changed()}}]),n}(Qi);var Qs=Ks,$s={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},el=[$s.FILL],tl=[$s.STROKE],nl=[$s.BEGIN_PATH],il=[$s.CLOSE_PATH],rl=$s,al=function(){function e(){x(this,e)}return k(e,[{key:"drawCustom",value:function(e,t,n,i){}},{key:"drawGeometry",value:function(e){}},{key:"setStyle",value:function(e){}},{key:"drawCircle",value:function(e,t){}},{key:"drawFeature",value:function(e,t){}},{key:"drawGeometryCollection",value:function(e,t){}},{key:"drawLineString",value:function(e,t){}},{key:"drawMultiLineString",value:function(e,t){}},{key:"drawMultiPoint",value:function(e,t){}},{key:"drawMultiPolygon",value:function(e,t){}},{key:"drawPoint",value:function(e,t){}},{key:"drawPolygon",value:function(e,t){}},{key:"drawText",value:function(e,t){}},{key:"setFillStrokeStyle",value:function(e,t){}},{key:"setImageStyle",value:function(e,t){}},{key:"setTextStyle",value:function(e,t){}}]),e}(),ol=function(e){R(n,e);var t=D(n);function n(e,i,r,a){var o;return x(this,n),(o=t.call(this)).tolerance=e,o.maxExtent=i,o.pixelRatio=a,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return k(n,[{key:"applyPixelRatio",value:function(e){var t=this.pixelRatio;return 1==t?e:e.map((function(e){return e*t}))}},{key:"appendFlatPointCoordinates",value:function(e,t){for(var n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates,a=r.length,o=0,s=e.length;o<s;o+=t)i[0]=e[o],i[1]=e[o+1],He(n,i)&&(r[a++]=i[0],r[a++]=i[1]);return a}},{key:"appendFlatLineCoordinates",value:function(e,t,n,i,r,a){var o=this.coordinates,s=o.length,l=this.getBufferedMaxExtent();a&&(t+=i);var u,c,d,h=e[t],f=e[t+1],p=this.tmpCoordinate_,v=!0;for(u=t+i;u<n;u+=i)p[0]=e[u],p[1]=e[u+1],(d=Be(l,p))!==c?(v&&(o[s++]=h,o[s++]=f,v=!1),o[s++]=p[0],o[s++]=p[1]):d===Ae.INTERSECTING?(o[s++]=p[0],o[s++]=p[1],v=!1):v=!0,h=p[0],f=p[1],c=d;return(r&&v||u===t+i)&&(o[s++]=h,o[s++]=f),s}},{key:"drawCustomCoordinates_",value:function(e,t,n,i,r){for(var a=0,o=n.length;a<o;++a){var s=n[a],l=this.appendFlatLineCoordinates(e,t,s,i,!1,!1);r.push(l),t=s}return t}},{key:"drawCustom",value:function(e,t,n,i){this.beginGeometry(e,t);var r,a,o,s,l,u=e.getType(),c=e.getStride(),d=this.coordinates.length;switch(u){case"MultiPolygon":r=e.getOrientedFlatCoordinates(),s=[];var h=e.getEndss();l=0;for(var f=0,p=h.length;f<p;++f){var v=[];l=this.drawCustomCoordinates_(r,l,h[f],c,v),s.push(v)}this.instructions.push([rl.CUSTOM,d,s,e,n,Si]),this.hitDetectionInstructions.push([rl.CUSTOM,d,s,e,i||n,Si]);break;case"Polygon":case"MultiLineString":o=[],r="Polygon"==u?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),l=this.drawCustomCoordinates_(r,0,e.getEnds(),c,o),this.instructions.push([rl.CUSTOM,d,o,e,n,Ci]),this.hitDetectionInstructions.push([rl.CUSTOM,d,o,e,i||n,Ci]);break;case"LineString":case"Circle":r=e.getFlatCoordinates(),a=this.appendFlatLineCoordinates(r,0,r.length,c,!1,!1),this.instructions.push([rl.CUSTOM,d,a,e,n,ki]),this.hitDetectionInstructions.push([rl.CUSTOM,d,a,e,i||n,ki]);break;case"MultiPoint":r=e.getFlatCoordinates(),(a=this.appendFlatPointCoordinates(r,c))>d&&(this.instructions.push([rl.CUSTOM,d,a,e,n,ki]),this.hitDetectionInstructions.push([rl.CUSTOM,d,a,e,i||n,ki]));break;case"Point":r=e.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),a=this.coordinates.length,this.instructions.push([rl.CUSTOM,d,a,e,n]),this.hitDetectionInstructions.push([rl.CUSTOM,d,a,e,i||n])}this.endGeometry(t)}},{key:"beginGeometry",value:function(e,t){this.beginGeometryInstruction1_=[rl.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[rl.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}},{key:"finish",value:function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}},{key:"reverseHitDetectionInstructions",value:function(){var e,t=this.hitDetectionInstructions;t.reverse();var n,i,r=t.length,a=-1;for(e=0;e<r;++e)(i=(n=t[e])[0])==rl.END_GEOMETRY?a=e:i==rl.BEGIN_GEOMETRY&&(n[2]=e,F(this.hitDetectionInstructions,a,e),a=-1)}},{key:"setFillStrokeStyle",value:function(e,t){var n=this.state;if(e){var i=e.getColor();n.fillStyle=jo(i||gr)}else n.fillStyle=void 0;if(t){var r=t.getColor();n.strokeStyle=jo(r||_r);var a=t.getLineCap();n.lineCap=void 0!==a?a:mr;var o=t.getLineDash();n.lineDash=o?o.slice():yr;var s=t.getLineDashOffset();n.lineDashOffset=s||0;var l=t.getLineJoin();n.lineJoin=void 0!==l?l:br;var u=t.getWidth();n.lineWidth=void 0!==u?u:1;var c=t.getMiterLimit();n.miterLimit=void 0!==c?c:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}},{key:"createFill",value:function(e){var t=e.fillStyle,n=[rl.SET_FILL_STYLE,t];return"string"!==typeof t&&n.push(!0),n}},{key:"applyStroke",value:function(e){this.instructions.push(this.createStroke(e))}},{key:"createStroke",value:function(e){return[rl.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}},{key:"updateFillStyle",value:function(e,t){var n=e.fillStyle;"string"===typeof n&&e.currentFillStyle==n||(void 0!==n&&this.instructions.push(t.call(this,e)),e.currentFillStyle=n)}},{key:"updateStrokeStyle",value:function(e,t){var n=e.strokeStyle,i=e.lineCap,r=e.lineDash,a=e.lineDashOffset,o=e.lineJoin,s=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=i||r!=e.currentLineDash&&!j(e.currentLineDash,r)||e.currentLineDashOffset!=a||e.currentLineJoin!=o||e.currentLineWidth!=s||e.currentMiterLimit!=l)&&(void 0!==n&&t.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=i,e.currentLineDash=r,e.currentLineDashOffset=a,e.currentLineJoin=o,e.currentLineWidth=s,e.currentMiterLimit=l)}},{key:"endGeometry",value:function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var t=[rl.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}},{key:"getBufferedMaxExtent",value:function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Oe(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;Le(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}]),n}(al),sl=ol,ll=function(e){R(n,e);var t=D(n);function n(e,i,r,a){var o;return x(this,n),(o=t.call(this,e,i,r,a)).hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterMode_=void 0,o.declutterImageWithText_=void 0,o}return k(n,[{key:"drawPoint",value:function(e,t){if(this.image_){this.beginGeometry(e,t);var n=e.getFlatCoordinates(),i=e.getStride(),r=this.coordinates.length,a=this.appendFlatPointCoordinates(n,i);this.instructions.push([rl.DRAW_IMAGE,r,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([rl.DRAW_IMAGE,r,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}}},{key:"drawMultiPoint",value:function(e,t){if(this.image_){this.beginGeometry(e,t);var n=e.getFlatCoordinates(),i=e.getStride(),r=this.coordinates.length,a=this.appendFlatPointCoordinates(n,i);this.instructions.push([rl.DRAW_IMAGE,r,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([rl.DRAW_IMAGE,r,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}}},{key:"finish",value:function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,E(S(n.prototype),"finish",this).call(this)}},{key:"setImageStyle",value:function(e,t){var n=e.getAnchor(),i=e.getSize(),r=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}]),n}(sl),ul=function(e){R(n,e);var t=D(n);function n(e,i,r,a){return x(this,n),t.call(this,e,i,r,a)}return k(n,[{key:"drawFlatCoordinates_",value:function(e,t,n,i){var r=this.coordinates.length,a=this.appendFlatLineCoordinates(e,t,n,i,!1,!1),o=[rl.MOVE_TO_LINE_TO,r,a];return this.instructions.push(o),this.hitDetectionInstructions.push(o),n}},{key:"drawLineString",value:function(e,t){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([rl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,yr,0],nl);var a=e.getFlatCoordinates(),o=e.getStride();this.drawFlatCoordinates_(a,0,a.length,o),this.hitDetectionInstructions.push(tl),this.endGeometry(t)}}},{key:"drawMultiLineString",value:function(e,t){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([rl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,yr,0],nl);for(var a=e.getEnds(),o=e.getFlatCoordinates(),s=e.getStride(),l=0,u=0,c=a.length;u<c;++u)l=this.drawFlatCoordinates_(o,l,a[u],s);this.hitDetectionInstructions.push(tl),this.endGeometry(t)}}},{key:"finish",value:function(){var e=this.state;return void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(tl),this.reverseHitDetectionInstructions(),this.state=null,E(S(n.prototype),"finish",this).call(this)}},{key:"applyStroke",value:function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(tl),e.lastStroke=this.coordinates.length),e.lastStroke=0,E(S(n.prototype),"applyStroke",this).call(this,e),this.instructions.push(nl)}}]),n}(sl),cl=ul,dl=function(e){R(n,e);var t=D(n);function n(e,i,r,a){return x(this,n),t.call(this,e,i,r,a)}return k(n,[{key:"drawFlatCoordinatess_",value:function(e,t,n,i){var r=this.state,a=void 0!==r.fillStyle,o=void 0!==r.strokeStyle,s=n.length;this.instructions.push(nl),this.hitDetectionInstructions.push(nl);for(var l=0;l<s;++l){var u=n[l],c=this.coordinates.length,d=this.appendFlatLineCoordinates(e,t,u,i,!0,!o),h=[rl.MOVE_TO_LINE_TO,c,d];this.instructions.push(h),this.hitDetectionInstructions.push(h),o&&(this.instructions.push(il),this.hitDetectionInstructions.push(il)),t=u}return a&&(this.instructions.push(el),this.hitDetectionInstructions.push(el)),o&&(this.instructions.push(tl),this.hitDetectionInstructions.push(tl)),t}},{key:"drawCircle",value:function(e,t){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([rl.SET_FILL_STYLE,gr]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([rl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,yr,0]);var a=e.getFlatCoordinates(),o=e.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,o,!1,!1);var l=[rl.CIRCLE,s];this.instructions.push(nl,l),this.hitDetectionInstructions.push(nl,l),void 0!==n.fillStyle&&(this.instructions.push(el),this.hitDetectionInstructions.push(el)),void 0!==n.strokeStyle&&(this.instructions.push(tl),this.hitDetectionInstructions.push(tl)),this.endGeometry(t)}}},{key:"drawPolygon",value:function(e,t){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([rl.SET_FILL_STYLE,gr]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([rl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,yr,0]);var a=e.getEnds(),o=e.getOrientedFlatCoordinates(),s=e.getStride();this.drawFlatCoordinatess_(o,0,a,s),this.endGeometry(t)}}},{key:"drawMultiPolygon",value:function(e,t){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([rl.SET_FILL_STYLE,gr]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([rl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,yr,0]);for(var a=e.getEndss(),o=e.getOrientedFlatCoordinates(),s=e.getStride(),l=0,u=0,c=a.length;u<c;++u)l=this.drawFlatCoordinatess_(o,l,a[u],s);this.endGeometry(t)}}},{key:"finish",value:function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var t=this.coordinates,i=0,r=t.length;i<r;++i)t[i]=_i(t[i],e);return E(S(n.prototype),"finish",this).call(this)}},{key:"setFillStrokeStyles_",value:function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)}}]),n}(sl),hl=dl;function fl(e,t,n,i,r){for(var o=[],s=n,l=0,u=t.slice(n,2);l<e&&s+r<i;){var c=a(u.slice(-2),2),d=c[0],h=c[1],f=t[s+r],p=t[s+r+1],v=Math.sqrt((f-d)*(f-d)+(p-h)*(p-h));if((l+=v)>=e){var g=(e-l+v)/v,m=mt(d,f,g),y=mt(h,p,g);u.push(m,y),o.push(u),u=[m,y],l==e&&(s+=r),l=0}else if(l<e)u.push(t[s+r],t[s+r+1]),s+=r;else{var b=v-l,_=mt(d,f,b/v),x=mt(h,p,b/v);u.push(_,x),o.push(u),u=[_,x],l=0,s+=r}}return l>0&&o.push(u),o}function pl(e,t,n,i,r){var a,o,s,l,u,c,d,h,f,p=n,v=n,g=0,m=0,y=n;for(a=n;a<i;a+=r){var b=t[a],_=t[a+1];void 0!==l&&(h=b-l,f=_-u,s=Math.sqrt(h*h+f*f),void 0!==c&&(m+=o,Math.acos((c*h+d*f)/(o*s))>e&&(m>g&&(g=m,p=y,v=a),m=0,y=a-r)),o=s,c=h,d=f),l=b,u=_}return(m+=s)>g?[y,a]:[p,v]}var vl={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},gl=function(e){R(n,e);var t=D(n);function n(e,i,r,a){var o;return x(this,n),(o=t.call(this,e,i,r,a)).labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.fillStates[gr]={fillStyle:gr},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return k(n,[{key:"finish",value:function(){var e=E(S(n.prototype),"finish",this).call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}},{key:"drawText",value:function(e,t){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var a=this.coordinates,o=a.length,s=e.getType(),l=null,u=e.getStride();if("line"!==r.placement||"LineString"!=s&&"MultiLineString"!=s&&"Polygon"!=s&&"MultiPolygon"!=s){var c=r.overflow?null:[];switch(s){case"Point":case"MultiPoint":l=e.getFlatCoordinates();break;case"LineString":l=e.getFlatMidpoint();break;case"Circle":l=e.getCenter();break;case"MultiLineString":l=e.getFlatMidpoints(),u=2;break;case"Polygon":l=e.getFlatInteriorPoint(),r.overflow||c.push(l[2]/this.resolution),u=3;break;case"MultiPolygon":var d=e.getFlatInteriorPoints();l=[];for(var h=0,f=d.length;h<f;h+=3)r.overflow||c.push(d[h+2]/this.resolution),l.push(d[h],d[h+1]);if(0===l.length)return;u=2}var p=this.appendFlatPointCoordinates(l,u);if(p===o)return;if(c&&(p-o)/2!==l.length/u){var v=o/2;c=c.filter((function(e,t){var n=a[2*(v+t)]===l[t*u]&&a[2*(v+t)+1]===l[t*u+1];return n||--v,n}))}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&this.updateFillStyle(this.state,this.createFill),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);var g=r.padding;if(g!=kr&&(r.scale[0]<0||r.scale[1]<0)){var m=r.padding[0],y=r.padding[1],b=r.padding[2],_=r.padding[3];r.scale[0]<0&&(y=-y,_=-_),r.scale[1]<0&&(m=-m,b=-b),g=[m,y,b,_]}var x=this.pixelRatio;this.instructions.push([rl.DRAW_IMAGE,o,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,g==kr?kr:g.map((function(e){return e*x})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var w=1/x,k=this.state.fillStyle;r.backgroundFill&&(this.state.fillStyle=gr,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([rl.DRAW_IMAGE,o,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[w,w],NaN,void 0,this.declutterImageWithText_,g,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?gr:this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),r.backgroundFill&&(this.state.fillStyle=k,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}else{if(!lt(this.getBufferedMaxExtent(),e.getExtent()))return;var C;if(l=e.getFlatCoordinates(),"LineString"==s)C=[l.length];else if("MultiLineString"==s)C=e.getEnds();else if("Polygon"==s)C=e.getEnds().slice(0,1);else if("MultiPolygon"==s){var S=e.getEndss();C=[];for(var E=0,T=S.length;E<T;++E)C.push(S[E][0])}this.beginGeometry(e,t);for(var R=r.repeat,M=R?void 0:r.textAlign,I=0,D=0,P=C.length;D<P;++D)for(var A=void 0,N=0,L=(A=R?fl(R*this.resolution,l,I,C[D],u):[l.slice(I,C[D])]).length;N<L;++N){var O=A[N],F=0,H=O.length;if(void 0==M){var j=pl(r.maxAngle,O,0,O.length,2);F=j[0],H=j[1]}for(var z=F;z<H;z+=u)a.push(O[z],O[z+1]);var B=a.length;I=C[D],this.drawChars_(o,B),o=B}this.endGeometry(t)}}}},{key:"saveTextStates_",value:function(){var e=this.textStrokeState_,t=this.textState_,n=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:t.font,textAlign:t.textAlign||xr,justify:t.justify,textBaseline:t.textBaseline||wr,scale:t.scale});var a=this.fillKey_;n&&(a in this.fillStates||(this.fillStates[a]={fillStyle:n.fillStyle}))}},{key:"drawChars_",value:function(e,t){var n=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,a=this.textKey_,o=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,l=vl[i.textBaseline],u=this.textOffsetY_*s,c=this.text_,d=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([rl.DRAW_CHARS,e,t,l,i.overflow,o,i.maxAngle,s,u,r,d*s,c,a,1]),this.hitDetectionInstructions.push([rl.DRAW_CHARS,e,t,l,i.overflow,o?gr:o,i.maxAngle,s,u,r,d*s,c,a,1/s])}},{key:"setTextStyle",value:function(e,t){var n,i,r;if(e){var a=e.getFill();a?((i=this.textFillState_)||(i={},this.textFillState_=i),i.fillStyle=jo(a.getColor()||gr)):(i=null,this.textFillState_=i);var o=e.getStroke();if(o){(r=this.textStrokeState_)||(r={},this.textStrokeState_=r);var s=o.getLineDash(),l=o.getLineDashOffset(),u=o.getWidth(),c=o.getMiterLimit();r.lineCap=o.getLineCap()||mr,r.lineDash=s?s.slice():yr,r.lineDashOffset=void 0===l?0:l,r.lineJoin=o.getLineJoin()||br,r.lineWidth=void 0===u?1:u,r.miterLimit=void 0===c?10:c,r.strokeStyle=jo(o.getColor()||_r)}else r=null,this.textStrokeState_=r;n=this.textState_;var d=e.getFont()||vr;Tr(d);var h=e.getScaleArray();n.overflow=e.getOverflow(),n.font=d,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.repeat=e.getRepeat(),n.justify=e.getJustify(),n.textBaseline=e.getTextBaseline()||wr,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||kr,n.scale=void 0===h?[1,1]:h;var f=e.getOffsetX(),p=e.getOffsetY(),v=e.getRotateWithView(),g=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===f?0:f,this.textOffsetY_=void 0===p?0:p,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===g?0:g,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:ce(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+ce(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=t}}]),n}(sl),ml={Circle:hl,Default:sl,Image:ll,LineString:cl,Polygon:hl,Text:gl},yl=function(){function e(t,n,i,r){x(this,e),this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}return k(e,[{key:"finish",value:function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var n=this.buildersByZIndex_[t];for(var i in n){var r=n[i].finish();e[t][i]=r}}return e}},{key:"getBuilder",value:function(e,t){var n=void 0!==e?e.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);var r=i[t];void 0===r&&(r=new(0,ml[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=r);return r}}]),e}();function bl(e,t,n,i,r,a,o,s,l,u,c,d){var h=e[t],f=e[t+1],p=0,v=0,g=0,m=0;function y(){p=h,v=f,h=e[t+=i],f=e[t+1],m+=g,g=Math.sqrt((h-p)*(h-p)+(f-v)*(f-v))}do{y()}while(t<n-i&&m+g<a);for(var b=0===g?0:(a-m)/g,_=mt(p,h,b),x=mt(v,f,b),w=t-i,k=m,C=a+s*l(u,r,c);t<n-i&&m+g<C;)y();var S,E=mt(p,h,b=0===g?0:(C-m)/g),T=mt(v,f,b);if(d){var R=[_,x,E,T];oi(R,0,4,2,d,R,R),S=R[0]>R[2]}else S=_>E;var M,I=Math.PI,D=[],P=w+i===t;if(g=0,m=k,h=e[t=w],f=e[t+1],P){y(),M=Math.atan2(f-v,h-p),S&&(M+=M>0?-I:I);var A=(E+_)/2,N=(T+x)/2;return D[0]=[A,N,(C-a)/2,M,r],D}for(var L=0,O=(r=r.replace(/\n/g," ")).length;L<O;){y();var F=Math.atan2(f-v,h-p);if(S&&(F+=F>0?-I:I),void 0!==M){var H=F-M;if(H+=H>I?-2*I:H<-I?2*I:0,Math.abs(H)>o)return null}M=F;for(var j=L,z=0;L<O;++L){var B=s*l(u,r[S?O-L-1:L],c);if(t+i<n&&m+g<a+z+B/2)break;z+=B}if(L!==j){var U=S?r.substring(O-j,O-L):r.substring(j,L),W=mt(p,h,b=0===g?0:(a+z/2-m)/g),G=mt(v,f,b);D.push([W,G,z/2,F,U]),a+=z}}return D}function _l(e,t,n,i){for(var r=e[t],a=e[t+1],o=0,s=t+i;s<n;s+=i){var l=e[s],u=e[s+1];o+=Math.sqrt((l-r)*(l-r)+(u-a)*(u-a)),r=l,a=u}return o}var xl=[1/0,1/0,-1/0,-1/0],wl=[],kl=[],Cl=[],Sl=[];function El(e){return e[3].declutterBox}var Tl=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Rl(e,t){return"start"===t?t=Tl.test(e)?"right":"left":"end"===t&&(t=Tl.test(e)?"left":"right"),vl[t]}function Ml(e,t,n){return n>0&&e.push("\n",""),e.push(t,""),e}var Il=function(){function e(t,n,i,r){x(this,e),this.overlaps=i,this.pixelRatio=n,this.resolution=t,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return k(e,[{key:"createLabel",value:function(e,t,n,i){var r=e+t+n+i;if(this.labels_[r])return this.labels_[r];var a=i?this.strokeStates[i]:null,o=n?this.fillStates[n]:null,s=this.textStates[t],l=this.pixelRatio,u=[s.scale[0]*l,s.scale[1]*l],c=Array.isArray(e),d=s.justify?vl[s.justify]:Rl(Array.isArray(e)?e[0]:e,s.textAlign||xr),h=i&&a.lineWidth?a.lineWidth:0,f=c?e:e.split("\n").reduce(Ml,[]),p=function(e,t){for(var n=[],i=[],r=[],a=0,o=0,s=0,l=0,u=0,c=t.length;u<=c;u+=2){var d=t[u];if("\n"!==d&&u!==c){var h=t[u+1]||e.font,f=Ir(h,d);n.push(f),o+=f;var p=Rr(h);i.push(p),l=Math.max(l,p)}else a=Math.max(a,o),r.push(o),o=0,s+=l}return{width:a,height:s,widths:n,heights:i,lineWidths:r}}(s,f),v=p.width,g=p.height,m=p.widths,y=p.heights,b=p.lineWidths,_=v+h,x=[],w=(_+2)*u[0],k=(g+h)*u[1],C={width:w<0?Math.floor(w):Math.ceil(w),height:k<0?Math.floor(k):Math.ceil(k),contextInstructions:x};1==u[0]&&1==u[1]||x.push("scale",u),i&&(x.push("strokeStyle",a.strokeStyle),x.push("lineWidth",h),x.push("lineCap",a.lineCap),x.push("lineJoin",a.lineJoin),x.push("miterLimit",a.miterLimit),x.push("setLineDash",[a.lineDash]),x.push("lineDashOffset",a.lineDashOffset)),n&&x.push("fillStyle",o.fillStyle),x.push("textBaseline","middle"),x.push("textAlign","center");for(var S,E=.5-d,T=d*_+E*h,R=[],M=[],I=0,D=0,P=0,A=0,N=0,L=f.length;N<L;N+=2){var O=f[N];if("\n"!==O){var F=f[N+1]||s.font;F!==S&&(i&&R.push("font",F),n&&M.push("font",F),S=F),I=Math.max(I,y[P]);var H=[O,T+E*m[P]+d*(m[P]-b[A]),.5*(h+I)+D];T+=m[P],i&&R.push("strokeText",H),n&&M.push("fillText",H),++P}else D+=I,I=0,T=d*_+E*h,++A}return Array.prototype.push.apply(x,R),Array.prototype.push.apply(x,M),this.labels_[r]=C,C}},{key:"replayTextBackground_",value:function(e,t,n,i,r,a,o){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,t),a&&(this.alignFill_=a[2],this.fill_(e)),o&&(this.setStrokeStyle_(e,o),e.stroke())}},{key:"calculateImageOrLabelDimensions_",value:function(e,t,n,i,r,a,o,s,l,u,c,d,h,f,p,v){var g,m=n-(o*=d[0]),y=i-(s*=d[1]),b=r+l>e?e-l:r,_=a+u>t?t-u:a,x=f[3]+b*d[0]+f[1],w=f[0]+_*d[1]+f[2],k=m-f[3],C=y-f[0];return(p||0!==c)&&(wl[0]=k,Sl[0]=k,wl[1]=C,kl[1]=C,kl[0]=k+x,Cl[0]=kl[0],Cl[1]=C+w,Sl[1]=Cl[1]),0!==c?(Me(g=Ie([1,0,0,1,0,0],n,i,1,1,c,-n,-i),wl),Me(g,kl),Me(g,Cl),Me(g,Sl),We(Math.min(wl[0],kl[0],Cl[0],Sl[0]),Math.min(wl[1],kl[1],Cl[1],Sl[1]),Math.max(wl[0],kl[0],Cl[0],Sl[0]),Math.max(wl[1],kl[1],Cl[1],Sl[1]),xl)):We(Math.min(k,k+x),Math.min(C,C+w),Math.max(k,k+x),Math.max(C,C+w),xl),h&&(m=Math.round(m),y=Math.round(y)),{drawImageX:m,drawImageY:y,drawImageW:b,drawImageH:_,originX:l,originY:u,declutterBox:{minX:xl[0],minY:xl[1],maxX:xl[2],maxY:xl[3],value:v},canvasTransform:g,scale:d}}},{key:"replayImageOrLabel_",value:function(e,t,n,i,r,a,o){var s=!(!a&&!o),l=i.declutterBox,u=e.canvas,c=o?o[2]*i.scale[0]/2:0;return l.minX-c<=u.width/t&&l.maxX+c>=0&&l.minY-c<=u.height/t&&l.maxY+c>=0&&(s&&this.replayTextBackground_(e,wl,kl,Cl,Sl,a,o),Pr(e,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}},{key:"fill_",value:function(e){if(this.alignFill_){var t=Me(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;e.save(),e.translate(t[0]%n,t[1]%n),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}},{key:"setStrokeStyle_",value:function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}},{key:"drawLabelWithPointPlacement_",value:function(e,t,n,i){var r=this.textStates[t],a=this.createLabel(e,t,i,n),o=this.strokeStates[n],s=this.pixelRatio,l=Rl(Array.isArray(e)?e[0]:e,r.textAlign||xr),u=vl[r.textBaseline||wr],c=o&&o.lineWidth?o.lineWidth:0;return{label:a,anchorX:l*(a.width/s-2*r.scale[0])+2*(.5-l)*c,anchorY:u*a.height/s+2*(.5-u)*c}}},{key:"execute_",value:function(e,t,n,i,r,a,o,s){var l,u,c;this.pixelCoordinates_&&j(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=ai(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),u=this.renderedTransform_,c=n,u[0]=c[0],u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5]);for(var d,h,f,p,v,g,m,y,b,_,x,w,k,C,S,E,T=0,R=i.length,M=0,I=0,D=0,P=null,A=null,N=this.coordinateCache_,L=this.viewRotation_,O=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,F={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:L},H=this.instructions!=i||this.overlaps?0:200;T<R;){var z=i[T];switch(z[0]){case rl.BEGIN_GEOMETRY:k=z[1],E=z[3],k.getGeometry()?void 0===o||lt(o,E.getExtent())?++T:T=z[2]+1:T=z[2];break;case rl.BEGIN_PATH:I>H&&(this.fill_(e),I=0),D>H&&(e.stroke(),D=0),I||D||(e.beginPath(),p=NaN,v=NaN),++T;break;case rl.CIRCLE:var B=l[M=z[1]],U=l[M+1],W=l[M+2]-B,G=l[M+3]-U,Y=Math.sqrt(W*W+G*G);e.moveTo(B+Y,U),e.arc(B,U,Y,0,2*Math.PI,!0),++T;break;case rl.CLOSE_PATH:e.closePath(),++T;break;case rl.CUSTOM:M=z[1],d=z[2];var V=z[3],Z=z[4],q=6==z.length?z[5]:void 0;F.geometry=V,F.feature=k,T in N||(N[T]=[]);var J=N[T];q?q(l,M,d,2,J):(J[0]=l[M],J[1]=l[M+1],J.length=2),Z(J,F),++T;break;case rl.DRAW_IMAGE:M=z[1],d=z[2],y=z[3],h=z[4],f=z[5];var X=z[6],K=z[7],Q=z[8],$=z[9],ee=z[10],te=z[11],ne=z[12],ie=z[13],re=z[14],ae=z[15];if(!y&&z.length>=20){b=z[19],_=z[20],x=z[21],w=z[22];var oe=this.drawLabelWithPointPlacement_(b,_,x,w);y=oe.label,z[3]=y;var se=z[23];h=(oe.anchorX-se)*this.pixelRatio,z[4]=h;var le=z[24];f=(oe.anchorY-le)*this.pixelRatio,z[5]=f,X=y.height,z[6]=X,ie=y.width,z[13]=ie}var ue=void 0;z.length>25&&(ue=z[25]);var ce=void 0,de=void 0,he=void 0;z.length>17?(ce=z[16],de=z[17],he=z[18]):(ce=kr,de=!1,he=!1),ee&&O?te+=L:ee||O||(te-=L);for(var fe=0;M<d;M+=2)if(!(ue&&ue[fe++]<ie/this.pixelRatio)){var pe=this.calculateImageOrLabelDimensions_(y.width,y.height,l[M],l[M+1],ie,X,h,f,Q,$,te,ne,r,ce,de||he,k),ve=[e,t,y,pe,K,de?P:null,he?A:null];if(s){if("none"===re)continue;if("obstacle"===re){s.insert(pe.declutterBox);continue}var ge=void 0,me=void 0;if(ae){var ye=d-M;if(!ae[ye]){ae[ye]=ve;continue}if(ge=ae[ye],delete ae[ye],me=El(ge),s.collides(me))continue}if(s.collides(pe.declutterBox))continue;ge&&(s.insert(me),this.replayImageOrLabel_.apply(this,ge)),s.insert(pe.declutterBox)}this.replayImageOrLabel_.apply(this,ve)}++T;break;case rl.DRAW_CHARS:var be=z[1],_e=z[2],xe=z[3],we=z[4];w=z[5];var ke=z[6],Ce=z[7],Se=z[8];x=z[9];var Ee=z[10];b=z[11],_=z[12];var Te=[z[13],z[13]],Re=this.textStates[_],Me=Re.font,Ie=[Re.scale[0]*Ce,Re.scale[1]*Ce],De=void 0;Me in this.widths_?De=this.widths_[Me]:(De={},this.widths_[Me]=De);var Pe=_l(l,be,_e,2),Ae=Math.abs(Ie[0])*Dr(Me,b,De);if(we||Ae<=Pe){var Ne=bl(l,be,_e,2,b,(Pe-Ae)*Rl(b,this.textStates[_].textAlign),ke,Math.abs(Ie[0]),Dr,Me,De,O?0:this.viewRotation_);e:if(Ne){var Le=[],Oe=void 0,Fe=void 0,He=void 0,je=void 0,ze=void 0;if(x)for(Oe=0,Fe=Ne.length;Oe<Fe;++Oe){He=(ze=Ne[Oe])[4],je=this.createLabel(He,_,"",x),h=ze[2]+(Ie[0]<0?-Ee:Ee),f=xe*je.height+2*(.5-xe)*Ee*Ie[1]/Ie[0]-Se;var Be=this.calculateImageOrLabelDimensions_(je.width,je.height,ze[0],ze[1],je.width,je.height,h,f,0,0,ze[3],Te,!1,kr,!1,k);if(s&&s.collides(Be.declutterBox))break e;Le.push([e,t,je,Be,1,null,null])}if(w)for(Oe=0,Fe=Ne.length;Oe<Fe;++Oe){He=(ze=Ne[Oe])[4],je=this.createLabel(He,_,w,""),h=ze[2],f=xe*je.height-Se;var Ue=this.calculateImageOrLabelDimensions_(je.width,je.height,ze[0],ze[1],je.width,je.height,h,f,0,0,ze[3],Te,!1,kr,!1,k);if(s&&s.collides(Ue.declutterBox))break e;Le.push([e,t,je,Ue,1,null,null])}s&&s.load(Le.map(El));for(var We=0,Ge=Le.length;We<Ge;++We)this.replayImageOrLabel_.apply(this,Le[We])}}++T;break;case rl.END_GEOMETRY:if(void 0!==a){var Ye=a(k=z[1],E);if(Ye)return Ye}++T;break;case rl.FILL:H?I++:this.fill_(e),++T;break;case rl.MOVE_TO_LINE_TO:for(M=z[1],d=z[2],C=l[M],m=(S=l[M+1])+.5|0,(g=C+.5|0)===p&&m===v||(e.moveTo(C,S),p=g,v=m),M+=2;M<d;M+=2)g=(C=l[M])+.5|0,m=(S=l[M+1])+.5|0,M!=d-2&&g===p&&m===v||(e.lineTo(C,S),p=g,v=m);++T;break;case rl.SET_FILL_STYLE:P=z,this.alignFill_=z[2],I&&(this.fill_(e),I=0,D&&(e.stroke(),D=0)),e.fillStyle=z[1],++T;break;case rl.SET_STROKE_STYLE:A=z,D&&(e.stroke(),D=0),this.setStrokeStyle_(e,z),++T;break;case rl.STROKE:H?D++:e.stroke(),++T;break;default:++T}}I&&this.fill_(e),D&&e.stroke()}},{key:"execute",value:function(e,t,n,i,r,a){this.viewRotation_=i,this.execute_(e,t,n,this.instructions,r,void 0,void 0,a)}},{key:"executeHitDetection",value:function(e,t,n,i,r){return this.viewRotation_=n,this.execute_(e,1,t,this.hitDetectionInstructions,!0,i,r)}}]),e}(),Dl=Il,Pl=["Polygon","Circle","LineString","Image","Text","Default"],Al=function(){function e(t,n,i,r,a,o){x(this,e),this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(a)}return k(e,[{key:"clip",value:function(e,t){var n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()}},{key:"createExecutors_",value:function(e){for(var t in e){var n=this.executorsByZIndex_[t];void 0===n&&(n={},this.executorsByZIndex_[t]=n);var i=e[t];for(var r in i){var a=i[r];n[r]=new Dl(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}}},{key:"hasExecutors",value:function(e){for(var t in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[t],i=0,r=e.length;i<r;++i)if(e[i]in n)return!0;return!1}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r,a){var o=2*(i=Math.round(i))+1,s=Ie(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-n,-e[0],-e[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=cr(o,o,void 0,{willReadFrequently:!0}));var u,c=this.hitDetectionContext_;c.canvas.width!==o||c.canvas.height!==o?(c.canvas.width=o,c.canvas.height=o):l||c.clearRect(0,0,o,o),void 0!==this.renderBuffer_&&(Ve(u=[1/0,1/0,-1/0,-1/0],e),Le(u,t*(this.renderBuffer_+i),u));var d,h=function(e){if(void 0!==Nl[e])return Nl[e];for(var t=2*e+1,n=e*e,i=new Array(n+1),r=0;r<=e;++r)for(var a=0;a<=e;++a){var o=r*r+a*a;if(o>n)break;var s=i[o];s||(s=[],i[o]=s),s.push(4*((e+r)*t+(e+a))+3),r>0&&s.push(4*((e-r)*t+(e+a))+3),a>0&&(s.push(4*((e+r)*t+(e-a))+3),r>0&&s.push(4*((e-r)*t+(e-a))+3))}for(var l=[],u=0,c=i.length;u<c;++u)i[u]&&l.push.apply(l,g(i[u]));return Nl[e]=l,l}(i);function f(e,t){for(var n=c.getImageData(0,0,o,o).data,s=0,l=h.length;s<l;s++)if(n[h[s]]>0){if(!a||"Image"!==d&&"Text"!==d||a.includes(e)){var u=(h[s]-3)/4,f=i-u%o,p=i-(u/o|0),v=r(e,t,f*f+p*p);if(v)return v}c.clearRect(0,0,o,o);break}}var p,v,m,y,b,_=Object.keys(this.executorsByZIndex_).map(Number);for(_.sort(L),p=_.length-1;p>=0;--p){var x=_[p].toString();for(m=this.executorsByZIndex_[x],v=Pl.length-1;v>=0;--v)if(void 0!==(y=m[d=Pl[v]])&&(b=y.executeHitDetection(c,s,n,f,u)))return b}}},{key:"getClipCoords",value:function(e){var t=this.maxExtent_;if(!t)return null;var n=t[0],i=t[1],r=t[2],a=t[3],o=[n,i,n,a,r,a,r,i];return ai(o,0,8,2,e,o),o}},{key:"isEmpty",value:function(){return G(this.executorsByZIndex_)}},{key:"execute",value:function(e,t,n,i,r,a,o){var s,l,u,c,d,h,f=Object.keys(this.executorsByZIndex_).map(Number);for(f.sort(L),this.maxExtent_&&(e.save(),this.clip(e,n)),a=a||Pl,o&&f.reverse(),s=0,l=f.length;s<l;++s){var p=f[s].toString();for(d=this.executorsByZIndex_[p],u=0,c=a.length;u<c;++u){void 0!==(h=d[a[u]])&&h.execute(e,t,n,i,r,o)}}this.maxExtent_&&e.restore()}}]),e}(),Nl={};var Ll=Al,Ol=function(e){R(n,e);var t=D(n);function n(e,i,r,a,o,s,l){var u;return x(this,n),(u=t.call(this)).context_=e,u.pixelRatio_=i,u.extent_=r,u.transform_=a,u.transformRotation_=a?yt(Math.atan2(a[1],a[0]),10):0,u.viewRotation_=o,u.squaredTolerance_=s,u.userTransform_=l,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=[0,0],u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=[0,0],u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=[1,0,0,1,0,0],u}return k(n,[{key:"drawImages_",value:function(e,t,n,i){if(this.image_){var r=ai(e,t,n,i,this.transform_,this.pixelCoordinates_),a=this.context_,o=this.tmpLocalTransform_,s=a.globalAlpha;1!=this.imageOpacity_&&(a.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(var u=0,c=r.length;u<c;u+=2){var d=r[u]-this.imageAnchorX_,h=r[u+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var f=d+this.imageAnchorX_,p=h+this.imageAnchorY_;Ie(o,f,p,1,1,l,-f,-p),a.save(),a.transform.apply(a,o),a.translate(f,p),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.restore()}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,h,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(a.globalAlpha=s)}}},{key:"drawText_",value:function(e,t,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=ai(e,t,n,i,this.transform_,this.pixelCoordinates_),a=this.context_,o=this.textRotation_;for(0===this.transformRotation_&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);t<n;t+=i){var s=r[t]+this.textOffsetX_,l=r[t+1]+this.textOffsetY_;0!==o||1!=this.textScale_[0]||1!=this.textScale_[1]?(a.save(),a.translate(s-this.textOffsetX_,l-this.textOffsetY_),a.rotate(o),a.translate(this.textOffsetX_,this.textOffsetY_),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.restore()):(this.textStrokeState_&&a.strokeText(this.text_,s,l),this.textFillState_&&a.fillText(this.text_,s,l))}}}},{key:"moveToLineTo_",value:function(e,t,n,i,r){var a=this.context_,o=ai(e,t,n,i,this.transform_,this.pixelCoordinates_);a.moveTo(o[0],o[1]);var s=o.length;r&&(s-=2);for(var l=2;l<s;l+=2)a.lineTo(o[l],o[l+1]);return r&&a.closePath(),n}},{key:"drawRings_",value:function(e,t,n,i){for(var r=0,a=n.length;r<a;++r)t=this.moveToLineTo_(e,t,n[r],i,!0);return t}},{key:"drawCircle",value:function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),lt(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=function(e,t,n){var i=e.getFlatCoordinates();if(!i)return null;var r=e.getStride();return ai(i,0,i.length,r,t,n)}(e,this.transform_,this.pixelCoordinates_),n=t[2]-t[0],i=t[3]-t[1],r=Math.sqrt(n*n+i*i),a=this.context_;a.beginPath(),a.arc(t[0],t[1],r,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}}},{key:"setStyle",value:function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}},{key:"setTransform",value:function(e){this.transform_=e}},{key:"drawGeometry",value:function(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}},{key:"drawFeature",value:function(e,t){var n=t.getGeometryFunction()(e);n&&(this.setStyle(t),this.drawGeometry(n))}},{key:"drawGeometryCollection",value:function(e){for(var t=e.getGeometriesArray(),n=0,i=t.length;n<i;++n)this.drawGeometry(t[n])}},{key:"drawPoint",value:function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}},{key:"drawMultiPoint",value:function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}},{key:"drawLineString",value:function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),lt(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,n=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){var i=e.getFlatMidpoint();this.drawText_(i,0,2,2)}}}},{key:"drawMultiLineString",value:function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getExtent();if(lt(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getFlatCoordinates(),r=0,a=e.getEnds(),o=e.getStride();n.beginPath();for(var s=0,l=a.length;s<l;++s)r=this.moveToLineTo_(i,r,a[s],o,!1);n.stroke()}if(""!==this.text_){var u=e.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}}},{key:"drawPolygon",value:function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),lt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}},{key:"drawMultiPolygon",value:function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),lt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_,n=e.getOrientedFlatCoordinates(),i=0,r=e.getEndss(),a=e.getStride();t.beginPath();for(var o=0,s=r.length;o<s;++o){var l=r[o];i=this.drawRings_(n,i,l,a)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var u=e.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}}},{key:"setContextFillState_",value:function(e){var t=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}},{key:"setContextStrokeState_",value:function(e){var t=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,t.lineCap=e.lineCap),j(n.lineDash,e.lineDash)||t.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}},{key:"setContextTextState_",value:function(e){var t=this.context_,n=this.contextTextState_,i=e.textAlign?e.textAlign:xr;n?(n.font!=e.font&&(n.font=e.font,t.font=e.font),n.textAlign!=i&&(n.textAlign=i,t.textAlign=i),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=i,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}},{key:"setFillStrokeStyle",value:function(e,t){var n=this;if(e){var i=e.getColor();this.fillState_={fillStyle:jo(i||gr)}}else this.fillState_=null;if(t){var r=t.getColor(),a=t.getLineCap(),o=t.getLineDash(),s=t.getLineDashOffset(),l=t.getLineJoin(),u=t.getWidth(),c=t.getMiterLimit(),d=o||yr;this.strokeState_={lineCap:void 0!==a?a:mr,lineDash:1===this.pixelRatio_?d:d.map((function(e){return e*n.pixelRatio_})),lineDashOffset:(s||0)*this.pixelRatio_,lineJoin:void 0!==l?l:br,lineWidth:(void 0!==u?u:1)*this.pixelRatio_,miterLimit:void 0!==c?c:10,strokeStyle:jo(r||_r)}}else this.strokeState_=null}},{key:"setImageStyle",value:function(e){var t;if(e&&(t=e.getSize())){var n=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),r=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*n,this.imageAnchorY_=i[1]*n,this.imageHeight_=t[1]*n,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();var a=e.getScaleArray();this.imageScale_=[a[0]*this.pixelRatio_/n,a[1]*this.pixelRatio_/n],this.imageWidth_=t[0]*n}else this.image_=null}},{key:"setTextStyle",value:function(e){if(e){var t=e.getFill();if(t){var n=t.getColor();this.textFillState_={fillStyle:jo(n||gr)}}else this.textFillState_=null;var i=e.getStroke();if(i){var r=i.getColor(),a=i.getLineCap(),o=i.getLineDash(),s=i.getLineDashOffset(),l=i.getLineJoin(),u=i.getWidth(),c=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:mr,lineDash:o||yr,lineDashOffset:s||0,lineJoin:void 0!==l?l:br,lineWidth:void 0!==u?u:1,miterLimit:void 0!==c?c:10,strokeStyle:jo(r||_r)}}else this.textStrokeState_=null;var d=e.getFont(),h=e.getOffsetX(),f=e.getOffsetY(),p=e.getRotateWithView(),v=e.getRotation(),g=e.getScaleArray(),m=e.getText(),y=e.getTextAlign(),b=e.getTextBaseline();this.textState_={font:void 0!==d?d:vr,textAlign:void 0!==y?y:xr,textBaseline:void 0!==b?b:wr},this.text_=void 0!==m?Array.isArray(m)?m.reduce((function(e,t,n){return e+(n%2?" ":t)}),""):m:"",this.textOffsetX_=void 0!==h?this.pixelRatio_*h:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0!==v?v:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}else this.text_=""}}]),n}(al),Fl=Ol,Hl=.5;var jl=.5,zl={Point:function(e,t,n,i,r){var a,o=n.getImage(),s=n.getText();if(o){if(o.getImageState()!=so)return;var l=e;if(r){var u=o.getDeclutterMode();if("none"!==u)if(l=r,"obstacle"===u){var c=e.getBuilder(n.getZIndex(),"Image");c.setImageStyle(o,a),c.drawPoint(t,i)}else s&&s.getText()&&(a={})}var d=l.getBuilder(n.getZIndex(),"Image");d.setImageStyle(o,a),d.drawPoint(t,i)}if(s&&s.getText()){var h=e;r&&(h=r);var f=h.getBuilder(n.getZIndex(),"Text");f.setTextStyle(s,a),f.drawText(t,i)}},LineString:function(e,t,n,i,r){var a=n.getStroke();if(a){var o=e.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawLineString(t,i)}var s=n.getText();if(s&&s.getText()){var l=(r||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(t,i)}},Polygon:function(e,t,n,i,r){var a=n.getFill(),o=n.getStroke();if(a||o){var s=e.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(a,o),s.drawPolygon(t,i)}var l=n.getText();if(l&&l.getText()){var u=(r||e).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(t,i)}},MultiPoint:function(e,t,n,i,r){var a,o=n.getImage(),s=n.getText();if(o){if(o.getImageState()!=so)return;var l=e;if(r){var u=o.getDeclutterMode();if("none"!==u)if(l=r,"obstacle"===u){var c=e.getBuilder(n.getZIndex(),"Image");c.setImageStyle(o,a),c.drawMultiPoint(t,i)}else s&&s.getText()&&(a={})}var d=l.getBuilder(n.getZIndex(),"Image");d.setImageStyle(o,a),d.drawMultiPoint(t,i)}if(s&&s.getText()){var h=e;r&&(h=r);var f=h.getBuilder(n.getZIndex(),"Text");f.setTextStyle(s,a),f.drawText(t,i)}},MultiLineString:function(e,t,n,i,r){var a=n.getStroke();if(a){var o=e.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawMultiLineString(t,i)}var s=n.getText();if(s&&s.getText()){var l=(r||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(t,i)}},MultiPolygon:function(e,t,n,i,r){var a=n.getFill(),o=n.getStroke();if(o||a){var s=e.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(a,o),s.drawMultiPolygon(t,i)}var l=n.getText();if(l&&l.getText()){var u=(r||e).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(t,i)}},GeometryCollection:function(e,t,n,i,r){var a,o,s=t.getGeometriesArray();for(a=0,o=s.length;a<o;++a){(0,zl[s[a].getType()])(e,s[a],n,i,r)}},Circle:function(e,t,n,i,r){var a=n.getFill(),o=n.getStroke();if(a||o){var s=e.getBuilder(n.getZIndex(),"Circle");s.setFillStrokeStyle(a,o),s.drawCircle(t,i)}var l=n.getText();if(l&&l.getText()){var u=(r||e).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(t,i)}}};function Bl(e,t){return parseInt(ce(e),10)-parseInt(ce(t),10)}function Ul(e,t){return jl*e/t}function Wl(e,t,n,i,r,a,o){var s=!1,l=n.getImage();if(l){var u=l.getImageState();u==so||u==lo?l.unlistenImageChange(r):(u==ao&&l.load(),l.listenImageChange(r),s=!0)}return function(e,t,n,i,r,a){var o=n.getGeometryFunction()(t);if(!o)return;var s=o.simplifyTransformed(i,r),l=n.getRenderer();if(l)Gl(e,s,n,t);else{(0,zl[s.getType()])(e,s,n,t,a)}}(e,t,n,i,a,o),s}function Gl(e,t,n,i){if("GeometryCollection"!=t.getType())e.getBuilder(n.getZIndex(),"Default").drawCustom(t,i,n.getRenderer(),n.getHitDetectionRenderer());else for(var r=t.getGeometries(),a=0,o=r.length;a<o;++a)Gl(e,r[a],n,i)}var Yl=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),(i=t.call(this,e)).boundHandleStyleImageChange_=i.handleStyleImageChange_.bind(C(i)),i.animatingOrInteracting_,i.hitDetectionImageData_=null,i.renderedFeatures_=null,i.renderedRevision_=-1,i.renderedResolution_=NaN,i.renderedExtent_=[1/0,1/0,-1/0,-1/0],i.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],i.renderedRotation_,i.renderedCenter_=null,i.renderedProjection_=null,i.renderedRenderOrder_=null,i.replayGroup_=null,i.replayGroupChanged=!0,i.declutterExecutorGroup=null,i.clipping=!0,i.compositionContext_=null,i.opacity_=1,i}return k(n,[{key:"renderWorlds",value:function(e,t,n){var i=t.extent,r=t.viewState,a=r.center,o=r.resolution,s=r.projection,l=r.rotation,u=s.getExtent(),c=this.getLayer().getSource(),d=t.pixelRatio,h=t.viewHints,f=!(h[qt]||h[Jt]),p=this.compositionContext_,v=Math.round(t.size[0]*d),g=Math.round(t.size[1]*d),m=c.getWrapX()&&s.canWrapX(),y=m?st(u):null,b=m?Math.ceil((i[2]-u[2])/y)+1:1,_=m?Math.floor((i[0]-u[0])/y):0;do{var x=this.getRenderTransform(a,o,l,d,v,g,_*y);e.execute(p,1,x,l,f,void 0,n)}while(++_<b)}},{key:"setupCompositionContext_",value:function(){if(1!==this.opacity_){var e=cr(this.context.canvas.width,this.context.canvas.height,co);this.compositionContext_=e}else this.compositionContext_=this.context}},{key:"releaseCompositionContext_",value:function(){if(1!==this.opacity_){var e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,dr(this.compositionContext_),co.push(this.compositionContext_.canvas),this.compositionContext_=null}}},{key:"renderDeclutter",value:function(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}},{key:"renderFrame",value:function(e,t){var n=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];!function(e,t,n){Re(e,t,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),De(this.inversePixelTransform,this.pixelTransform);var r=Pe(this.pixelTransform);this.useContainer(t,r,this.getBackground(e));var a=this.context,o=a.canvas,s=this.replayGroup_,l=this.declutterExecutorGroup,u=s&&!s.isEmpty()||l&&!l.isEmpty();if(!u&&!(this.getLayer().hasListener(Wt)||this.getLayer().hasListener(Gt)))return null;var c=Math.round(e.size[0]*n),d=Math.round(e.size[1]*n);o.width!=c||o.height!=d?(o.width=c,o.height=d,o.style.transform!==r&&(o.style.transform=r)):this.containerReused||a.clearRect(0,0,c,d),this.preRender(a,e);var h=e.viewState,f=h.projection;this.opacity_=i.opacity,this.setupCompositionContext_();var p=!1;if(u&&i.extent&&this.clipping){var v=Vn(i.extent,f);(p=(u=lt(v,e.extent))&&!je(v,e.extent))&&this.clipUnrotated(this.compositionContext_,e,v)}return u&&this.renderWorlds(s,e),p&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(a,e),this.renderedRotation_!==h.rotation&&(this.renderedRotation_=h.rotation,this.hitDetectionImageData_=null),this.container}},{key:"getFeatures",value:function(e){var t=this;return new Promise((function(n){if(!t.hitDetectionImageData_&&!t.animatingOrInteracting_){var i=[t.context.canvas.width,t.context.canvas.height];Me(t.pixelTransform,i);var r=t.renderedCenter_,a=t.renderedResolution_,o=t.renderedRotation_,s=t.renderedProjection_,l=t.wrappedRenderedExtent_,u=t.getLayer(),c=[],d=i[0]*Hl,h=i[1]*Hl;c.push(t.getRenderTransform(r,a,o,Hl,d,h,0).slice());var f=u.getSource(),p=s.getExtent();if(f.getWrapX()&&s.canWrapX()&&!je(p,l)){for(var v,g=l[0],m=st(p),y=0;g<p[0];)v=m*--y,c.push(t.getRenderTransform(r,a,o,Hl,d,h,v).slice()),g+=m;for(y=0,g=l[2];g>p[2];)v=m*++y,c.push(t.getRenderTransform(r,a,o,Hl,d,h,v).slice()),g-=m}t.hitDetectionImageData_=function(e,t,n,i,r,a,o){var s=cr(e[0]*Hl,e[1]*Hl);s.imageSmoothingEnabled=!1;for(var l=s.canvas,u=new Fl(s,Hl,r,null,o),c=n.length,d=Math.floor(16777215/c),h={},f=1;f<=c;++f){var p=n[f-1],v=p.getStyleFunction()||i;if(v){var g=v(p,a);if(g){Array.isArray(g)||(g=[g]);for(var m=(f*d).toString(16).padStart(7,"#00000"),y=0,b=g.length;y<b;++y){var _=g[y],x=_.getGeometryFunction()(p);if(x&&lt(r,x.getExtent())){var w=_.clone(),k=w.getFill();k&&k.setColor(m);var C=w.getStroke();C&&(C.setColor(m),C.setLineDash(null)),w.setText(void 0);var S=_.getImage();if(S){var E=S.getImageSize();if(!E)continue;var T=cr(E[0],E[1],void 0,{alpha:!1}),R=T.canvas;T.fillStyle=m,T.fillRect(0,0,R.width,R.height),w.setImage(new rs({img:R,anchor:S.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:S.getOrigin(),opacity:1,size:S.getSize(),scale:S.getScale(),rotation:S.getRotation(),rotateWithView:S.getRotateWithView()}))}var M=w.getZIndex()||0,I=h[M];I||(I={},h[M]=I,I.Polygon=[],I.Circle=[],I.LineString=[],I.Point=[]);var D=x.getType();if("GeometryCollection"===D)for(var P=x.getGeometriesArrayRecursive(),A=0,N=P.length;A<N;++A){var O=P[A];I[O.getType().replace("Multi","")].push(O,w)}else I[D.replace("Multi","")].push(x,w)}}}}}for(var F=Object.keys(h).map(Number).sort(L),H=0,j=F.length;H<j;++H){var z=h[F[H]];for(var B in z)for(var U=z[B],W=0,G=U.length;W<G;W+=2){u.setStyle(U[W+1]);for(var Y=0,V=t.length;Y<V;++Y)u.setTransform(t[Y]),u.drawGeometry(U[W])}}return s.getImageData(0,0,l.width,l.height)}(i,c,t.renderedFeatures_,u.getStyleFunction(),l,a,o)}n(function(e,t,n){var i=[];if(n){var r=Math.floor(Math.round(e[0])*Hl),a=Math.floor(Math.round(e[1])*Hl),o=4*(ht(r,0,n.width-1)+ht(a,0,n.height-1)*n.width),s=n.data[o],l=n.data[o+1],u=n.data[o+2]+256*(l+256*s),c=Math.floor(16777215/t.length);u&&u%c===0&&i.push(t[u/c-1])}return i}(e,t.renderedFeatures_,t.hitDetectionImageData_))}))}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r){var a=this;if(this.replayGroup_){var o,s=t.viewState.resolution,l=t.viewState.rotation,u=this.getLayer(),c={},d=function(e,t,n){var a=ce(e),o=c[a];if(o){if(!0!==o&&n<o.distanceSq){if(0===n)return c[a]=!0,r.splice(r.lastIndexOf(o),1),i(e,u,t);o.geometry=t,o.distanceSq=n}}else{if(0===n)return c[a]=!0,i(e,u,t);r.push(c[a]={feature:e,layer:u,geometry:t,distanceSq:n,callback:i})}},h=[this.replayGroup_];return this.declutterExecutorGroup&&h.push(this.declutterExecutorGroup),h.some((function(i){return o=i.forEachFeatureAtCoordinate(e,s,l,n,d,i===a.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map((function(e){return e.value})):null)})),o}}},{key:"handleFontsChanged",value:function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}},{key:"handleStyleImageChange_",value:function(e){this.renderIfReadyAndVisible()}},{key:"prepareFrame",value:function(e){var t=this,n=this.getLayer(),i=n.getSource();if(!i)return!1;var r=e.viewHints[qt],a=e.viewHints[Jt],o=n.getUpdateWhileAnimating(),s=n.getUpdateWhileInteracting();if(this.ready&&!o&&r||!s&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var l=e.extent,u=e.viewState,c=u.projection,d=u.resolution,h=e.pixelRatio,f=n.getRevision(),p=n.getRenderBuffer(),v=n.getRenderOrder();void 0===v&&(v=Bl);var g=u.center.slice(),m=Le(l,p*d),y=m.slice(),b=[m.slice()],_=c.getExtent();if(i.getWrapX()&&c.canWrapX()&&!je(_,e.extent)){var x=st(_),w=Math.max(st(m)/2,x);m[0]=_[0]-w,m[2]=_[2]+w,_n(g,c);var k=dt(b[0],c);k[0]<_[0]&&k[2]<_[2]?b.push([k[0]+x,k[1],k[2]+x,k[3]]):k[0]>_[0]&&k[2]>_[2]&&b.push([k[0]-x,k[1],k[2]-x,k[3]])}if(this.ready&&this.renderedResolution_==d&&this.renderedRevision_==f&&this.renderedRenderOrder_==v&&je(this.wrappedRenderedExtent_,m))return j(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var C,S=new yl(Ul(d,h),m,d,h);this.getLayer().getDeclutter()&&(C=new yl(Ul(d,h),m,d,h));var E,T=Un();if(T){for(var R=0,M=b.length;R<M;++R){var I=Yn(b[R],c);i.loadFeatures(I,Zn(d,c),T)}E=Fn(T,c)}else for(var D=0,P=b.length;D<P;++D)i.loadFeatures(b[D],d,c);var A=function(e,t){var n=Ul(e,t);return n*n}(d,h),N=!0,L=function(e){var i,r=e.getStyleFunction()||n.getStyleFunction();if(r&&(i=r(e,d)),i){var a=t.renderFeature(e,A,i,S,E,C);N=N&&!a}},O=Yn(m,c),F=i.getFeaturesInExtent(O);v&&F.sort(v);for(var H=0,z=F.length;H<z;++H)L(F[H]);this.renderedFeatures_=F,this.ready=N;var B=S.finish(),U=new Ll(m,d,h,i.getOverlaps(),B,n.getRenderBuffer());return C&&(this.declutterExecutorGroup=new Ll(m,d,h,i.getOverlaps(),C.finish(),n.getRenderBuffer())),this.renderedResolution_=d,this.renderedRevision_=f,this.renderedRenderOrder_=v,this.renderedExtent_=y,this.wrappedRenderedExtent_=m,this.renderedCenter_=g,this.renderedProjection_=c,this.replayGroup_=U,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}},{key:"renderFeature",value:function(e,t,n,i,r,a){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var s=0,l=n.length;s<l;++s)o=Wl(i,e,n[s],t,this.boundHandleStyleImageChange_,r,a)||o;else o=Wl(i,e,n,t,this.boundHandleStyleImageChange_,r,a);return o}}]),n}(po),Vl=Yl,Zl=function(e){R(n,e);var t=D(n);function n(e){return x(this,n),t.call(this,e)}return k(n,[{key:"createRenderer",value:function(){return new Vl(this)}}]),n}(Qs);function ql(e,t,n,i){return void 0!==i?(i[0]=e,i[1]=t,i[2]=n,i):[e,t,n]}function Jl(e,t,n){return e+"/"+t+"/"+n}function Xl(e){return Jl(e[0],e[1],e[2])}var Kl=function(e){R(n,e);var t=D(n);function n(){return x(this,n),t.apply(this,arguments)}return k(n,[{key:"clear",value:function(){for(;this.getCount()>0;)this.pop().release();E(S(n.prototype),"clear",this).call(this)}},{key:"expireCache",value:function(e){for(;this.canExpireCache();){if(this.peekLast().getKey()in e)break;this.pop().release()}}},{key:"pruneExceptNewestZ",value:function(){var e=this;if(0!==this.getCount()){var t=function(e){return e.split("/").map(Number)}(this.peekFirstKey()),n=t[0];this.forEach((function(t){t.tileCoord[0]!==n&&(e.remove(Xl(t.tileCoord)),t.release())}))}}}]),n}(function(){function e(t){x(this,e),this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return k(e,[{key:"canExpireCache",value:function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}},{key:"expireCache",value:function(e){for(;this.canExpireCache();)this.pop()}},{key:"clear",value:function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}},{key:"containsKey",value:function(e){return this.entries_.hasOwnProperty(e)}},{key:"forEach",value:function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer}},{key:"get",value:function(e,t){var n=this.entries_[e];return Ee(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}},{key:"remove",value:function(e){var t=this.entries_[e];return Ee(void 0!==t,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}},{key:"getCount",value:function(){return this.count_}},{key:"getKeys",value:function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}},{key:"getValues",value:function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}},{key:"peekLast",value:function(){return this.oldest_.value_}},{key:"peekLastKey",value:function(){return this.oldest_.key_}},{key:"peekFirstKey",value:function(){return this.newest_.key_}},{key:"peek",value:function(e){if(this.containsKey(e))return this.entries_[e].value_}},{key:"pop",value:function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}},{key:"replace",value:function(e,t){this.get(e),this.entries_[e].value_=t}},{key:"set",value:function(e,t){Ee(!(e in this.entries_),"Tried to set a value for a key that is used already");var n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_}},{key:"setSize",value:function(e){this.highWaterMark=e}}]),e}()),Ql=Kl,$l="tileloadstart",eu="tileloadend",tu="tileloaderror";function nu(e){return e?Array.isArray(e)?function(t){return e}:"function"===typeof e?e:function(t){return[e]}:null}var iu=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),(i=t.call(this)).projection=Dn(e.projection),i.attributions_=nu(e.attributions),i.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,i.loading=!1,i.state_=void 0!==e.state?e.state:"ready",i.wrapX_=void 0!==e.wrapX&&e.wrapX,i.interpolate_=!!e.interpolate,i.viewResolver=null,i.viewRejector=null;var r=C(i);return i.viewPromise_=new Promise((function(e,t){r.viewResolver=e,r.viewRejector=t})),i}return k(n,[{key:"getAttributions",value:function(){return this.attributions_}},{key:"getAttributionsCollapsible",value:function(){return this.attributionsCollapsible_}},{key:"getProjection",value:function(){return this.projection}},{key:"getResolutions",value:function(e){return null}},{key:"getView",value:function(){return this.viewPromise_}},{key:"getState",value:function(){return this.state_}},{key:"getWrapX",value:function(){return this.wrapX_}},{key:"getInterpolate",value:function(){return this.interpolate_}},{key:"refresh",value:function(){this.changed()}},{key:"setAttributions",value:function(e){this.attributions_=nu(e),this.changed()}},{key:"setState",value:function(e){this.state_=e,this.changed()}}]),n}(he),ru=[0,0,0],au=function(){function e(t){var n;if(x(this,e),this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Ee(function(e,t,n){var i=t||L;return e.every((function(t,r){if(0===r)return!0;var a=i(e[r-1],t);return!(a>0||n&&0===a)}))}(this.resolutions_,(function(e,t){return t-e}),!0),"`resolutions` must be sorted in descending order"),!t.origins)for(var i=0,r=this.resolutions_.length-1;i<r;++i)if(n){if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}else n=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Ee(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));var a=t.extent;void 0===a||this.origin_||this.origins_||(this.origin_=at(a)),Ee(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Ee(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:Qt,Ee(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(e,t){var n=new Po(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(a){var i=this.getTileRangeForExtentAndZ(a,t);n.minX=Math.max(i.minX,n.minX),n.maxX=Math.min(i.maxX,n.maxX),n.minY=Math.max(i.minY,n.minY),n.maxY=Math.min(i.maxY,n.maxY)}return n}),this):a&&this.calculateTileRanges_(a)}return k(e,[{key:"forEachTileCoord",value:function(e,t,n){for(var i=this.getTileRangeForExtentAndZ(e,t),r=i.minX,a=i.maxX;r<=a;++r)for(var o=i.minY,s=i.maxY;o<=s;++o)n([t,r,o])}},{key:"forEachTileCoordParentTileRange",value:function(e,t,n,i){var r,a,o=null,s=e[0]-1;for(2===this.zoomFactor_?(r=e[1],a=e[2]):o=this.getTileCoordExtent(e,i);s>=this.minZoom;){if(t(s,2===this.zoomFactor_?Do(r=Math.floor(r/2),r,a=Math.floor(a/2),a,n):this.getTileRangeForExtentAndZ(o,s,n)))return!0;--s}return!1}},{key:"getExtent",value:function(){return this.extent_}},{key:"getMaxZoom",value:function(){return this.maxZoom}},{key:"getMinZoom",value:function(){return this.minZoom}},{key:"getOrigin",value:function(e){return this.origin_?this.origin_:this.origins_[e]}},{key:"getResolution",value:function(e){return this.resolutions_[e]}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getTileCoordChildTileRange",value:function(e,t,n){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*e[1],r=2*e[2];return Do(i,i+1,r,r+1,t)}var a=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,e[0]+1,t)}return null}},{key:"getTileRangeForTileCoordAndZ",value:function(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;var i=e[0],r=e[1],a=e[2];if(t===i)return Do(r,a,r,a,n);if(this.zoomFactor_){var o=Math.pow(this.zoomFactor_,t-i),s=Math.floor(r*o),l=Math.floor(a*o);return t<i?Do(s,s,l,l,n):Do(s,Math.floor(o*(r+1))-1,l,Math.floor(o*(a+1))-1,n)}var u=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(u,t,n)}},{key:"getTileRangeForExtentAndZ",value:function(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,ru);var i=ru[1],r=ru[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,ru),Do(i,ru[1],r,ru[2],n)}},{key:"getTileCoordCenter",value:function(e){var t=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=Ka(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*n,t[1]-(e[2]+.5)*i[1]*n]}},{key:"getTileCoordExtent",value:function(e,t){var n=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=Ka(this.getTileSize(e[0]),this.tmpSize_),a=n[0]+e[1]*r[0]*i,o=n[1]-(e[2]+1)*r[1]*i;return We(a,o,a+r[0]*i,o+r[1]*i,t)}},{key:"getTileCoordForCoordAndResolution",value:function(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}},{key:"getTileCoordForXYAndResolution_",value:function(e,t,n,i,r){var a=this.getZForResolution(n),o=n/this.getResolution(a),s=this.getOrigin(a),l=Ka(this.getTileSize(a),this.tmpSize_),u=o*(e-s[0])/n/l[0],c=o*(s[1]-t)/n/l[1];return i?(u=_t(u,5)-1,c=_t(c,5)-1):(u=bt(u,5),c=bt(c,5)),ql(a,u,c,r)}},{key:"getTileCoordForXYAndZ_",value:function(e,t,n,i,r){var a=this.getOrigin(n),o=this.getResolution(n),s=Ka(this.getTileSize(n),this.tmpSize_),l=(e-a[0])/o/s[0],u=(a[1]-t)/o/s[1];return i?(l=_t(l,5)-1,u=_t(u,5)-1):(l=bt(l,5),u=bt(u,5)),ql(n,l,u,r)}},{key:"getTileCoordForCoordAndZ",value:function(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}},{key:"getTileCoordResolution",value:function(e){return this.resolutions_[e[0]]}},{key:"getTileSize",value:function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}},{key:"getFullTileRange",value:function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}},{key:"getZForResolution",value:function(e,t){return ht(O(this.resolutions_,e,t||0),this.minZoom,this.maxZoom)}},{key:"tileCoordIntersectsViewport",value:function(e,t){return Fi(t,0,t.length,2,this.getTileCoordExtent(e))}},{key:"calculateTileRanges_",value:function(e){for(var t=this.resolutions_.length,n=new Array(t),i=this.minZoom;i<t;++i)n[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=n}}]),e}(),ou=au;function su(e){var t=e.getDefaultTileGrid();return t||(t=function(e,t,n,i){var r=uu(e);return function(e,t,n,i){i=void 0!==i?i:"top-left";var r=lu(e,t,n);return new ou({extent:e,origin:et(e,i),resolutions:r,tileSize:n})}(r,t,n,i)}(e),e.setDefaultTileGrid(t)),t}function lu(e,t,n,i){t=void 0!==t?t:Kt,n=Ka(void 0!==n?n:Qt);var r=it(e),a=st(e);i=i>0?i:Math.max(a/n[0],r/n[1]);for(var o=t+1,s=new Array(o),l=0;l<o;++l)s[l]=i/Math.pow(2,l);return s}function uu(e){var t=(e=Dn(e)).getExtent();if(!t){var n=180*$t.degrees/e.getMetersPerUnit();t=We(-n,-n,n,n)}return t}var cu=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),(i=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})).on,i.once,i.un,i.opaque_=void 0!==e.opaque&&e.opaque,i.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,i.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;return i.tileGrid&&Ka(i.tileGrid.getTileSize(i.tileGrid.getMinZoom()),[256,256]),i.tileCache=new Ql(e.cacheSize||0),i.tmpSize=[0,0],i.key_=e.key||"",i.tileOptions={transition:e.transition,interpolate:e.interpolate},i.zDirection=e.zDirection?e.zDirection:0,i}return k(n,[{key:"canExpireCache",value:function(){return this.tileCache.canExpireCache()}},{key:"expireCache",value:function(e,t){var n=this.getTileCacheForProjection(e);n&&n.expireCache(t)}},{key:"forEachLoadedTile",value:function(e,t,n,i){var r=this.getTileCacheForProjection(e);if(!r)return!1;for(var a,o,s,l=!0,u=n.minX;u<=n.maxX;++u)for(var c=n.minY;c<=n.maxY;++c)o=Jl(t,u,c),s=!1,r.containsKey(o)&&(s=(a=r.get(o)).getState()===ta)&&(s=!1!==i(a)),s||(l=!1);return l}},{key:"getGutterForProjection",value:function(e){return 0}},{key:"getKey",value:function(){return this.key_}},{key:"setKey",value:function(e){this.key_!==e&&(this.key_=e,this.changed())}},{key:"getOpaque",value:function(e){return this.opaque_}},{key:"getResolutions",value:function(e){var t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}},{key:"getTile",value:function(e,t,n,i,r){return le()}},{key:"getTileGrid",value:function(){return this.tileGrid}},{key:"getTileGridForProjection",value:function(e){return this.tileGrid?this.tileGrid:su(e)}},{key:"getTileCacheForProjection",value:function(e){var t=this.getProjection();return Ee(null===t||On(t,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}},{key:"getTilePixelRatio",value:function(e){return this.tilePixelRatio_}},{key:"getTilePixelSize",value:function(e,t,n){var i,r,a,o=this.getTileGridForProjection(n),s=this.getTilePixelRatio(t),l=Ka(o.getTileSize(e),this.tmpSize);return 1==s?l:(i=l,r=s,void 0===(a=this.tmpSize)&&(a=[0,0]),a[0]=i[0]*r+.5|0,a[1]=i[1]*r+.5|0,a)}},{key:"getTileCoordForTileUrlFunction",value:function(e,t){t=void 0!==t?t:this.getProjection();var n=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=function(e,t,n){var i=t[0],r=e.getTileCoordCenter(t),a=uu(n);if(!He(a,r)){var o=st(a),s=Math.ceil((a[0]-r[0])/o);return r[0]+=o*s,e.getTileCoordForCoordAndZ(r,i)}return t}(n,e,t)),function(e,t){var n=e[0],i=e[1],r=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;var a=t.getFullTileRange(n);return!a||a.containsXY(i,r)}(e,n)?e:null}},{key:"clear",value:function(){this.tileCache.clear()}},{key:"refresh",value:function(){this.clear(),E(S(n.prototype),"refresh",this).call(this)}},{key:"updateCacheSize",value:function(e,t){var n=this.getTileCacheForProjection(t);e>n.highWaterMark&&(n.highWaterMark=e)}},{key:"useTile",value:function(e,t,n,i){}}]),n}(iu),du=function(e){R(n,e);var t=D(n);function n(e,i){var r;return x(this,n),(r=t.call(this,e)).tile=i,r}return k(n)}(P);function hu(e,t){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,a=/\{-y\}/g;return function(o,s,l){if(o)return e.replace(n,o[0].toString()).replace(i,o[1].toString()).replace(r,o[2].toString()).replace(a,(function(){var e=o[0],n=t.getFullTileRange(e);return Ee(n,"The {-y} placeholder requires a tile grid with extent"),(n.getHeight()-o[2]-1).toString()}))}}function fu(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=hu(e[r],t);return function(e){if(1===e.length)return e[0];return function(t,n,i){if(t){var r=function(e){return(e[1]<<e[0])+e[2]}(t),a=gt(r,e.length);return e[a](t,n,i)}}}(i)}var pu=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),(i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})).generateTileUrlFunction_=i.tileUrlFunction===n.prototype.tileUrlFunction,i.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(i.tileUrlFunction=e.tileUrlFunction),i.urls=null,e.urls?i.setUrls(e.urls):e.url&&i.setUrl(e.url),i.tileLoadingKeys_={},i}return k(n,[{key:"getTileLoadFunction",value:function(){return this.tileLoadFunction}},{key:"getTileUrlFunction",value:function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}},{key:"getUrls",value:function(){return this.urls}},{key:"handleTileChange",value:function(e){var t,n=e.target,i=ce(n),r=n.getState();r==ea?(this.tileLoadingKeys_[i]=!0,t=$l):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],t=r==na?tu:r==ta?eu:void 0),void 0!=t&&this.dispatchEvent(new du(t,n))}},{key:"setTileLoadFunction",value:function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}},{key:"setTileUrlFunction",value:function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),"undefined"!==typeof t?this.setKey(t):this.changed()}},{key:"setUrl",value:function(e){var t=function(e){var t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var i,r=n[1].charCodeAt(0),a=n[2].charCodeAt(0);for(i=r;i<=a;++i)t.push(e.replace(n[0],String.fromCharCode(i)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e)){for(var o=parseInt(n[2],10),s=parseInt(n[1],10);s<=o;s++)t.push(e.replace(n[0],s.toString()));return t}return t.push(e),t}(e);this.urls=t,this.setUrls(t)}},{key:"setUrls",value:function(e){this.urls=e;var t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(fu(e,this.tileGrid),t):this.setKey(t)}},{key:"tileUrlFunction",value:function(e,t,n){}},{key:"useTile",value:function(e,t,n){var i=Jl(e,t,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}]),n}(cu),vu=function(e){R(n,e);var t=D(n);function n(e){var i;return x(this,n),(i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:gu,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,i.tileClass=void 0!==e.tileClass?e.tileClass:_o,i.tileCacheForProjection={},i.tileGridForProjection={},i.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,i.renderReprojectionEdges_=!1,i}return k(n,[{key:"canExpireCache",value:function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}},{key:"expireCache",value:function(e,t){var n=this.getTileCacheForProjection(e);for(var i in this.tileCache.expireCache(this.tileCache==n?t:{}),this.tileCacheForProjection){var r=this.tileCacheForProjection[i];r.expireCache(r==n?t:{})}}},{key:"getGutterForProjection",value:function(e){return this.getProjection()&&e&&!On(this.getProjection(),e)?0:this.getGutter()}},{key:"getGutter",value:function(){return 0}},{key:"getKey",value:function(){var e=E(S(n.prototype),"getKey",this).call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e}},{key:"getOpaque",value:function(e){return!(this.getProjection()&&e&&!On(this.getProjection(),e))&&E(S(n.prototype),"getOpaque",this).call(this,e)}},{key:"getTileGridForProjection",value:function(e){var t=this.getProjection();if(this.tileGrid&&(!t||On(t,e)))return this.tileGrid;var n=ce(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=su(e)),this.tileGridForProjection[n]}},{key:"getTileCacheForProjection",value:function(e){var t=this.getProjection();if(!t||On(t,e))return this.tileCache;var n=ce(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new Ql(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]}},{key:"createTile_",value:function(e,t,n,i,r,a){var o=[e,t,n],s=this.getTileCoordForTileUrlFunction(o,r),l=s?this.tileUrlFunction(s,i,r):void 0,u=new this.tileClass(o,void 0!==l?$r:ia,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=a,u.addEventListener(Z,this.handleTileChange.bind(this)),u}},{key:"getTile",value:function(e,t,n,i,r){var a=this,o=this.getProjection();if(!o||!r||On(o,r))return this.getTileInternal(e,t,n,i,o||r);var s,l=this.getTileCacheForProjection(r),u=[e,t,n],c=Xl(u);l.containsKey(c)&&(s=l.get(c));var d=this.getKey();if(s&&s.key==d)return s;var h=this.getTileGridForProjection(o),f=this.getTileGridForProjection(r),p=this.getTileCoordForTileUrlFunction(u,r),v=new Mo(o,h,r,f,u,p,this.getTilePixelRatio(i),this.getGutter(),(function(e,t,n,i){return a.getTileInternal(e,t,n,i,o)}),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return v.key=d,s?(v.interimTile=s,v.refreshInterimChain(),l.replace(c,v)):l.set(c,v),v}},{key:"getTileInternal",value:function(e,t,n,i,r){var a=null,o=Jl(e,t,n),s=this.getKey();if(this.tileCache.containsKey(o)){if((a=this.tileCache.get(o)).key!=s){var l=a;a=this.createTile_(e,t,n,i,r,s),l.getState()==$r?a.interimTile=l.interimTile:a.interimTile=l,a.refreshInterimChain(),this.tileCache.replace(o,a)}}else a=this.createTile_(e,t,n,i,r,s),this.tileCache.set(o,a);return a}},{key:"setRenderReprojectionEdges",value:function(e){if(this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}},{key:"setTileGridForProjection",value:function(e,t){var n=Dn(e);if(n){var i=ce(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=t)}}},{key:"clear",value:function(){for(var e in E(S(n.prototype),"clear",this).call(this),this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}]),n}(pu);function gu(e,t){e.getImage().src=t}var mu=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n);var r=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857",a=void 0!==e.tileGrid?e.tileGrid:function(e){var t=e||{},n=t.extent||Dn("EPSG:3857").getExtent(),i={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:lu(n,t.maxZoom,t.tileSize,t.maxResolution)};return new ou(i)}({extent:uu(r),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});return(i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:r,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})).gutter_=void 0!==e.gutter?e.gutter:0,i}return k(n,[{key:"getGutter",value:function(){return this.gutter_}}]),n}(vu),yu=function(){function e(t){x(this,e),this.rbush_=new Oo(t),this.items_={}}return k(e,[{key:"insert",value:function(e,t){var n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[ce(t)]=n}},{key:"load",value:function(e,t){for(var n=new Array(t.length),i=0,r=t.length;i<r;i++){var a=e[i],o=t[i],s={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:o};n[i]=s,this.items_[ce(o)]=s}this.rbush_.load(n)}},{key:"remove",value:function(e){var t=ce(e),n=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(n)}},{key:"update",value:function(e,t){var n=this.items_[ce(t)];Ye([n.minX,n.minY,n.maxX,n.maxY],e)||(this.remove(t),this.insert(e,t))}},{key:"getAll",value:function(){return this.rbush_.all().map((function(e){return e.value}))}},{key:"getInExtent",value:function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map((function(e){return e.value}))}},{key:"forEach",value:function(e){return this.forEach_(this.getAll(),e)}},{key:"forEachInExtent",value:function(e,t){return this.forEach_(this.getInExtent(e),t)}},{key:"forEach_",value:function(e,t){for(var n,i=0,r=e.length;i<r;i++)if(n=t(e[i]))return n;return n}},{key:"isEmpty",value:function(){return G(this.items_)}},{key:"clear",value:function(){this.rbush_.clear(),this.items_={}}},{key:"getExtent",value:function(e){var t=this.rbush_.toJSON();return We(t.minX,t.minY,t.maxX,t.maxY,e)}},{key:"concat",value:function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[t]=e.items_[t]}}]),e}(),bu=yu,_u="addfeature",xu="changefeature",wu="clear",ku="removefeature",Cu="featuresloadstart",Su="featuresloadend",Eu="featuresloaderror";function Tu(e,t){return[[-1/0,-1/0,1/0,1/0]]}var Ru=!1;function Mu(e,t){return function(n,i,r,a,o){var s=this;!function(e,t,n,i,r,a,o){var s=new XMLHttpRequest;s.open("GET","function"===typeof e?e(n,i,r):e,!0),"arraybuffer"==t.getType()&&(s.responseType="arraybuffer"),s.withCredentials=Ru,s.onload=function(e){if(!s.status||s.status>=200&&s.status<300){var i,l=t.getType();"json"==l||"text"==l?i=s.responseText:"xml"==l?(i=s.responseXML)||(i=(new DOMParser).parseFromString(s.responseText,"application/xml")):"arraybuffer"==l&&(i=s.response),i?a(t.readFeatures(i,{extent:n,featureProjection:r}),t.readProjection(i)):o()}else o()},s.onerror=o,s.send()}(e,t,n,i,r,(function(e,t){s.addFeatures(e),void 0!==a&&a(e)}),o||U)}}var Iu=function(e){R(n,e);var t=D(n);function n(e,i,r){var a;return x(this,n),(a=t.call(this,e)).feature=i,a.features=r,a}return k(n)}(P),Du=function(e){R(n,e);var t=D(n);function n(e){var i;x(this,n),e=e||{},(i=t.call(this,{attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX})).on,i.once,i.un,i.loader_=U,i.format_=e.format,i.overlaps_=void 0===e.overlaps||e.overlaps,i.url_=e.url,void 0!==e.loader?i.loader_=e.loader:void 0!==i.url_&&(Ee(i.format_,"`format` must be set when `url` is set"),i.loader_=Mu(i.url_,i.format_)),i.strategy_=void 0!==e.strategy?e.strategy:Tu;var r,a,o=void 0===e.useSpatialIndex||e.useSpatialIndex;return i.featuresRtree_=o?new bu:null,i.loadedExtentsRtree_=new bu,i.loadingExtentsCount_=0,i.nullGeometryFeatures_={},i.idIndex_={},i.uidIndex_={},i.featureChangeKeys_={},i.featuresCollection_=null,Array.isArray(e.features)?a=e.features:e.features&&(a=(r=e.features).getArray()),o||void 0!==r||(r=new me(a)),void 0!==a&&i.addFeaturesInternal(a),void 0!==r&&i.bindFeaturesCollection_(r),i}return k(n,[{key:"addFeature",value:function(e){this.addFeatureInternal(e),this.changed()}},{key:"addFeatureInternal",value:function(e){var t=ce(e);if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var n=e.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Iu(_u,e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)}},{key:"setupChangeEvents_",value:function(e,t){this.featureChangeKeys_[e]=[ie(t,Z,this.handleFeatureChange_,this),ie(t,A,this.handleFeatureChange_,this)]}},{key:"addToIndex_",value:function(e,t){var n=!0,i=t.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=t),n&&(Ee(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),n}},{key:"addFeatures",value:function(e){this.addFeaturesInternal(e),this.changed()}},{key:"addFeaturesInternal",value:function(e){for(var t=[],n=[],i=[],r=0,a=e.length;r<a;r++){var o=e[r],s=ce(o);this.addToIndex_(s,o)&&n.push(o)}for(var l=0,u=n.length;l<u;l++){var c=n[l],d=ce(c);this.setupChangeEvents_(d,c);var h=c.getGeometry();if(h){var f=h.getExtent();t.push(f),i.push(c)}else this.nullGeometryFeatures_[d]=c}if(this.featuresRtree_&&this.featuresRtree_.load(t,i),this.hasListener(_u))for(var p=0,v=n.length;p<v;p++)this.dispatchEvent(new Iu(_u,n[p]))}},{key:"bindFeaturesCollection_",value:function(e){var t=this,n=!1;this.addEventListener(_u,(function(t){n||(n=!0,e.push(t.feature),n=!1)})),this.addEventListener(ku,(function(t){n||(n=!0,e.remove(t.feature),n=!1)})),e.addEventListener(fe,(function(e){n||(n=!0,t.addFeature(e.element),n=!1)})),e.addEventListener(pe,(function(e){n||(n=!0,t.removeFeature(e.element),n=!1)})),this.featuresCollection_=e}},{key:"clear",value:function(e){var t=this;if(e){for(var n in this.featureChangeKeys_){this.featureChangeKeys_[n].forEach(ae)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){for(var i in this.featuresRtree_.forEach((function(e){t.removeFeatureInternal(e)})),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var r=new Iu(wu);this.dispatchEvent(r),this.changed()}},{key:"forEachFeature",value:function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}},{key:"forEachFeatureAtCoordinateDirect",value:function(e,t){var n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,(function(n){if(n.getGeometry().intersectsCoordinate(e))return t(n)}))}},{key:"forEachFeatureInExtent",value:function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}},{key:"forEachFeatureIntersectingExtent",value:function(e,t){return this.forEachFeatureInExtent(e,(function(n){if(n.getGeometry().intersectsExtent(e)){var i=t(n);if(i)return i}}))}},{key:"getFeaturesCollection",value:function(){return this.featuresCollection_}},{key:"getFeatures",value:function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),G(this.nullGeometryFeatures_)||H(e,Object.values(this.nullGeometryFeatures_))),e}},{key:"getFeaturesAtCoordinate",value:function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t}},{key:"getFeaturesInExtent",value:function(e,t){var n=this;if(this.featuresRtree_){var i;if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);var r=function(e,t){if(t.canWrapX()){var n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];dt(e,t);var i=st(n);if(st(e)>i)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+i,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-i,e[3]]]}return[e]}(e,t);return(i=[]).concat.apply(i,g(r.map((function(e){return n.featuresRtree_.getInExtent(e)}))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}},{key:"getClosestFeatureToCoordinate",value:function(e,t){var n=e[0],i=e[1],r=null,a=[NaN,NaN],o=1/0,s=[-1/0,-1/0,1/0,1/0];return t=t||z,this.featuresRtree_.forEachInExtent(s,(function(e){if(t(e)){var l=e.getGeometry(),u=o;if((o=l.closestPointXY(n,i,a,o))<u){r=e;var c=Math.sqrt(o);s[0]=n-c,s[1]=i-c,s[2]=n+c,s[3]=i+c}}})),r}},{key:"getExtent",value:function(e){return this.featuresRtree_.getExtent(e)}},{key:"getFeatureById",value:function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null}},{key:"getFeatureByUid",value:function(e){var t=this.uidIndex_[e];return void 0!==t?t:null}},{key:"getFormat",value:function(){return this.format_}},{key:"getOverlaps",value:function(){return this.overlaps_}},{key:"getUrl",value:function(){return this.url_}},{key:"handleFeatureChange_",value:function(e){var t=e.target,n=ce(t),i=t.getGeometry();if(i){var r=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,t)):this.featuresRtree_&&this.featuresRtree_.update(r,t)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);var a=t.getId();if(void 0!==a){var o=a.toString();this.idIndex_[o]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[o]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new Iu(xu,t))}},{key:"hasFeature",value:function(e){var t=e.getId();return void 0!==t?t in this.idIndex_:ce(e)in this.uidIndex_}},{key:"isEmpty",value:function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&G(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}},{key:"loadFeatures",value:function(e,t,n){for(var i=this,r=this.loadedExtentsRtree_,a=this.strategy_(e,t,n),o=function(){var e=a[s];r.forEachInExtent(e,(function(t){return je(t.extent,e)}))||(++i.loadingExtentsCount_,i.dispatchEvent(new Iu(Cu)),i.loader_.call(i,e,t,n,(function(e){--i.loadingExtentsCount_,i.dispatchEvent(new Iu(Su,void 0,e))}),(function(){--i.loadingExtentsCount_,i.dispatchEvent(new Iu(Eu))})),r.insert(e,{extent:e.slice()}))},s=0,l=a.length;s<l;++s)o();this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}},{key:"refresh",value:function(){this.clear(!0),this.loadedExtentsRtree_.clear(),E(S(n.prototype),"refresh",this).call(this)}},{key:"removeLoadedExtent",value:function(e){var t,n=this.loadedExtentsRtree_;n.forEachInExtent(e,(function(n){if(Ye(n.extent,e))return t=n,!0})),t&&n.remove(t)}},{key:"removeFeature",value:function(e){if(e){var t=ce(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}}},{key:"removeFeatureInternal",value:function(e){var t=ce(e),n=this.featureChangeKeys_[t];if(n){n.forEach(ae),delete this.featureChangeKeys_[t];var i=e.getId();return void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[t],this.dispatchEvent(new Iu(ku,e)),e}}},{key:"removeFromIdIndex_",value:function(e){var t=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n],t=!0;break}return t}},{key:"setLoader",value:function(e){this.loader_=e}},{key:"setUrl",value:function(e){Ee(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(Mu(e,this.format_))}}]),n}(iu),Pu=function(e){R(n,e);var t=D(n);function n(e){var i;if(x(this,n),(i=t.call(this)).on,i.once,i.un,i.id_=void 0,i.geometryName_="geometry",i.style_=null,i.styleFunction_=void 0,i.geometryChangeKey_=null,i.addChangeListener(i.geometryName_,i.handleGeometryChanged_),e)if("function"===typeof e.getSimplifiedGeometry){var r=e;i.setGeometry(r)}else{var a=e;i.setProperties(a)}return i}return k(n,[{key:"clone",value:function(){var e=new n(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var t=this.getGeometry();t&&e.setGeometry(t.clone());var i=this.getStyle();return i&&e.setStyle(i),e}},{key:"getGeometry",value:function(){return this.get(this.geometryName_)}},{key:"getId",value:function(){return this.id_}},{key:"getGeometryName",value:function(){return this.geometryName_}},{key:"getStyle",value:function(){return this.style_}},{key:"getStyleFunction",value:function(){return this.styleFunction_}},{key:"handleGeometryChange_",value:function(){this.changed()}},{key:"handleGeometryChanged_",value:function(){this.geometryChangeKey_&&(ae(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=ie(e,Z,this.handleGeometryChange_,this)),this.changed()}},{key:"setGeometry",value:function(e){this.set(this.geometryName_,e)}},{key:"setStyle",value:function(e){this.style_=e,this.styleFunction_=e?function(e){if("function"===typeof e)return e;var t;if(Array.isArray(e))t=e;else{Ee("function"===typeof e.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[e]}return function(){return t}}(e):void 0,this.changed()}},{key:"setId",value:function(e){this.id_=e,this.changed()}},{key:"setGeometryName",value:function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}]),n}(he);var Au=Pu,Nu=function(e){return new Xo({geometry:e.getGeometry(),text:new os({text:e.get("Title"),fill:new Go({color:"black"}),stroke:new Yo({color:"white",width:3}),offsetX:10,offsetY:20,scale:1}),image:new Bo({fill:new Go({color:"black"}),stroke:new Yo({color:"black",width:2}),points:4,radius:10,radius2:0,angle:Math.PI/4})})},Lu=function(t){var n=t.points;return n=n||[],(0,e.useEffect)((function(){var e=new Lo({source:new mu({url:"https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",projection:"EPSG:3857"})}),t=new to({layers:[e],target:"map",view:new Xi({center:Ln([-146.44166473513687,64.31714411488758]),zoom:8,maxZoom:18})}),i=n.map((function(e){return new Au({geometry:new Di(Ln([e.pointLocationLon,e.pointLocationLat])),name:e.Title})})),r=new Du({features:i}),a=new Zl({source:r,style:Nu,declutter:!0});t.addLayer(a);var o=t.getSize();return 0!==n.length?t.getView().fit(r.getExtent(),{padding:[30,30,30,30],constrainResolution:!1}):t.getView().centerOn(Ln([-146.44166473513687,64.31714411488758]),o,[570,500]),function(){t.setTarget(null)}}),[n]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{id:"map",className:"map",style:{height:"80vh",minWidth:"50%"}})})};var Ou=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Fu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Hu=function(t){var n=t.onWeekSelected,i=a((0,e.useState)((new Date).getMonth()),2),r=i[0],s=i[1],l=a((0,e.useState)((new Date).getFullYear()),2),u=l[0],c=l[1],d=function(e,t){for(var n=[],i=new Date(t,e,1),r=new Date(t,e+1,0),a=i;1!==a.getDay();)a.setDate(a.getDate()-1);for(;a<r;){var o={};o.start=new Date(a);var s=new Date(a);s.setDate(a.getDate()+4),o.end=s,n.push(o),a.setDate(a.getDate()+7)}return n}(r,u),h=function(e){var t=r+e,n=u;t>11?(t=0,n+=1):t<0&&(t=11,n-=1),s(t),c(n)},f=function(e){return"".concat(e.getDate()," ").concat(Ou[e.getMonth()])};return(0,o.jsxs)("div",{className:"week-selector",children:[(0,o.jsx)("button",{onClick:function(){return h(-1)},children:"Prev Month"}),(0,o.jsxs)("span",{children:[new Date(u,r).toLocaleString("default",{month:"long"})," ",u]}),(0,o.jsx)("button",{onClick:function(){return h(1)},children:"Next Month"}),(0,o.jsx)("div",{className:"weeks",children:d.map((function(e,t){return(0,o.jsx)("button",{onClick:function(){return function(e){for(var t=[],i=new Date(e.start);i<=e.end;)t.push({date:i.toDateString(),day:Fu[i.getDay()]}),i.setDate(i.getDate()+1);n(t)}(e)},children:"".concat(f(e.start)," - ").concat(f(e.end))},t)}))})]})},ju=function(t){var n=t.onTimeIntervalsChange,i=a((0,e.useState)(""),2),r=i[0],s=i[1],l=a((0,e.useState)(""),2),u=l[0],c=l[1],d=a((0,e.useState)([{start:"09:00",end:"11:00"},{start:"14:00",end:"16:00"}]),2),h=d[0],f=d[1];return(0,e.useEffect)((function(){n&&n(h)}),[h,n]),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{children:["Start Time:",(0,o.jsx)("input",{type:"time",value:r,onChange:function(e){return s(e.target.value)}})]}),(0,o.jsxs)("label",{children:["End Time:",(0,o.jsx)("input",{type:"time",value:u,onChange:function(e){return c(e.target.value)}})]}),(0,o.jsx)("button",{onClick:function(){r&&u&&r<u?f([].concat(g(h),[{start:r,end:u}])):alert("times are incorrect")},children:"Add Time Interval"}),(0,o.jsx)("ul",{children:h.map((function(e,t){return(0,o.jsxs)("li",{children:[e.start," to ",e.end,(0,o.jsx)("button",{onClick:function(){return function(e){f(h.filter((function(t,n){return n!==e})))}(t)},children:"X"})]},t)}))})]})},zu=function(e){var t=e.data,n=e.onClose,i=e.onPush;return(0,o.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",width:"80%",maxHeight:"80%",overflowY:"auto"},children:[(0,o.jsx)("h2",{children:"Confirm Data"}),(0,o.jsx)("pre",{children:JSON.stringify(t,null,2)})," ",(0,o.jsxs)("div",{style:{marginTop:"20px",display:"flex",justifyContent:"flex-end"},children:[(0,o.jsx)("button",{onClick:n,style:{marginRight:"10px"},children:"Cancel"}),(0,o.jsx)("button",{onClick:i,children:"Submit"})]})]})})};function Bu(e,t){return function(){return e.apply(t,arguments)}}var Uu=Object.prototype.toString,Wu=Object.getPrototypeOf,Gu=function(e){return function(t){var n=Uu.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null)),Yu=function(e){return e=e.toLowerCase(),function(t){return Gu(t)===e}},Vu=function(e){return function(t){return typeof t===e}},Zu=Array.isArray,qu=Vu("undefined");var Ju=Yu("ArrayBuffer");var Xu=Vu("string"),Ku=Vu("function"),Qu=Vu("number"),$u=function(e){return null!==e&&"object"===typeof e},ec=function(e){if("object"!==Gu(e))return!1;var t=Wu(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tc=Yu("Date"),nc=Yu("File"),ic=Yu("Blob"),rc=Yu("FileList"),ac=Yu("URLSearchParams");function oc(e,t){var n,i,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==r&&r;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Zu(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),l=s.length;for(n=0;n<l;n++)o=s[n],t.call(null,e[o],o,e)}}function sc(e,t){t=t.toLowerCase();for(var n,i=Object.keys(e),r=i.length;r-- >0;)if(t===(n=i[r]).toLowerCase())return n;return null}var lc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,uc=function(e){return!qu(e)&&e!==lc};var cc,dc=(cc="undefined"!==typeof Uint8Array&&Wu(Uint8Array),function(e){return cc&&e instanceof cc}),hc=Yu("HTMLFormElement"),fc=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),pc=Yu("RegExp"),vc=function(e,t){var n=Object.getOwnPropertyDescriptors(e),i={};oc(n,(function(n,r){var a;!1!==(a=t(n,r,e))&&(i[r]=a||n)})),Object.defineProperties(e,i)},gc="abcdefghijklmnopqrstuvwxyz",mc="0123456789",yc={DIGIT:mc,ALPHA:gc,ALPHA_DIGIT:gc+gc.toUpperCase()+mc};var bc=Yu("AsyncFunction"),_c={isArray:Zu,isArrayBuffer:Ju,isBuffer:function(e){return null!==e&&!qu(e)&&null!==e.constructor&&!qu(e.constructor)&&Ku(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||Ku(e.append)&&("formdata"===(t=Gu(e))||"object"===t&&Ku(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ju(e.buffer)},isString:Xu,isNumber:Qu,isBoolean:function(e){return!0===e||!1===e},isObject:$u,isPlainObject:ec,isUndefined:qu,isDate:tc,isFile:nc,isBlob:ic,isRegExp:pc,isFunction:Ku,isStream:function(e){return $u(e)&&Ku(e.pipe)},isURLSearchParams:ac,isTypedArray:dc,isFileList:rc,forEach:oc,merge:function e(){for(var t=(uc(this)&&this||{}).caseless,n={},i=function(i,r){var a=t&&sc(n,r)||r;ec(n[a])&&ec(i)?n[a]=e(n[a],i):ec(i)?n[a]=e({},i):Zu(i)?n[a]=i.slice():n[a]=i},r=0,a=arguments.length;r<a;r++)arguments[r]&&oc(arguments[r],i);return n},extend:function(e,t,n){return oc(t,(function(t,i){n&&Ku(t)?e[i]=Bu(t,n):e[i]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,i){var r,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(r=Object.getOwnPropertyNames(e)).length;a-- >0;)o=r[a],i&&!i(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&Wu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Gu,kindOfTest:Yu,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return-1!==i&&i===n},toArray:function(e){if(!e)return null;if(Zu(e))return e;var t=e.length;if(!Qu(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,i=(e&&e[Symbol.iterator]).call(e);(n=i.next())&&!n.done;){var r=n.value;t.call(e,r[0],r[1])}},matchAll:function(e,t){for(var n,i=[];null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:hc,hasOwnProperty:fc,hasOwnProp:fc,reduceDescriptors:vc,freezeMethods:function(e){vc(e,(function(t,n){if(Ku(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var i=e[n];Ku(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},i=function(e){e.forEach((function(e){n[e]=!0}))};return Zu(e)?i(e):i(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:sc,global:lc,isContextDefined:uc,ALPHABET:yc,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yc.ALPHA_DIGIT,n="",i=t.length;e--;)n+=t[Math.random()*i|0];return n},isSpecCompliantForm:function(e){return!!(e&&Ku(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,i){if($u(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;var r=Zu(n)?[]:{};return oc(n,(function(t,n){var a=e(t,i+1);!qu(a)&&(r[n]=a)})),t[i]=void 0,r}}return n}(e,0)},isAsyncFn:bc,isThenable:function(e){return e&&($u(e)||Ku(e))&&Ku(e.then)&&Ku(e.catch)}};function xc(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}_c.inherits(xc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_c.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var wc=xc.prototype,kc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){kc[e]={value:e}})),Object.defineProperties(xc,kc),Object.defineProperty(wc,"isAxiosError",{value:!0}),xc.from=function(e,t,n,i,r,a){var o=Object.create(wc);return _c.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),xc.call(o,e.message,t,n,i,r),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Cc=xc;function Sc(e){return _c.isPlainObject(e)||_c.isArray(e)}function Ec(e){return _c.endsWith(e,"[]")?e.slice(0,-2):e}function Tc(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ec(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Rc=_c.toFlatObject(_c,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Mc=function(e,t,n){if(!_c.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var i=(n=_c.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!_c.isUndefined(t[e])}))).metaTokens,r=n.visitor||u,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&_c.isSpecCompliantForm(t);if(!_c.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(_c.isDate(e))return e.toISOString();if(!s&&_c.isBlob(e))throw new Cc("Blob is not supported. Use a Buffer instead.");return _c.isArrayBuffer(e)||_c.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,r){var s=e;if(e&&!r&&"object"===typeof e)if(_c.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(_c.isArray(e)&&function(e){return _c.isArray(e)&&!e.some(Sc)}(e)||(_c.isFileList(e)||_c.endsWith(n,"[]"))&&(s=_c.toArray(e)))return n=Ec(n),s.forEach((function(e,i){!_c.isUndefined(e)&&null!==e&&t.append(!0===o?Tc([n],i,a):null===o?n:n+"[]",l(e))})),!1;return!!Sc(e)||(t.append(Tc(r,n,a),l(e)),!1)}var c=[],d=Object.assign(Rc,{defaultVisitor:u,convertValue:l,isVisitable:Sc});if(!_c.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!_c.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+i.join("."));c.push(n),_c.forEach(n,(function(n,a){!0===(!(_c.isUndefined(n)||null===n)&&r.call(t,n,_c.isString(a)?a.trim():a,i,d))&&e(n,i?i.concat(a):[a])})),c.pop()}}(e),t};function Ic(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Dc(e,t){this._pairs=[],e&&Mc(e,this,t)}var Pc=Dc.prototype;Pc.append=function(e,t){this._pairs.push([e,t])},Pc.toString=function(e){var t=e?function(t){return e.call(this,t,Ic)}:Ic;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Ac=Dc;function Nc(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Lc(e,t,n){if(!t)return e;var i,r=n&&n.encode||Nc,a=n&&n.serialize;if(i=a?a(t,n):_c.isURLSearchParams(t)?t.toString():new Ac(t,n).toString(r)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}var Oc=function(){function e(){x(this,e),this.handlers=[]}return k(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){_c.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),Fc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hc={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ac,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var jc=function(e){function t(e,n,i,r){var a=e[r++],o=Number.isFinite(+a),s=r>=e.length;return a=!a&&_c.isArray(i)?i.length:a,s?(_c.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):(i[a]&&_c.isObject(i[a])||(i[a]=[]),t(e,n,i[a],r)&&_c.isArray(i[a])&&(i[a]=function(e){var t,n,i={},r=Object.keys(e),a=r.length;for(t=0;t<a;t++)i[n=r[t]]=e[n];return i}(i[a])),!o)}if(_c.isFormData(e)&&_c.isFunction(e.entries)){var n={};return _c.forEachEntry(e,(function(e,i){t(function(e){return _c.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),i,n,0)})),n}return null};var zc={transitional:Fc,adapter:["xhr","http"],transformRequest:[function(e,t){var n,i=t.getContentType()||"",r=i.indexOf("application/json")>-1,a=_c.isObject(e);if(a&&_c.isHTMLForm(e)&&(e=new FormData(e)),_c.isFormData(e))return r&&r?JSON.stringify(jc(e)):e;if(_c.isArrayBuffer(e)||_c.isBuffer(e)||_c.isStream(e)||_c.isFile(e)||_c.isBlob(e))return e;if(_c.isArrayBufferView(e))return e.buffer;if(_c.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Mc(e,new Hc.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return Hc.isNode&&_c.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=_c.isFileList(e))||i.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Mc(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(_c.isString(e))try{return(t||JSON.parse)(e),_c.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||zc.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(e&&_c.isString(e)&&(n&&!this.responseType||i)){var r=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(r){if("SyntaxError"===a.name)throw Cc.from(a,Cc.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hc.classes.FormData,Blob:Hc.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_c.forEach(["delete","get","head","post","put","patch"],(function(e){zc.headers[e]={}}));var Bc=zc,Uc=_c.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wc=Symbol("internals");function Gc(e){return e&&String(e).trim().toLowerCase()}function Yc(e){return!1===e||null==e?e:_c.isArray(e)?e.map(Yc):String(e)}function Vc(e,t,n,i,r){return _c.isFunction(i)?i.call(this,t,n):(r&&(t=n),_c.isString(t)?_c.isString(i)?-1!==t.indexOf(i):_c.isRegExp(i)?i.test(t):void 0:void 0)}var Zc=function(e,t){function n(e){x(this,n),e&&this.set(e)}return k(n,[{key:"set",value:function(e,t,n){var i=this;function r(e,t,n){var r=Gc(t);if(!r)throw new Error("header name must be a non-empty string");var a=_c.findKey(i,r);(!a||void 0===i[a]||!0===n||void 0===n&&!1!==i[a])&&(i[a||t]=Yc(e))}var a=function(e,t){return _c.forEach(e,(function(e,n){return r(e,n,t)}))};return _c.isPlainObject(e)||e instanceof this.constructor?a(e,t):_c.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,i,r={};return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),t=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!t||r[t]&&Uc[t]||("set-cookie"===t?r[t]?r[t].push(n):r[t]=[n]:r[t]=r[t]?r[t]+", "+n:n)})),r}(e),t):null!=e&&r(t,e,n),this}},{key:"get",value:function(e,t){if(e=Gc(e)){var n=_c.findKey(this,e);if(n){var i=this[n];if(!t)return i;if(!0===t)return function(e){for(var t,n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=i.exec(e);)n[t[1]]=t[2];return n}(i);if(_c.isFunction(t))return t.call(this,i,n);if(_c.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=Gc(e)){var n=_c.findKey(this,e);return!(!n||void 0===this[n]||t&&!Vc(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,i=!1;function r(e){if(e=Gc(e)){var r=_c.findKey(n,e);!r||t&&!Vc(0,n[r],r,t)||(delete n[r],i=!0)}}return _c.isArray(e)?e.forEach(r):r(e),i}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,i=!1;n--;){var r=t[n];e&&!Vc(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}},{key:"normalize",value:function(e){var t=this,n={};return _c.forEach(this,(function(i,r){var a=_c.findKey(n,r);if(a)return t[a]=Yc(i),void delete t[r];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(r):String(r).trim();o!==r&&delete t[r],t[o]=Yc(i),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return _c.forEach(this,(function(n,i){null!=n&&!1!==n&&(t[i]=e&&_c.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=a(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Wc]=this[Wc]={accessors:{}}).accessors,n=this.prototype;function i(e){var i=Gc(e);t[i]||(!function(e,t){var n=_c.toCamelCase(" "+t);["get","set","has"].forEach((function(i){Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[i]=!0)}return _c.isArray(e)?e.forEach(i):i(e),this}}]),n}();Zc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_c.reduceDescriptors(Zc.prototype,(function(e,t){var n=e.value,i=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[i]=e}}})),_c.freezeMethods(Zc);var qc=Zc;function Jc(e,t){var n=this||Bc,i=t||n,r=qc.from(i.headers),a=i.data;return _c.forEach(e,(function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)})),r.normalize(),a}function Xc(e){return!(!e||!e.__CANCEL__)}function Kc(e,t,n){Cc.call(this,null==e?"canceled":e,Cc.ERR_CANCELED,t,n),this.name="CanceledError"}_c.inherits(Kc,Cc,{__CANCEL__:!0});var Qc=Kc;var $c=Hc.isStandardBrowserEnv?{write:function(e,t,n,i,r,a){var o=[];o.push(e+"="+encodeURIComponent(t)),_c.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),_c.isString(i)&&o.push("path="+i),_c.isString(r)&&o.push("domain="+r),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function ed(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var td=Hc.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=_c.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var nd=function(e,t){e=e||10;var n,i=new Array(e),r=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var l=Date.now(),u=r[o];n||(n=l),i[a]=s,r[a]=l;for(var c=o,d=0;c!==a;)d+=i[c++],c%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(l-n<t)){var h=u&&l-u;return h?Math.round(1e3*d/h):void 0}}};function id(e,t){var n=0,i=nd(50,250);return function(r){var a=r.loaded,o=r.lengthComputable?r.total:void 0,s=a-n,l=i(s);n=a;var u={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:r};u[t?"download":"upload"]=!0,e(u)}}var rd={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var i,r,a=e.data,o=qc.from(e.headers).normalize(),s=e.responseType;function l(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}_c.isFormData(a)&&(Hc.isStandardBrowserEnv||Hc.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.getContentType(/^\s*multipart\/form-data/)?_c.isString(r=o.getContentType())&&o.setContentType(r.replace(/^\s*(multipart\/form-data);+/,"$1")):o.setContentType("multipart/form-data"));var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",d=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(c+":"+d))}var h=ed(e.baseURL,e.url);function f(){if(u){var i=qc.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new Cc("Request failed with status code "+n.status,[Cc.ERR_BAD_REQUEST,Cc.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),l()}),(function(e){n(e),l()}),{data:s&&"text"!==s&&"json"!==s?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:i,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),Lc(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(f)},u.onabort=function(){u&&(n(new Cc("Request aborted",Cc.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new Cc("Network Error",Cc.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||Fc;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Cc(t,i.clarifyTimeoutError?Cc.ETIMEDOUT:Cc.ECONNABORTED,e,u)),u=null},Hc.isStandardBrowserEnv){var p=(e.withCredentials||td(h))&&e.xsrfCookieName&&$c.read(e.xsrfCookieName);p&&o.set(e.xsrfHeaderName,p)}void 0===a&&o.setContentType(null),"setRequestHeader"in u&&_c.forEach(o.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),_c.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),s&&"json"!==s&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",id(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",id(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=function(t){u&&(n(!t||t.type?new Qc(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));var v=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);v&&-1===Hc.protocols.indexOf(v)?n(new Cc("Unsupported protocol "+v+":",Cc.ERR_BAD_REQUEST,e)):u.send(a||null)}))}};_c.forEach(rd,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var ad=function(e){return"- ".concat(e)},od=function(e){return _c.isFunction(e)||null===e||!1===e},sd=function(e){for(var t,n,i=(e=_c.isArray(e)?e:[e]).length,r={},o=0;o<i;o++){var s=void 0;if(n=t=e[o],!od(t)&&void 0===(n=rd[(s=String(t)).toLowerCase()]))throw new Cc("Unknown adapter '".concat(s,"'"));if(n)break;r[s||"#"+o]=n}if(!n){var l=Object.entries(r).map((function(e){var t=a(e,2),n=t[0],i=t[1];return"adapter ".concat(n," ")+(!1===i?"is not supported by the environment":"is not available in the build")})),u=i?l.length>1?"since :\n"+l.map(ad).join("\n"):" "+ad(l[0]):"as no adapter specified";throw new Cc("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return n};function ld(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qc(null,e)}function ud(e){return ld(e),e.headers=qc.from(e.headers),e.data=Jc.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),sd(e.adapter||Bc.adapter)(e).then((function(t){return ld(e),t.data=Jc.call(e,e.transformResponse,t),t.headers=qc.from(t.headers),t}),(function(t){return Xc(t)||(ld(e),t&&t.response&&(t.response.data=Jc.call(e,e.transformResponse,t.response),t.response.headers=qc.from(t.response.headers))),Promise.reject(t)}))}var cd=function(e){return e instanceof qc?e.toJSON():e};function dd(e,t){t=t||{};var n={};function i(e,t,n){return _c.isPlainObject(e)&&_c.isPlainObject(t)?_c.merge.call({caseless:n},e,t):_c.isPlainObject(t)?_c.merge({},t):_c.isArray(t)?t.slice():t}function r(e,t,n){return _c.isUndefined(t)?_c.isUndefined(e)?void 0:i(void 0,e,n):i(e,t,n)}function a(e,t){if(!_c.isUndefined(t))return i(void 0,t)}function o(e,t){return _c.isUndefined(t)?_c.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function s(n,r,a){return a in t?i(n,r):a in e?i(void 0,n):void 0}var l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return r(cd(e),cd(t),!0)}};return _c.forEach(Object.keys(Object.assign({},e,t)),(function(i){var a=l[i]||r,o=a(e[i],t[i],i);_c.isUndefined(o)&&a!==s||(n[i]=o)})),n}var hd="1.5.1",fd={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){fd[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var pd={};fd.transitional=function(e,t,n){function i(e,t){return"[Axios v1.5.1] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Cc(i(r," has been removed"+(t?" in "+t:"")),Cc.ERR_DEPRECATED);return t&&!pd[r]&&(pd[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}};var vd={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Cc("options must be an object",Cc.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),r=i.length;r-- >0;){var a=i[r],o=t[a];if(o){var s=e[a],l=void 0===s||o(s,a,e);if(!0!==l)throw new Cc("option "+a+" must be "+l,Cc.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Cc("Unknown option "+a,Cc.ERR_BAD_OPTION)}},validators:fd},gd=vd.validators,md=function(){function e(t){x(this,e),this.defaults=t,this.interceptors={request:new Oc,response:new Oc}}return k(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=dd(this.defaults,t),i=n.transitional,r=n.paramsSerializer,a=n.headers;void 0!==i&&vd.assertOptions(i,{silentJSONParsing:gd.transitional(gd.boolean),forcedJSONParsing:gd.transitional(gd.boolean),clarifyTimeoutError:gd.transitional(gd.boolean)},!1),null!=r&&(_c.isFunction(r)?t.paramsSerializer={serialize:r}:vd.assertOptions(r,{encode:gd.function,serialize:gd.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=a&&_c.merge(a.common,a[t.method]);a&&_c.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=qc.concat(o,a);var s=[],l=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var u,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var d,h=0;if(!l){var f=[ud.bind(this),void 0];for(f.unshift.apply(f,s),f.push.apply(f,c),d=f.length,u=Promise.resolve(t);h<d;)u=u.then(f[h++],f[h++]);return u}d=s.length;var p=t;for(h=0;h<d;){var v=s[h++],g=s[h++];try{p=v(p)}catch(m){g.call(this,m);break}}try{u=ud.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,d=c.length;h<d;)u=u.then(c[h++],c[h++]);return u}},{key:"getUri",value:function(e){return Lc(ed((e=dd(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();_c.forEach(["delete","get","head","options"],(function(e){md.prototype[e]=function(t,n){return this.request(dd(n||{},{method:e,url:t,data:(n||{}).data}))}})),_c.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(dd(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}md.prototype[e]=t(),md.prototype[e+"Form"]=t(!0)}));var yd=md,bd=function(){function e(t){if(x(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var i=this;this.promise.then((function(e){if(i._listeners){for(var t=i._listeners.length;t-- >0;)i._listeners[t](e);i._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},t((function(e,t,r){i.reason||(i.reason=new Qc(e,t,r),n(i.reason))}))}return k(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}();var _d={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_d).forEach((function(e){var t=a(e,2),n=t[0],i=t[1];_d[i]=n}));var xd=_d;var wd=function e(t){var n=new yd(t),i=Bu(yd.prototype.request,n);return _c.extend(i,yd.prototype,n,{allOwnKeys:!0}),_c.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(dd(t,n))},i}(Bc);wd.Axios=yd,wd.CanceledError=Qc,wd.CancelToken=bd,wd.isCancel=Xc,wd.VERSION=hd,wd.toFormData=Mc,wd.AxiosError=Cc,wd.Cancel=wd.CanceledError,wd.all=function(e){return Promise.all(e)},wd.spread=function(e){return function(t){return e.apply(null,t)}},wd.isAxiosError=function(e){return _c.isObject(e)&&!0===e.isAxiosError},wd.mergeConfig=dd,wd.AxiosHeaders=qc,wd.formToJSON=function(e){return jc(_c.isHTMLForm(e)?new FormData(e):e)},wd.getAdapter=sd,wd.HttpStatusCode=xd,wd.default=wd;var kd=wd,Cd=(0,e.createContext)(null),Sd=function(t){var n=t.children,i=a((0,e.useState)(null),2),r=i[0],s=i[1],l=a((0,e.useState)(null),2),u=l[0],c=l[1];(0,e.useEffect)((function(){console.log("config",r),c(r)}),[r]),(0,e.useEffect)((function(){fetch("/sites/354RANS/hafi/tester/settings/settings.txt").then((function(e){if(!e.ok)throw new Error("Network response was not ok "+e.statusText);return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){d((function(t){e.admin=t,s(e)}),(function(t){console.error("Error checking admin status:",t),e.admin=!0,console.log(e),s(e)}))})).catch((function(e){return console.error("Error fetching config:",e)}))}),[]);var d=function(e,t){try{var n=SP.ClientContext.get_current(),i=n.get_web().get_currentUser();n.load(i),n.executeQueryAsync((function(){var t=i.get_isSiteAdmin();e(t)}),t)}catch(r){t(r)}};if(u)return(0,o.jsx)(Cd.Provider,{value:r,children:n})},Ed=function(t){var n=(0,e.useContext)(Cd),i=a((0,e.useState)([]),2),r=i[0],o=i[1],s=a((0,e.useState)(!0),2),l=s[0],c=s[1],h=a((0,e.useState)(null),2),f=h[0],p=h[1],v="".concat(n.apiBaseUrl,"_api/web/lists/getbytitle('").concat(t,"')/items");return(0,e.useEffect)((function(){var e=function(){var e=d(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kd.get(v,{credentials:"include",headers:{Accept:"application/json;odata=nometadata",Prefer:'odata.include-annotations="none"'}});case 3:t=e.sent,console.log(t.data.value),o(t.data.value),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p(e.t0.message);case 11:return e.prev=11,c(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[v]),{data:(0,e.useMemo)((function(){return r}),[r]),loading:l,error:f}};var Td=function(){var t=(0,e.useContext)(Cd),n=a((0,e.useState)([]),2),i=n[0],r=n[1],s=a((0,e.useState)([]),2),l=s[0],c=s[1],h=a((0,e.useState)([]),2),f=h[0],p=h[1],v=a((0,e.useState)([{name:"Joseph Hartsfield",dsn:"377-3211",squadron:"354th RANS"}]),2),g=(v[0],v[1],function(e){r(e)}),m=a((0,e.useState)([]),2),b=m[0],x=m[1],w=a((0,e.useState)(!1),2),k=w[0],C=w[1],S=function(){C(!1)};function E(e){var t=e.column,n=t.filterValue,i=t.setFilter,r=(t.filteredRows,t.id);return(0,o.jsx)("input",{value:n||"",onChange:function(e){i(e.target.value||void 0)},placeholder:"Search ".concat(r,"...")})}var T=function(){var e=d(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:alert("Copied to clipboard!"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Failed to copy text: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),R=function(e,t){var n,i=Math.abs(e),r=Math.floor(i),a=(60*(i-r)).toFixed(4);if("lat"===t)n=e>=0?"N":"S";else{if("lon"!==t)throw new Error("Type must be 'lat' or 'lon'");n=e>=0?"E":"W"}return"".concat(n).concat(r,"\xb0 ").concat(a,"'")},M=(0,e.useMemo)((function(){return[{name:"CERU5",serialNumber:"CERU5(SN13)",systemType:"UMTE",schedulableItem:"Yes",location:"Zulu-3 / OP 28.5",latitude:"63.834875",longitude:"-145.820617",deviceType:"TK1",threat:"SA6",mxCondition:"RED",status:"A/W Helo",ETIC:"30-Sep-23",remarks:"CEAR Will not power up. Intermittent Communications",statusChangeDate:"Down 15 Aug 23",operationalStatus:"RED"}].filter((function(e){return"Yes"===e.schedulableItem}))}),[]),I=(0,e.useMemo)((function(){return[{Header:"Title",accessor:"Title",Filter:E},{Header:"Serial Number",accessor:"serialNumber",Filter:E},{Header:"System Type",accessor:"systemType",Filter:E},{Header:"Schedulable Item",accessor:"schedulableItem",Filter:E},{Header:"Location",accessor:"location",Filter:E},{Header:"Lat/Long",accessor:function(e){return"".concat(R(e.pointLocationLat,"lat"),", ").concat(R(e.pointLocationLon,"lon"))},Filter:E,Cell:function(e){var t=e.value;return(0,o.jsxs)(o.Fragment,{children:[t,(0,o.jsx)("button",{style:{marginLeft:"5px"},onClick:function(){return T(t)},children:"Copy"})]})}},{Header:"Device Type",accessor:"deviceType",Filter:E},{Header:"Threat",accessor:"threat",Filter:E},{Header:"Maintenance Condition",accessor:"mxCondition",Filter:E,Cell:function(e){var t=e.value;return t?(0,o.jsx)("div",{style:{backgroundColor:t.toLowerCase(),padding:"0.5rem",color:"red"===t.toLowerCase()||"green"===t.toLowerCase()?"white":"black"},children:t}):(0,o.jsx)("div",{children:t})}},{Header:"Status",accessor:"status",Filter:E},{Header:"ETIC",accessor:"ETIC",Filter:E},{Header:"Remarks",accessor:"remarks",Filter:E},{Header:"Status Change Date",accessor:"statusChangeDate",Filter:E},{Header:"Operational Status",accessor:"operationalStatus",Filter:E,Cell:function(e){var t=e.value;return t?(0,o.jsx)("div",{style:{backgroundColor:t.toLowerCase(),padding:"0.5rem",color:"red"===t.toLowerCase()||"green"===t.toLowerCase()?"white":"black"},children:t}):(0,o.jsx)("div",{children:t})}}]}),[]),D=Ed(t.threatList),P=D.data,A=D.loading,N=D.error;return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsx)("div",{style:{width:"45vw"},children:A?(0,o.jsx)(o.Fragment,{children:"Loading..."}):N?(0,o.jsxs)(o.Fragment,{children:["Error! ",N,(0,o.jsx)(y,{columns:I,data:M.filter((function(e){return"Yes"===e.schedulableItem})),onSelectedRowsChange:g})]}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(y,{columns:I,data:P.filter((function(e){return"Yes"===e.schedulableItem})),onSelectedRowsChange:g})})}),(0,o.jsx)("div",{style:{width:"50vw"},children:(0,o.jsx)(Lu,{points:i})})]}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsx)(Hu,{onWeekSelected:function(e){p(e)}}),(0,o.jsx)(ju,{onTimeIntervalsChange:function(e){c(e)}})]}),(0,o.jsx)(_,{selectedThreatData:i,selectedWeek:f,userTimes:l,onSaveData:function(e){x(e),C(!0)}}),k&&(0,o.jsx)(zu,{data:b,onClose:S,onPush:function(){fetch("YOUR_API_ENDPOINT",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}).then((function(e){return e.json()})).then((function(e){console.log(e),S()})).catch((function(e){console.error("Error pushing data:",e)}))}})]})},Rd=n(388),Md={wrap:{display:"flex"},left:{marginRight:"10px"},main:{flexGrow:"1"}},Id=function(){var t=(0,e.useRef)(),n=function(){var e=d(u().mark((function e(n){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.current.control,e.next=3,Rd.DayPilot.Modal.prompt("Update event text:",n.text());case 3:if((r=e.sent).result){e.next=6;break}return e.abrupt("return");case 6:n.data.text=r.result,i.events.update(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=(0,e.useState)({viewType:"Week",durationBarVisible:!1,timeRangeSelectedHandling:"Enabled",onTimeRangeSelected:function(){var e=d(u().mark((function e(n){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.current.control,e.next=3,Rd.DayPilot.Modal.prompt("Create a new event:","Event 1");case 3:if(r=e.sent,i.clearSelection(),r.result){e.next=7;break}return e.abrupt("return");case 7:i.events.add({start:n.start,end:n.end,id:Rd.DayPilot.guid(),text:r.result});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onEventClick:function(){var e=d(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t.e);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),contextMenu:new Rd.DayPilot.Menu({items:[{text:"Delete",onClick:function(){var e=d(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.current.control.events.remove(n.source);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{text:"-"},{text:"Edit...",onClick:function(){var e=d(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t.source);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]}),onBeforeEventRender:function(e){e.data.areas=[{top:3,right:3,width:20,height:20,symbol:"icons/daypilot.svg#minichevron-down-2",fontColor:"#fff",toolTip:"Show context menu",action:"ContextMenu"},{top:3,right:25,width:20,height:20,symbol:"icons/daypilot.svg#x-circle",fontColor:"#fff",action:"None",toolTip:"Delete event",onClick:function(){var e=d(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.current.control.events.remove(n.source);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}];var n=e.data.participants;if(n>0)for(var i=0;i<n;i++)e.data.areas.push({bottom:5,right:5+30*i,width:24,height:24,action:"None",image:"https://picsum.photos/24/24?random=".concat(i),style:"border-radius: 50%; border: 2px solid #fff; overflow: hidden;"})}}),r=a(i,2),s=r[0];r[1];return(0,e.useEffect)((function(){var e=new Date;t.current.control.update({startDate:e,events:[{id:1,text:"Event 1",start:"2023-10-02T10:30:00",end:"2023-10-02T13:00:00",participants:2},{id:2,text:"Event 2",start:"2023-10-03T09:30:00",end:"2023-10-03T11:30:00",backColor:"#6aa84f",participants:1},{id:3,text:"Event 3",start:"2024-10-03T12:00:00",end:"2024-10-03T15:00:00",backColor:"#f1c232",participants:3},{id:4,text:"Event 4",start:"2024-06-01T11:30:00",end:"2024-10-01T14:30:00",backColor:"#cc4125",participants:4}]})}),[]),(0,o.jsxs)("div",{style:Md.wrap,children:[(0,o.jsx)("div",{style:Md.left,children:(0,o.jsx)(Rd.DayPilotNavigator,{selectMode:"Week",showMonths:3,skipMonths:3,startDate:new Date,selectionDay:new Date,onTimeRangeSelected:function(e){t.current.control.update({startDate:e.day})}})}),(0,o.jsx)("div",{style:Md.main,children:(0,o.jsx)(Rd.DayPilotCalendar,v(v({},s),{},{ref:t}))})]})};var Dd=function(){var t=a((0,e.useState)({id:1,isAdmin:!0}),2),n=t[0],i=t[1];return(0,e.useEffect)((function(){var e=function(){var e=d(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i({id:1,isAdmin:!0});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,o.jsx)("div",{children:n?(0,o.jsx)(Id,{currentUser:n}):(0,o.jsx)("p",{children:"Loading..."})})};var Pd=function(){var t=(0,e.useContext)(Cd),n=a((0,e.useState)([]),2),i=n[0],r=n[1],s=function(e){r(e)};function l(e){var t=e.column,n=t.filterValue,i=t.setFilter,r=(t.filteredRows,t.id);return(0,o.jsx)("input",{value:n||"",onChange:function(e){i(e.target.value||void 0)},placeholder:"Search ".concat(r,"...")})}var c=function(){var e=d(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:alert("Ccopied to clipboard!"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Failed to copy text: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e,t){var n,i=Math.abs(e),r=Math.floor(i),a=(60*(i-r)).toFixed(4);if("lat"===t)n=e>=0?"N":"S";else{if("lon"!==t)throw new Error("Type must be 'lat' or 'lon'");n=e>=0?"E":"W"}return"".concat(n).concat(r,"\xb0 ").concat(a,"'")},f=(0,e.useMemo)((function(){return[{name:"CERU5",serialNumber:"CERU5(SN13)",systemType:"UMTE",schedulableItem:"Yes",location:"Zulu-3 / OP 28.5",latitude:"63.834875",longitude:"-145.820617",deviceType:"TK1",threat:"SA6",mxCondition:"RED",status:"A/W Helo",ETIC:"30-Sep-23",remarks:"CEAR Will not power up. Intermittent Communications",statusChangeDate:"Down 15 Aug 23",operationalStatus:"RED"}]}),[]),p=(0,e.useMemo)((function(){return[{Header:"Title",accessor:"Title",Filter:l},{Header:"Serial Number",accessor:"serialNumber",Filter:l},{Header:"System Type",accessor:"systemType",Filter:l},{Header:"Schedulable Item",accessor:"schedulableItem",Filter:l},{Header:"Location",accessor:"location",Filter:l},{Header:"Lat/Long",accessor:function(e){return"".concat(h(e.pointLocationLat,"lat"),", ").concat(h(e.pointLocationLon,"lon"))},Filter:l,Cell:function(e){var t=e.value;return(0,o.jsxs)(o.Fragment,{children:[t,(0,o.jsx)("button",{style:{marginLeft:"5px"},onClick:function(){return c(t)},children:"Copy"})]})}},{Header:"Device Type",accessor:"deviceType",Filter:l},{Header:"Threat",accessor:"threat",Filter:l},{Header:"Maintenance Condition",accessor:"mxCondition",Filter:l,Cell:function(e){var t=e.value;return t?(0,o.jsx)("div",{style:{backgroundColor:t.toLowerCase(),padding:"0.5rem",color:"red"===t.toLowerCase()||"green"===t.toLowerCase()?"white":"black"},children:t}):(0,o.jsx)("div",{children:t})}},{Header:"Status",accessor:"status",Filter:l},{Header:"ETIC",accessor:"ETIC",Filter:l},{Header:"Remarks",accessor:"remarks",Filter:l},{Header:"Status Change Date",accessor:"statusChangeDate",Filter:l},{Header:"Operational Status",accessor:"operationalStatus",Filter:l,Cell:function(e){var t=e.value;return t?(0,o.jsx)("div",{style:{backgroundColor:t.toLowerCase(),padding:"0.5rem",color:"red"===t.toLowerCase()||"green"===t.toLowerCase()?"white":"black"},children:t}):(0,o.jsx)("div",{children:t})}}]}),[]),v=Ed(t.threatList),g=v.data,m=v.loading,b=v.error;return(0,o.jsxs)("div",{style:{width:"95vw"},children:[(0,o.jsx)(Lu,{points:i}),m?(0,o.jsx)(o.Fragment,{children:"Loading..."}):b?(0,o.jsxs)(o.Fragment,{children:["Error! ",b,(0,o.jsx)(y,{columns:p,data:f,onSelectedRowsChange:s})]}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(y,{columns:p,data:g,onSelectedRowsChange:s})})]})},Ad=function(){var t=(0,e.useMemo)((function(){return[{status:"Approved",squadron:"962 AACS",location:"Zulu8A-1",equipThreat:"SA-3 (TK3)",systemType:"UMTE",range:"2202",eventDate:"20 Sep 23",startTime:"13:30L",endTime:"15:0L",poc:"Jeffrey Leslie/962 AACS",pocDsn:"5529211"},{status:"Rejected",squadron:"Falcons",location:"Oscar-1",equipThreat:"SA-3 (T1)",systemType:"Manned",range:"2205",eventDate:"20 Sep 23",startTime:"18:0L",endTime:"19:30L",poc:"/",pocDsn:""}]}),[]),n=(0,e.useMemo)((function(){return[{Header:"Status",accessor:"status"},{Header:"Squadron",accessor:"squadron"},{Header:"Location",accessor:"location"},{Header:"Equip/Threat",accessor:"equipThreat"},{Header:"System Type",accessor:"systemType"},{Header:"Range",accessor:"range"},{Header:"Event Date",accessor:"eventDate"},{Header:"Start Time",accessor:"startTime"},{Header:"End Time",accessor:"endTime"},{Header:"POC",accessor:"poc"},{Header:"POC DSN",accessor:"pocDsn"}]}),[]),i=(0,m.useTable)({columns:n,data:t}),r=i.getTableProps,a=i.getTableBodyProps,s=i.headerGroups,l=i.rows,u=i.prepareRow;return(0,o.jsxs)("div",{className:"tableContainer",children:[(0,o.jsx)("h2",{children:"QAE/COR Report"}),(0,o.jsxs)("table",v(v({},r()),{},{children:[(0,o.jsx)("thead",{children:s.map((function(e){return(0,o.jsx)("tr",v(v({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,o.jsx)("th",v(v({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),(0,o.jsx)("tbody",v(v({},a()),{},{children:l.map((function(e){return u(e),(0,o.jsx)("tr",v(v({},e.getRowProps()),{},{children:e.cells.map((function(e){return(0,o.jsx)("td",v(v({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),(0,o.jsxs)("div",{className:"stats",children:[(0,o.jsxs)("div",{className:"stats-item",children:[(0,o.jsx)("strong",{children:"Total Scheduled:"})," ",t.length]}),(0,o.jsxs)("div",{className:"stats-item",children:[(0,o.jsx)("strong",{children:"Approved:"})," ",t.filter((function(e){return"Approved"===e.status})).length]}),(0,o.jsxs)("div",{className:"stats-item",children:[(0,o.jsx)("strong",{children:"Rejected:"})," ",t.filter((function(e){return"Rejected"===e.status})).length]}),(0,o.jsxs)("div",{className:"stats-item",children:[(0,o.jsx)("strong",{children:"Unique Equip/Threat Scheduled:"})," ",new Set(t.map((function(e){return e.equipThreat}))).size]}),(0,o.jsxs)("div",{className:"stats-item",children:[(0,o.jsx)("strong",{children:"Unique Squadrons Scheduled:"})," ",new Set(t.map((function(e){return e.squadron}))).size]}),(0,o.jsxs)("div",{className:"stats-item",children:[(0,o.jsx)("strong",{children:"Unique Locations Scheduled:"})," ",new Set(t.map((function(e){return e.location}))).size]})]})]})};var Nd=function(){var t=(0,e.useContext)(Cd),n=a((0,e.useState)([]),2),i=(n[0],n[1]),r=function(e){i(e)};function s(e){var t=e.column,n=t.filterValue,i=t.setFilter,r=(t.filteredRows,t.id);return(0,o.jsx)("input",{value:n||"",onChange:function(e){i(e.target.value||void 0)},placeholder:"Search ".concat(r,"...")})}var l=(0,e.useMemo)((function(){return[{name:"CERU5",serialNumber:"CERU5(SN13)",systemType:"UMTE",schedulableItem:"Yes",location:"Zulu-3 / OP 28.5",latitude:"63.834875",longitude:"-145.820617",deviceType:"TK1",threat:"SA6",mxCondition:"RED",status:"A/W Helo",ETIC:"30-Sep-23",remarks:"CEAR Will not power up. Intermittent Communications",statusChangeDate:"Down 15 Aug 23",operationalStatus:"RED"}].filter((function(e){return"Yes"===e.schedulableItem}))}),[]),u=Ed(t.threatList),c=u.data,d=u.loading,h=u.error,f=(0,e.useMemo)((function(){return[{Header:"Title",accessor:"Title",Filter:s},{Header:"Serial Number",accessor:"serialNumber",Filter:s},{Header:"System Type",accessor:"systemType",Filter:s},{Header:"Schedulable Item",accessor:"schedulableItem",Filter:s},{Header:"Location",accessor:"location",Filter:s},{Header:"Latitude",accessor:"pointLocationLat",Filter:s},{Header:"Longitude",accessor:"pointLocationLon",Filter:s},{Header:"Device Type",accessor:"deviceType",Filter:s},{Header:"Threat",accessor:"threat",Filter:s},{Header:"Maintenance Condition",accessor:"mxCondition",Filter:s,Cell:function(e){var t=e.value;return t?(0,o.jsx)("div",{style:{backgroundColor:t.toLowerCase(),padding:"0.5rem",color:"red"===t.toLowerCase()||"green"===t.toLowerCase()?"white":"black"},children:t}):(0,o.jsx)("div",{children:t})}},{Header:"Status",accessor:"status",Filter:s},{Header:"ETIC",accessor:"ETIC",Filter:s},{Header:"Remarks",accessor:"remarks",Filter:s},{Header:"Status Change Date",accessor:"statusChangeDate",Filter:s},{Header:"Operational Status",accessor:"operationalStatus",Filter:s,Cell:function(e){var t=e.value;return t?(0,o.jsx)("div",{style:{backgroundColor:t.toLowerCase(),padding:"0.5rem",color:"red"===t.toLowerCase()||"green"===t.toLowerCase()?"white":"black"},children:t}):(0,o.jsx)("div",{children:t})}}]}),[]);return(0,o.jsx)("div",{style:{justifyContent:"space-between",width:"95vw"},children:d?(0,o.jsx)(o.Fragment,{children:"Loading..."}):h?(0,o.jsxs)(o.Fragment,{children:["Error! ",h,(0,o.jsx)(y,{columns:f,data:l,onSelectedRowsChange:r})]}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(y,{columns:f,data:c,onSelectedRowsChange:r})})})},Ld=function(){var t=(0,e.useContext)(Cd),n=a((0,e.useState)(null),2),i=n[0],r=n[1],l=a((0,e.useState)(null),2),u=l[0],c=l[1],d=a((0,e.useState)(!1),2),h=d[0];d[1];if((0,e.useEffect)((function(){console.log("config",t),r(t)}),[t]),i)return(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsxs)(s,{show:"Menu",hide:"Hide Menu",defaultCollapsed:h,children:[(0,o.jsx)("button",{onClick:function(){return c("emitterScheduling")},children:"Emitter Scheduling"}),(0,o.jsx)("button",{onClick:function(){return c("otherScheduling")},children:"SAM/MANPAD Scheduling"}),(0,o.jsx)("button",{onClick:function(){return c("scheduledEmitters")},children:"View Scheduled Emitters Calendar"}),(0,o.jsx)("button",{onClick:function(){return c("mapTools")},children:"Map and Tools"}),(0,o.jsx)("button",{onClick:function(){return c("metrics")},children:"Metrics"}),(!0===i.admin||!0===i.admin)&&(0,o.jsx)("button",{onClick:function(){return c("admin")},children:"Admin"}),!0===i.debug&&(0,o.jsx)("button",{onClick:function(){return c("debug")},children:"Debug"})]}),null===u&&(0,o.jsx)("div",{children:(0,o.jsx)("h2",{children:"Welcome to the JESTR"})}),"emitterScheduling"===u&&(0,o.jsx)("div",{children:(0,o.jsx)(Td,{})}),"otherScheduling"===u&&(0,o.jsx)("div",{children:"otherScheduling"}),"scheduledEmitters"===u&&(0,o.jsx)("div",{children:(0,o.jsx)(Dd,{})}),"mapTools"===u&&(0,o.jsx)("div",{children:(0,o.jsx)(Pd,{})}),"metrics"===u&&(0,o.jsx)("div",{children:(0,o.jsx)(Ad,{})}),"admin"===u&&(0,o.jsx)("div",{children:(0,o.jsx)(Nd,{})}),"debug"===u&&(0,o.jsx)("div",{children:"debug"})]})};t.createRoot(document.getElementById("root")).render((0,o.jsx)(Sd,{children:(0,o.jsx)(Ld,{})}))}()}();
//# sourceMappingURL=main.565c0345.js.map